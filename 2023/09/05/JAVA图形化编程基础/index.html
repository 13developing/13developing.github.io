<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    <meta name="description" content="Hexo Theme Redefine">
    <meta name="author" content="HJD">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-redefine.png">
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2023/09/05/java图形化编程基础/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    <meta property="og:type" content="article">
    <meta property="og:title" content="JAVA图形化编程基础">
    <meta property="og:description" content="Hexo Theme Redefine">
    <meta property="og:url" content="http://example.com2023/09/05/JAVA图形化编程基础/">
    <meta property="og:image" content="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081253863.jpeg">
    <meta property="og:site_name" content="HJDの个人博客">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="JAVA图形化编程基础">
    <meta name="twitter:description" content="Hexo Theme Redefine">
    <meta name="twitter:image" content="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081253863.jpeg">
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081253863.jpeg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081253863.jpeg">
    <meta name="theme-color" content="#005080">
    <link rel="shortcut icon" href="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081253863.jpeg">
    
    <title>
        
            JAVA图形化编程基础 -
        
        HJDの个人博客
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/assets/fonts.css">

    
    
    
    
    <script id="hexo-configurations">
    let REDEFINE = window.REDEFINE || {};
    REDEFINE.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.xml"};
    REDEFINE.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#005080","avatar":"https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081253296.jpg","favicon":"https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081253863.jpeg","article_img_align":"center","right_side_width":"210px","content_max_width":"1000px","nav_color":{"left":"#f78736","right":"#367df7","transparency":35},"hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_image":{"light":"https://evan.beee.top/img/wallhaven-wqery6-light.webp","dark":"https://evan.beee.top/img/wallhaven-wqery6-dark.webp"},"title_color":{"light":"#1abc9c","dark":"#1abc9c"},"description":"WELCOME TO H-J-D の 博客","custom_font":{"enable":false,"font_family":null,"font_url":null}},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":true,"trigger":"auto","top_n_per_article":1,"unescape":false},"code_block":{"copy":true,"style":"mac","custom_font":{"enable":false,"font_family":null,"font_url":null}},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"1.1.6","friend_links":{"columns":2},"home_article":{"date_format":"auto","category":{"enable":true,"limit":3},"tag":{"enable":true,"limit":3}},"plugins":{"aplayer":{"enable":true,"audio":[{"name":"Gentleman","artist":"戴爱玲、刘伟德","url":"/aplayer/Gentleman.mp3","cover":"https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081248218.png"},{"name":"Alone In Lonely","artist":"羽泉","url":"/aplayer/Alone In Lonely.mp3","cover":"https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081247106.png"},{"name":"逍遥叹","artist":"胡歌","url":"/aplayer/逍遥叹.mp3","cover":"https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081248495.png"}]}}};
    REDEFINE.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
    
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="menu-wrapper">
    
    <div class="menu-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                HJDの个人博客
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="pc">
                <ul class="menu-list">
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        HOME
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/archives"  >
                                    
                                        
                                            <i class="fa-regular fa-book"></i>
                                        
                                        ARTICLE
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/MyProject/tests.html"  >
                                    
                                        
                                            <i class="fa-regular fa-chart-bar"></i>
                                        
                                        PROJECT
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="menu-drawer">
        <ul class="drawer-menu-list">
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                HOME
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/archives"  >
                             
                                
                                    <i class="fa-regular fa-book"></i>
                                
                                ARTICLE
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/MyProject/tests.html"  >
                             
                                
                                    <i class="fa-regular fa-chart-bar"></i>
                                
                                PROJECT
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
            
                <div class="article-title">
                    <h1 class="article-title-regular">JAVA图形化编程基础</h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202303081253296.jpg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">HJD</span>
                            
                                <span class="author-label">lol</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="pc">2023-09-05 10:57:49</span>
        <span class="mobile">2023-09-05 10:57</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="pc">2023-09-05 10:58:07</span>
            <span class="mobile">2023-09-05 10:58</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
    

    
    
    
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <h1 id="AWT-编程"><a href="#AWT-编程" class="headerlink" title="AWT 编程"></a>AWT 编程</h1><h2 id="1-1-AWT简介"><a href="#1-1-AWT简介" class="headerlink" title="1.1 AWT简介"></a>1.1 AWT简介</h2><p>​    即”抽象窗口工具集 （Abstract Window Toolkit )”，它为Java应用程序提供了基本的图形组件 。 AWT是窗口框架，它从不同平台的窗口系统中抽取出共同组件 ， 当程序运行时，将这些组件的创建和动作委托给程序所在的运行平台 。  </p>
<h2 id="1-2-AWT继承体系"><a href="#1-2-AWT继承体系" class="headerlink" title="1.2 AWT继承体系"></a>1.2 AWT继承体系</h2><p>所有和 AWT 编程相关的类都放在 java.awt 包以及它的子包中， AWT <em>编程中有两个</em>基类 :<strong>Component 和 MenuComponent。</strong></p>
<ul>
<li>Component：代表一个能以图形化方式显示出来，并可与用户交互的对象，例如 Button 代表一个按钮，TextField 代表 一个文本框等；</li>
<li>MenuComponent：则代表图形界面的菜单组件，包括 MenuBar (菜单条)、 Menultem (菜单项)等子类。</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031025423.png"
                      alt="image-20230403102540206"
                ></p>
<p>其中 Container 是一种特殊的 Component，它代表一种<strong>容器</strong>，可以盛装普通的 Component。</p>
<p>AWT中还有一个非常重要的接口叫LayoutManager ，如果一个容器中有多个组件，那么容器就需要使用LayoutManager来管理这些组件的布局方式。</p>
<h3 id="下面使其常用组件-："><a href="#下面使其常用组件-：" class="headerlink" title="下面使其常用组件 ："></a>下面使其常用组件 ：</h3><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031117158.png"
                      alt="image-20230403111750804" style="zoom: 50%;" 
                >



<h2 id="1-3-Container容器"><a href="#1-3-Container容器" class="headerlink" title="1.3 Container容器"></a>1.3 Container容器</h2><h3 id="1-3-1-Container继承体系"><a href="#1-3-1-Container继承体系" class="headerlink" title="1.3.1 Container继承体系"></a>1.3.1 Container继承体系</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031027546.png"
                      alt="image-20230403102700368"
                ></p>
<blockquote>
<ul>
<li>​	Winow是可以独立存在的<strong>顶级窗口</strong>,默认使用BorderLayout管理其内部组件布局;</li>
<li>​        Panel可以容纳其他组件，但不能独立存在，<strong>它必须内嵌其他容器中使用</strong>，默认使用FlowLayout管理其内部组件布局；</li>
<li>​        ScrollPane 是 一个带滚动条的容器，它<strong>也不能独立存在</strong>，默认使用 BorderLayout 管理其内部组件布局；</li>
</ul>
</blockquote>
<h3 id="1-3-2-常见API"><a href="#1-3-2-常见API" class="headerlink" title="1.3.2 常见API"></a>1.3.2 常见API</h3><p><em>API 是用于构建应用程序软件的一组子程序定义，协议和工具。一般来说，这是一套明确定义的各种软件组件之间的通信方法</em></p>
<ul>
<li>Component作为基类，提供了如下常用的方法来设置组件的大小、位置、可见性等。</li>
</ul>
<table>
<thead>
<tr>
<th>方法签名</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>setLocation(int x, int y)</td>
<td>设置组件的位置。</td>
</tr>
<tr>
<td>setSize(int width, int height)</td>
<td>设置组件的大小。</td>
</tr>
<tr>
<td>setBounds(int x, int y, int width, int height)</td>
<td>同时设置组件的位置、大小。</td>
</tr>
<tr>
<td>setVisible(Boolean b):</td>
<td>设置该组件的可见性。</td>
</tr>
</tbody></table>
<p>+++++</p>
<ul>
<li>Container作为容器根类，提供了如下方法来访问容器中的组件</li>
</ul>
<table>
<thead>
<tr>
<th>方法签名</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>Component add(Component comp)</td>
<td>向容器中添加其他组件 (该组件既可以是普通组件，也可以 是容器) ， 并返回被添加的组件 。</td>
</tr>
<tr>
<td>Component getComponentAt(int x, int y):</td>
<td>返回指定点的组件 。</td>
</tr>
<tr>
<td>int getComponentCount():</td>
<td>返回该容器内组件的数量 。</td>
</tr>
<tr>
<td>Component[] getComponents():</td>
<td>返回该容器内的所有组件 。</td>
</tr>
</tbody></table>
<h3 id="1-3-3-容器演示"><a href="#1-3-3-容器演示" class="headerlink" title="1.3.3 容器演示"></a>1.3.3 容器演示</h3><h4 id="1-3-3-1-Window"><a href="#1-3-3-1-Window" class="headerlink" title="1.3.3.1 Window"></a>1.3.3.1 Window</h4><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031028089.png"
                      alt="image-20230403102854915" style="zoom:50%;" 
                >

<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FrameDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建窗口对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这是第一个窗口容器&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置窗口的位置和大小</span></span><br><span class="line"></span><br><span class="line">        frame.setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">500</span>,<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置窗口可见</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h4 id="2-3-3-2-Panel"><a href="#2-3-3-2-Panel" class="headerlink" title="2.3.3.2 Panel"></a>2.3.3.2 Panel</h4><p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031029667.png"
                      alt="image-20230403102906495" style="zoom:33%;" 
                >)</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PanelDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Frame容器对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里在测试Panel&quot;</span>);</span><br><span class="line">        <span class="comment">//2.创建Panel容器对象</span></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">panel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.往Panel容器中添加组件</span></span><br><span class="line">        panel.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">&quot;这是一个测试文本&quot;</span>));    <span class="comment">//  匿名对象</span></span><br><span class="line">        panel.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;这是一个测试按钮&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        panel.setBackground(Color.pink);   <span class="comment">//这里是自己加的</span></span><br><span class="line">        frame.setBackground(Color.green); <span class="comment">//这里是自己加的   ，最终呈现的颜色是 panel 的 pink</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.把Panel添加到Frame中</span></span><br><span class="line">        frame.add(panel);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.设置Frame的位置和大小</span></span><br><span class="line">        frame.setBounds(<span class="number">30</span>,<span class="number">30</span>,<span class="number">500</span>,<span class="number">300</span>);     x , y ,w , h</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.设置Frame可见</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>由于IDEA默认使用utf-8进行编码，但是当前我们执行代码是是在windows系统上，而windows操作系统的默认编码是gbk，所以会乱码，如果出现了乱码，那么只需要在运行当前代码前，设置一个jvm参数  -Dfile.encoding&#x3D;gbk即可。</p>
<h4 id="2-3-3-3-ScrollPane"><a href="#2-3-3-3-ScrollPane" class="headerlink" title="2.3.3.3 ScrollPane"></a>2.3.3.3 ScrollPane</h4><p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031029699.png"
                      alt="image-20230403102919519" style="zoom: 50%;" 
                ></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScrollPaneDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Frame窗口对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试ScrollPane&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建ScrollPane对象，并且指定默认有滚动条</span></span><br><span class="line">        <span class="type">ScrollPane</span> <span class="variable">scrollPane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ScrollPane</span>(ScrollPane.SCROLLBARS_ALWAYS);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.往ScrollPane中添加组件</span></span><br><span class="line">        scrollPane.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">&quot;这是测试文本&quot;</span>));</span><br><span class="line">        scrollPane.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;这是测试按钮&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.把ScrollPane添加到Frame中</span></span><br><span class="line">        frame.add(scrollPane);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.设置Frame的位置及大小</span></span><br><span class="line">        frame.setBounds(<span class="number">30</span>,<span class="number">30</span>,<span class="number">500</span>,<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.设置Frame可见</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>程序明明向 ScrollPane 容器中添加了 一个文本框和一个按钮，但只能看到 一个按钮，却看不到文本框 ，这是为什么 呢?这是因为ScrollPane 使用 BorderLayout 布局管理器的缘故，而 BorderLayout 导致了该容器中只有一个组件被显示出来 。 </p>
<h2 id="1-4-LayoutManager布局管理器"><a href="#1-4-LayoutManager布局管理器" class="headerlink" title="1.4 LayoutManager布局管理器"></a>1.4 LayoutManager布局管理器</h2><p>Component中有一个方法 setBounds() 可以设置当前容器的位置和大小，但是我们需要明确一件事，若手动的为组件设置位置和大小的话，就会造成程序的不通用性，例如：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Label</span> <span class="variable">label</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;你好，世界&quot;</span>);</span><br></pre></td></tr></table></figure></div>

<p>创建了一个lable组件，很多情况下，我们需要让lable组件的宽高和“你好，世界”这个字符串自身的宽高一致，这种大小称为<strong>最佳大小</strong>。由于操作系统存在差异，例如在windows上，我们要达到这样的效果，需要把该Lable组件的宽和高分别设置为100px,20px,但是在Linux操作系统上，可能需要把Lable组件的宽和高分别设置为120px，24px，才能达到同样的效果。</p>
<p>如果要让我么的程序在不同的操作系统下，都有相同的使用体验，那么手动设置组件的位置和大小，无疑是一种灾难，因为有太多的组件，需要分别设置不同操作系统下的大小和位置。为了解决这个问题，Java提供了LayoutManager布局管理器，<strong>可以根据运行平台来自动调整组件大小，</strong>程序员不用再手动设置组件的大小和位置了，只需要为容器选择合适的布局管理器即可。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031121279.png"
                      alt="image-20230403112143090"
                ></p>
<h3 id="1-4-1-FlowLayout-流式布局管理器"><a href="#1-4-1-FlowLayout-流式布局管理器" class="headerlink" title="1.4.1 FlowLayout  流式布局管理器"></a>1.4.1 FlowLayout <code> 流式布局管理器</code></h3><p>​        在 FlowLayout 布局管理器 中，组件像水流一样向某方向流动 (排列) ，遇到障碍(边界)就折回，重头开始排列 。<strong>在默认情况下</strong>， FlowLayout 布局管理器从左向右排列所有组件，遇到边界就会折回下一行重新开始。</p>
<table>
<thead>
<tr>
<th>构造方法</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>FlowLayout()</td>
<td>使用默认 的对齐方式及默认的水平间距、垂直间距创建 FlowLayout 布局管理器。</td>
</tr>
<tr>
<td>FlowLayout(int align)</td>
<td>使用指定的对齐方式及默认的水平间距、垂直间距创建 FlowLayout 布局管理器。</td>
</tr>
<tr>
<td>FlowLayout(int align,int vgap，int hgap)</td>
<td>使用指定的对齐方式及指定的水平间距、垂直间距创建FlowLayout 布局管理器。</td>
</tr>
</tbody></table>
<p><strong>align参数的取值</strong> : FlowLayout. LEFT 、 FlowLayout. CENTER 、 FlowLayout. RIGHT ，默认是左对齐。</p>
<p><strong>代码演示：</strong></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031502628.png"
                      alt="image-20230403150240438"
                ></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FlowLayoutDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Frame对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试FlowLayout&quot;</span>);</span><br><span class="line">        <span class="comment">//2.修改Frame容器的布局管理器为FlowLayout</span></span><br><span class="line">        frame.setLayout(<span class="keyword">new</span> <span class="title class_">FlowLayout</span>(FlowLayout.LEFT,<span class="number">20</span>,<span class="number">20</span>));   <span class="comment">//先是水平间距，再是垂直间距</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.往Frame中添加100个button</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;按钮&quot;</span>+i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.设置Frame为最佳大小    </span></span><br><span class="line">        frame.pack();      <span class="comment">//Frame.pack()这个方法的作用就是根据窗口里面的布局及组件的preferedSize来确定frame的最佳大小。</span></span><br><span class="line">        <span class="comment">//5.设置Frame可见</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="1-4-2-BorderLayout-边框布局管理器"><a href="#1-4-2-BorderLayout-边框布局管理器" class="headerlink" title="1.4.2 BorderLayout 边框布局管理器"></a>1.4.2 BorderLayout <code>边框布局管理器</code></h3><p>BorderLayout 将容器分为 EAST 、 SOUTH 、 WEST 、 NORTH 、 CENTER五个区域，普通组件可以被放置在这 5 个区域的任意一个中 。 BorderLayout布局 管理器的布局示意图如图所示 。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031502756.png"
                      alt="image-20230403150251576" style="zoom:40%;" 
                >

<p>当改变使用 BorderLayout 的容器大小时， NORTH 、 SOUTH 和 CENTER区域水平调整，而 EAST 、 WEST 和 CENTER 区域垂直调整。使用BorderLayout 有如下两个注意点:</p>
<ol>
<li>当向使用 BorderLayout 布局管理器的容器中添加组件时 ， 需要指定要添加到哪个区域中 。 如果没有指定添加到哪个区域中，则<strong>默认添加到中间区域中</strong>；</li>
<li>如果向同一个区域中添加多个组件时 ， <strong>后放入的组件会覆盖先放入的组件；</strong></li>
</ol>
<table>
<thead>
<tr>
<th>构造方法</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>BorderLayout()</td>
<td>使用默认的水平间距、垂直 间距创建 BorderLayout 布局管理器 。</td>
</tr>
<tr>
<td>BorderLayout(int hgap,int vgap):</td>
<td>使用指定的水平间距、垂直间距创建 BorderLayout 布局管理器。</td>
</tr>
</tbody></table>
<p><strong>代码演示1:</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031505408.png"
                      alt="image-20230403150514227" style="zoom:50%;" 
                >

<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BorderLayoutDemo1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Frame对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试BorderLayout&quot;</span>);</span><br><span class="line">        <span class="comment">//2.指定Frame对象的布局管理器为BorderLayout</span></span><br><span class="line">        frame.setLayout(<span class="keyword">new</span> <span class="title class_">BorderLayout</span>(<span class="number">30</span>,<span class="number">5</span>));         <span class="comment">//   设置布局 </span></span><br><span class="line">        <span class="comment">//3.往Frame指定东南西北中各添加一个按钮组件</span></span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;东侧按钮&quot;</span>), BorderLayout.EAST);      <span class="comment">//  规划布局</span></span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;西侧按钮&quot;</span>), BorderLayout.WEST);</span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;南侧按钮&quot;</span>), BorderLayout.SOUTH);</span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;北侧按钮&quot;</span>), BorderLayout.NORTH);   </span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;中间按钮&quot;</span>), BorderLayout.CENTER);</span><br><span class="line">        <span class="comment">//4.设置Frame为最佳大小</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        <span class="comment">//5.设置Frame可见</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p>如果不往某个区域中放入组件，那么该区域不会空白出来，而是会被其他区域占用</p>
<p><strong>代码演示2:</strong></p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031520737.png"
                      alt="image-20230403152042541" style="zoom:50%;" 
                ></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BorderLayoutDemo2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Frame对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试BorderLayout&quot;</span>);</span><br><span class="line">        <span class="comment">//2.指定Frame对象的布局管理器为BorderLayout</span></span><br><span class="line">        frame.setLayout(<span class="keyword">new</span> <span class="title class_">BorderLayout</span>(<span class="number">30</span>,<span class="number">5</span>));</span><br><span class="line">        <span class="comment">//3.往Frame指定南，北，放入一个按钮，往中间区域放入一个Panel</span></span><br><span class="line"></span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;南侧按钮&quot;</span>), BorderLayout.SOUTH);</span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;北侧按钮&quot;</span>), BorderLayout.NORTH);</span><br><span class="line"></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">panel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line">        panel.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">&quot;测试文本&quot;</span>));</span><br><span class="line">        panel.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;中间按钮&quot;</span>));</span><br><span class="line"></span><br><span class="line">        frame.add(panel, BorderLayout.CENTER);</span><br><span class="line">	</span><br><span class="line">        <span class="comment">//4.设置Frame为最佳大小</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        <span class="comment">//5.设置Frame可见</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="1-4-3-GridLayout-网格布局管理器"><a href="#1-4-3-GridLayout-网格布局管理器" class="headerlink" title="1.4.3 GridLayout   网格布局管理器"></a>1.4.3 GridLayout   <code>网格布局管理器</code></h3><p>​        GridLayout 布局管理器将容器分割成纵横线分隔的网格 ， <strong>每个网格所占的区域大小相同</strong>。当向使用 GridLayout 布局管理器的容器中添加组件时， <strong>默认从左向右、 从上向下依次添加到每个网格中</strong> 。 与 FlowLayout不同的是，放置在 GridLayout 布局管理器中的各组件的大小由组件所处的区域决定(每 个组件将自动占满整个区域) 。    </p>
<table>
<thead>
<tr>
<th>构造方法</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>GridLayout(int rows,in t cols)</td>
<td>采用指定的行数、列数，以及默认的横向间距、纵向间距将容器 分割成多个网格</td>
</tr>
<tr>
<td>GridLayout(int rows,int cols,int hgap,int vgap)</td>
<td>采用指定 的行数、列 数 ，以及指定的横向间距 、 纵向间距将容器分割成多个网格。</td>
</tr>
</tbody></table>
<p><strong>案例：</strong></p>
<p>​	使用Frame+Panel，配合FlowLayout和GridLayout完成一个计算器效果。</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031520583.png"
                      alt="image-20230403152022376" style="zoom: 50%;" 
                ></p>
<p><strong>代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GridLayoutDemo</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.创建Frame对象，并且标题设置为计算器</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;计算器&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建一个Panel对象，并且往Panel中放置一个TextField组件</span></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line">        p1.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="number">30</span>));   <span class="comment">//      限制宽度</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.把上述的Panel放入到Frame的北侧区域</span></span><br><span class="line">		frame.setLayout(<span class="keyword">new</span> <span class="title class_">BorderLayout</span>());    <span class="comment">//这一句是可以省的</span></span><br><span class="line">        frame.add(p1,BorderLayout.NORTH);     </span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.创建一个Panel对象，并且设置其布局管理器为GridLayout</span></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line">        p2.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">4</span>));     </span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.往上述Panel中，放置15个按钮，内容依次是：0,1,2,3,4,5,6，7,8,9，+，-，*，/,.</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            p2.add(<span class="keyword">new</span> <span class="title class_">Button</span>(i+<span class="string">&quot;&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        p2.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;+&quot;</span>));</span><br><span class="line">        p2.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;-&quot;</span>));</span><br><span class="line">        p2.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;*&quot;</span>));</span><br><span class="line">        p2.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;/&quot;</span>));</span><br><span class="line">        p2.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;.&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.把上述Panel添加到Frame的中间区域中国</span></span><br><span class="line">        frame.add(p2);     <span class="comment">//   默认center</span></span><br><span class="line">        <span class="comment">//7.设置Frame为最佳大小</span></span><br><span class="line">        frame.pack();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//8.设置Frame可见</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="1-4-4-GridBagLayout-网格包布局管理器"><a href="#1-4-4-GridBagLayout-网格包布局管理器" class="headerlink" title="1.4.4 GridBagLayout  网格包布局管理器"></a>1.4.4 GridBagLayout  <code>网格包布局管理器</code></h3><p>GridBagLayout 布局管理器的**功能最强大 **， 但也最复杂，与 GridLayout 布局管理器不同的是， 在GridBagLayout 布局管理器中，一个组件可以跨越一个或多个网格 ， 并可以设置各网格的大小互不相同，从而增加了布局的灵活性 。 当窗口的大小发生变化时 ， GridBagLayout 布局管理器也可以准确地控制窗口各部分的拉伸 。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031521954.png"
                      alt="image-20230403152102743"
                ></p>
<p>由于在GridBagLayout 布局中，每个组件可以占用多个网格，此时，我们往容器中添加组件的时候，就需要具体的控制每个组件占用多少个网格，<strong>利用GridBagConstaints类，与特定的组件绑定，可以完成具体大小和跨越性的设置。</strong></p>
<p><strong>GridBagConstraints API:</strong></p>
<table>
<thead>
<tr>
<th>成员变量</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>gridx</td>
<td>设置受该对象控制的GUI组件左上角所在网格的横向索引</td>
</tr>
<tr>
<td>gridy</td>
<td>设置受该对象控制的GUI组件左上角所在网格的纵向索引</td>
</tr>
<tr>
<td>gridwidth</td>
<td>设置受该对象控制的 GUI 组件横向跨越多少个网格,如果属性值为 GridBagContraints.REMAIND,则表明当前组件是横向最后一个组件，如果属性值为GridBagConstraints.RELATIVE,表明当前组件是横向倒数第二个组件。</td>
</tr>
<tr>
<td>gridheight</td>
<td>设置受该对象控制的 GUI 组件纵向跨越多少个网格，如果属性值为 GridBagContraints.REMAIND,则表明当前组件是纵向最后一个组件，如果属性值为GridBagConstraints.RELATIVE,表明当前组件是纵向倒数第二个组件。</td>
</tr>
<tr>
<td>fill</td>
<td>当”显示区域”大于”组件”的时候,如何调整组件 ：<br/> GridBagConstraints.NONE : GUI 组件不扩大<br/> GridBagConstraints.HORIZONTAL: GUI 组件水平扩大 以 占据空白区域<br/> GridBagConstraints.VERTICAL: GUI 组件垂直扩大以占据空白区域<br/> GridBagConstraints.BOTH: GUI 组件水平 、 垂直同时扩大以占据空白区域.</td>
</tr>
<tr>
<td>ipadx</td>
<td>设置受该对象控制的 GUI 组件横向内部填充的大小，即 在该组件最小尺寸的基础上还需要增大多少.</td>
</tr>
<tr>
<td>ipady</td>
<td>设置受该对象控制的 GUI 组件纵向内部填充的大小，即 在该组件最小尺寸的基础上还需要增大多少.</td>
</tr>
<tr>
<td>insets</td>
<td>设置受该对象控制 的 GUI 组件的 外部填充的大小 ， 即该组件边界和显示区 域边界之间的 距离 .</td>
</tr>
<tr>
<td>weightx</td>
<td>设置受该对象控制 的 GUI 组件占据多余空间的水平比例， 假设某个容器 的水平线上包括三个 GUI 组件， 它们的水平增加比例分别是 1 、 2 、 3 ， 但容器宽度增加 60 像素 时，则第一个组件宽度增加 10 像素 ， 第二个组件宽度增加 20 像素，第三个组件宽度增加 30 像 素。 如 果其增 加比例为 0 ， 则 表示不会增加 。</td>
</tr>
<tr>
<td>weighty</td>
<td>设置受该对象控制 的 GUI 组件占据多余空间的垂直比例</td>
</tr>
<tr>
<td>anchor</td>
<td>设置受该对象控制 的 GUI 组件在其显示区域中的定位方式:<br/>GridBagConstraints .CENTER (中 间 )<br/>GridBagConstraints.NORTH (上中 ) <br/>GridBagConstraints.NORTHWEST (左上角)<br/>GridBagConstraints.NORTHEAST (右上角)<br/>GridBagConstraints.SOUTH (下中) <br/>GridBagConstraints.SOUTHEAST (右下角)<br/>GridBagConstraints.SOUTHWEST (左下角)<br/>GridBagConstraints.EAST (右中) <br/>GridBagConstraints.WEST (左中)</td>
</tr>
</tbody></table>
<p><strong>GridBagLayout使用步骤：</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1.创建GridBagLaout布局管理器对象，并给容器设置该布局管理器对象；</span><br><span class="line"></span><br><span class="line">2.创建GridBagConstraints对象，并设置该对象的控制属性：</span><br><span class="line"></span><br><span class="line">	gridx: 用于指定组件在网格中所处的横向索引；</span><br><span class="line"></span><br><span class="line">	gridy: 用于执行组件在网格中所处的纵向索引；</span><br><span class="line"></span><br><span class="line">	gridwidth: 用于指定组件横向跨越多少个网格；</span><br><span class="line"></span><br><span class="line">	gridheight: 用于指定组件纵向跨越多少个网格；</span><br><span class="line"></span><br><span class="line">3.调用GridBagLayout对象的 setConstraints(Component c,GridBagConstraints gbc ) 方法，把即将要添加到容器中的组件c和GridBagConstraints对象关联起来；</span><br><span class="line"></span><br><span class="line">4. 把组件添加到容器中；</span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	使用Frame容器，设置GridBagLayout布局管理器，实现下图中的效果：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031521851.png"
                      alt="image-20230403152133635" style="zoom:50%;" 
                >

<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GridBagLayoutDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Frame对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里是GridBagLayout测试&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建GridBagLayout对象</span></span><br><span class="line">        <span class="type">GridBagLayout</span> <span class="variable">gbl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridBagLayout</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.把Frame对象的布局管理器设置为GridBagLayout</span></span><br><span class="line">        frame.setLayout(gbl);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.创建GridBagConstraints对象</span></span><br><span class="line">        <span class="type">GridBagConstraints</span> <span class="variable">gbc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridBagConstraints</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.创建容量为10的Button数组</span></span><br><span class="line">        Button[] bs = <span class="keyword">new</span> <span class="title class_">Button</span>[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.遍历数组，初始化每一个Button</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; bs.length; i++) &#123;</span><br><span class="line">            bs[i] = <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;按钮&quot;</span>+(i+<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.设置所有的GridBagConstraints对象的fill属性为GridBagConstraints.BOTH,当有空白区域时，组件自动扩大占满空白区域</span></span><br><span class="line">        gbc.fill=GridBagConstraints.BOTH;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//8.设置GridBagConstraints对象的weightx设置为1,表示横向扩展比例为1</span></span><br><span class="line">        gbc.weightx=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//9.往frame中添加数组中的前3个Button</span></span><br><span class="line">        addComponent(frame,bs[<span class="number">0</span>],gbl,gbc);</span><br><span class="line">        addComponent(frame,bs[<span class="number">1</span>],gbl,gbc);</span><br><span class="line">        addComponent(frame,bs[<span class="number">2</span>],gbl,gbc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//10.把GridBagConstraints的gridwidth设置为GridBagConstraints.REMAINDER,则表明当前组件是横向最后一个组件</span></span><br><span class="line">        gbc.gridwidth=GridBagConstraints.REMAINDER;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//11.把button数组中第四个按钮添加到frame中</span></span><br><span class="line">        addComponent(frame,bs[<span class="number">3</span>],gbl,gbc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//12.把GridBagConstraints的weighty设置为1，表示纵向扩展比例为1</span></span><br><span class="line">        gbc.weighty=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//13.把button数组中第5个按钮添加到frame中</span></span><br><span class="line">        addComponent(frame,bs[<span class="number">4</span>],gbl,gbc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//14.把GridBagConstaints的gridheight和gridwidth设置为2，表示纵向和横向会占用两个网格</span></span><br><span class="line">        gbc.gridheight=<span class="number">2</span>;</span><br><span class="line">        gbc.gridwidth=<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//15.把button数组中第6个按钮添加到frame中</span></span><br><span class="line">        addComponent(frame,bs[<span class="number">5</span>],gbl,gbc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//16.把GridBagConstaints的gridheight和gridwidth设置为1，表示纵向会占用1个网格</span></span><br><span class="line">        gbc.gridwidth=<span class="number">1</span>;</span><br><span class="line">        gbc.gridheight=<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//17.把button数组中第7个按钮添加到frame中</span></span><br><span class="line">        addComponent(frame,bs[<span class="number">6</span>],gbl,gbc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//18.把GridBagConstraints的gridwidth设置为GridBagConstraints.REMAINDER,则表明当前组件是横向最后一个组件</span></span><br><span class="line">        gbc.gridwidth=GridBagConstraints.REMAINDER;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//19.把button数组中第8个按钮添加到frame中</span></span><br><span class="line">        addComponent(frame,bs[<span class="number">7</span>],gbl,gbc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//20.把GridBagConstaints的gridwidth设置为1，表示纵向会占用1个网格</span></span><br><span class="line">        gbc.gridwidth=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//21.把button数组中第9、10个按钮添加到frame中</span></span><br><span class="line">        addComponent(frame,bs[<span class="number">8</span>],gbl,gbc);</span><br><span class="line">        addComponent(frame,bs[<span class="number">9</span>],gbl,gbc);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//22.设置frame为最佳大小</span></span><br><span class="line">        frame.pack();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//23.设置frame可见</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">addComponent</span><span class="params">(Container container,Component c,GridBagLayout gridBagLayout,GridBagConstraints gridBagConstraints)</span>&#123;</span><br><span class="line">        gridBagLayout.setConstraints(c,gridBagConstraints);</span><br><span class="line">        container.add(c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="1-4-5-CardLayout-卡片布局管理器"><a href="#1-4-5-CardLayout-卡片布局管理器" class="headerlink" title="1.4.5 CardLayout 卡片布局管理器"></a>1.4.5 CardLayout <code>卡片布局管理器</code></h3><p>CardLayout 布局管理器<strong>以时间而非空间</strong>来管理它里面的组件，它将加入容器的所有组件看成一叠卡片（每个卡片其实就是一个组件），每次只有最上面的那个 Component 才可见。就好像一副扑克牌，它们叠在一起，每次只有最上面的一张扑克牌才可见.</p>
<p>注意其声明的方式与上几种布局有着一些不同 ，例如 </p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>CardLayout()</td>
<td>创建默认的 CardLayout 布局管理器。</td>
</tr>
<tr>
<td>CardLayout(int hgap,int vgap)</td>
<td>通过指定卡片与容器左右边界的间距 C hgap) 、上下边界 Cvgap) 的间距来创建 CardLayout 布局管理器.</td>
</tr>
<tr>
<td>first(Container target)</td>
<td>显示target 容器中的第一张卡片.</td>
</tr>
<tr>
<td>last(Container target)</td>
<td>显示target 容器中的最后一张卡片.</td>
</tr>
<tr>
<td>previous(Container target)</td>
<td>显示target 容器中的前一张卡片.</td>
</tr>
<tr>
<td>next(Container target)</td>
<td>显示target 容器中的后一张卡片.</td>
</tr>
<tr>
<td>show(Container taget,String name)</td>
<td>显 示 target 容器中指定名字的卡片.</td>
</tr>
</tbody></table>
<p><strong>案例：</strong></p>
<p>​	使用Frame和Panel以及CardLayout完成下图中的效果，点击底部的按钮，切换卡片</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031521489.png"
                      alt="image-20230403152146266" style="zoom: 50%;" 
                ></p>
<p>​	</p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CardLayoutDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Frame对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试CardLayout&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建一个String数组，存储不同卡片的名字</span></span><br><span class="line">        String[] names = &#123;<span class="string">&quot;第一张&quot;</span>,<span class="string">&quot;第二张&quot;</span>,<span class="string">&quot;第三张&quot;</span>,<span class="string">&quot;第四张&quot;</span>,<span class="string">&quot;第五张&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.创建一个Panel容器p1，并设置其布局管理器为CardLayout,用来存放多张卡片</span></span><br><span class="line">        <span class="type">CardLayout</span> <span class="variable">cardLayout</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CardLayout</span>();</span><br><span class="line">        <span class="type">Panel</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line">        p1.setLayout(cardLayout);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.往p1中存储5个Button按钮，名字从String数组中取</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            p1.add(names[i],<span class="keyword">new</span> <span class="title class_">Button</span>(names[i]));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.创建一个Panel容器p2,用来存储5个按钮，完成卡片的切换</span></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.创建5个按钮，并给按钮设置监听器</span></span><br><span class="line">        <span class="type">ActionListener</span> <span class="variable">listener</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">command</span> <span class="operator">=</span> e.getActionCommand();</span><br><span class="line">                <span class="keyword">switch</span> (command)&#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&quot;上一张&quot;</span>:</span><br><span class="line">                        cardLayout.previous(p1);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&quot;下一张&quot;</span>:</span><br><span class="line">                        cardLayout.next(p1);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&quot;第一张&quot;</span>:</span><br><span class="line">                        cardLayout.first(p1);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&quot;最后一张&quot;</span>:</span><br><span class="line">                        cardLayout.last(p1);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&quot;第三张&quot;</span>:</span><br><span class="line">                        cardLayout.show(p1,<span class="string">&quot;第三张&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="type">Button</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;上一张&quot;</span>);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;下一张&quot;</span>);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">b3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;第一张&quot;</span>);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">b4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;最后一张&quot;</span>);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">b5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;第三张&quot;</span>);</span><br><span class="line">        b1.addActionListener(listener);</span><br><span class="line">        b2.addActionListener(listener);</span><br><span class="line">        b3.addActionListener(listener);</span><br><span class="line">        b4.addActionListener(listener);</span><br><span class="line">        b5.addActionListener(listener);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.把5个按钮添加到p2中</span></span><br><span class="line">        p2.add(b1);</span><br><span class="line">        p2.add(b2);</span><br><span class="line">        p2.add(b3);</span><br><span class="line">        p2.add(b4);</span><br><span class="line">        p2.add(b5);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//8.把p1添加到frame的中间区域</span></span><br><span class="line">        frame.add(p1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//9.把p2添加到frame的底部区域</span></span><br><span class="line">        frame.add(p2,BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//10设置frame最佳大小并可见</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="1-4-6-BoxLayout-盒布局管理器"><a href="#1-4-6-BoxLayout-盒布局管理器" class="headerlink" title="1.4.6 BoxLayout  盒布局管理器"></a>1.4.6 BoxLayout  <code>盒布局管理器</code></h3><p>为了简化开发，Swing 引入了 一个新的布局管理器 : BoxLayout 。 BoxLayout 可以在垂直和 水平两个方向上摆放 GUI 组件， BoxLayout 提供了如下一个简单的构造器:</p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>BoxLayout(Container target, int axis)</td>
<td>指定创建基于 target 容器的 BoxLayout 布局管理器，该布局管理器里的组件按 axis 方向排列。其中 axis 有 BoxLayout.X_AXIS( 横向)和 BoxLayout.Y _AXIS (纵向〉两个方向。</td>
</tr>
</tbody></table>
<p><strong>案例1：</strong></p>
<p>​	使用Frame和BoxLayout完成下图效果：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031522035.png"
                      alt="image-20230403152201823" style="zoom:50%;" 
                >

<p><strong>演示代码1：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BoxLayoutDemo1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.创建Frame对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试BoxLayout&quot;</span>);</span><br><span class="line">        <span class="comment">//2.创建BoxLayout布局管理器，并指定容器为上面的frame对象，指定组件排列方向为纵向</span></span><br><span class="line">        <span class="type">BoxLayout</span> <span class="variable">boxLayout</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BoxLayout</span>(frame, BoxLayout.Y_AXIS);</span><br><span class="line">        frame.setLayout(boxLayout);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.往frame对象中添加两个按钮</span></span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;按钮1&quot;</span>));</span><br><span class="line">        frame.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;按钮2&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.设置frame最佳大小，并可见</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p>在java.swing包中，提供了一个新的容器Box，该容器的默认布局管理器就是BoxLayout,大多数情况下，使用Box容器去容纳多个GUI组件，然后再把Box容器作为一个组件，添加到其他的容器中，从而形成整体窗口布局。</p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>static Box createHorizontalBox()</td>
<td>创建一个水平排列组件的 Box 容器 。</td>
</tr>
<tr>
<td>static Box createVerticalBox()</td>
<td>创建一个垂直排列组件的 Box 容器 。</td>
</tr>
</tbody></table>
<p><strong>案例2：</strong></p>
<p>​	使用Frame和Box，完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031522570.png"
                      alt="image-20230403152211355" style="zoom:50%;" 
                ></p>
<p><strong>演示代码2：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BoxLayoutDemo2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.创建Frame对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试BoxLayout&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建一个横向的Box,并添加两个按钮</span></span><br><span class="line">        <span class="type">Box</span> <span class="variable">hBox</span> <span class="operator">=</span> Box.createHorizontalBox();</span><br><span class="line">        hBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;水平按钮一&quot;</span>));</span><br><span class="line">        hBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;水平按钮二&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.创建一个纵向的Box，并添加两个按钮</span></span><br><span class="line">        <span class="type">Box</span> <span class="variable">vBox</span> <span class="operator">=</span> Box.createVerticalBox();</span><br><span class="line">        vBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;垂直按钮一&quot;</span>));</span><br><span class="line">        vBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;垂直按钮二&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.把box容器添加到frame容器中</span></span><br><span class="line">        frame.add(hBox,BorderLayout.NORTH);</span><br><span class="line">        frame.add(vBox);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.设置frame最佳大小并可见</span></span><br><span class="line"></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>通过之前的两个BoxLayout演示，我们会发现，被它管理的容器中的组件之间是没有间隔的，不是特别的美观，但之前学习的几种布局，组件之间都会有一些间距，那使用BoxLayout如何给组件设置间距呢？</p>
<p>其实很简单，我们只需要在原有的组件需要间隔的地方，添加间隔即可，而每个间隔可以是一个组件，只不过该组件没有内容，仅仅起到一种分隔的作用。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031522928.png"
                      alt="image-20230403152221698"
                ></p>
<p>Box类中，提供了5个方便的静态方法来生成这些间隔组件：</p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>static Component createHorizontalGlue()</td>
<td>创建一条水平 Glue (可在两个方向上同时拉伸的间距)</td>
</tr>
<tr>
<td>static Component createVerticalGlue()</td>
<td>创建一条垂直 Glue (可在两个方向上同时拉伸的间距）</td>
</tr>
<tr>
<td>static Component createHorizontalStrut(int width)</td>
<td>创建一条指定宽度(宽度固定了，不能拉伸)的水平Strut (可在垂直方向上拉伸的间距)</td>
</tr>
<tr>
<td>static Component createVerticalStrut(int height)</td>
<td>创建一条指定高度(高度固定了，不能拉伸)的垂直Strut (可在水平方向上拉伸的间距)</td>
</tr>
</tbody></table>
<p><strong>案例3：</strong></p>
<p>使用Frame和Box，完成下图效果：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031522773.png"
                      alt="image-20230403152228543" style="zoom:50%;" 
                >

<p><strong>演示代码3：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BoxLayoutDemo3</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建Frame对象</span></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试BoxLayout&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建一个横向的Box,并添加两个按钮</span></span><br><span class="line">        <span class="type">Box</span> <span class="variable">hBox</span> <span class="operator">=</span> Box.createHorizontalBox();</span><br><span class="line">        hBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;水平按钮一&quot;</span>));</span><br><span class="line">        hBox.add(Box.createHorizontalGlue());<span class="comment">//两个方向都可以拉伸的间隔</span></span><br><span class="line">        hBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;水平按钮二&quot;</span>));</span><br><span class="line">        hBox.add(Box.createHorizontalStrut(<span class="number">10</span>));<span class="comment">//水平间隔固定，垂直间方向可以拉伸</span></span><br><span class="line">        hBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;水平按钮3&quot;</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.创建一个纵向的Box，并添加两个按钮</span></span><br><span class="line">        <span class="type">Box</span> <span class="variable">vBox</span> <span class="operator">=</span> Box.createVerticalBox();</span><br><span class="line">        vBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;垂直按钮一&quot;</span>));</span><br><span class="line">        vBox.add(Box.createVerticalGlue());<span class="comment">//两个方向都可以拉伸的间隔</span></span><br><span class="line">        vBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;垂直按钮二&quot;</span>));</span><br><span class="line">        vBox.add(Box.createVerticalStrut(<span class="number">10</span>));<span class="comment">//垂直间隔固定，水平方向可以拉伸</span></span><br><span class="line">        vBox.add(<span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;垂直按钮三&quot;</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.把box容器添加到frame容器中</span></span><br><span class="line">        frame.add(hBox, BorderLayout.NORTH);</span><br><span class="line">        frame.add(vBox);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.设置frame最佳大小并可见</span></span><br><span class="line"></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="1-5-AWT中常用组件"><a href="#1-5-AWT中常用组件" class="headerlink" title="1.5 AWT中常用组件"></a>1.5 AWT中常用组件</h2><h3 id="1-5-1-基本组件"><a href="#1-5-1-基本组件" class="headerlink" title="1.5.1 基本组件"></a>1.5.1 基本组件</h3><table>
<thead>
<tr>
<th>组件名</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>Button</td>
<td>Button</td>
</tr>
<tr>
<td>Canvas</td>
<td>用于绘图的画布</td>
</tr>
<tr>
<td>Checkbox</td>
<td>复选框组件（也可当做单选框组件使用）</td>
</tr>
<tr>
<td>CheckboxGroup</td>
<td>用于将多个Checkbox 组件组合成一组， 一组 Checkbox 组件将只有一个可以 被选中 ， 即全部变成单选框组件</td>
</tr>
<tr>
<td>Choice</td>
<td>下拉选择框</td>
</tr>
<tr>
<td>Frame</td>
<td>窗口 ， 在 GUI 程序里通过该类创建窗口</td>
</tr>
<tr>
<td>Label</td>
<td>标签类，用于放置提示性文本</td>
</tr>
<tr>
<td>List</td>
<td>JU表框组件，可以添加多项条目</td>
</tr>
<tr>
<td>Panel</td>
<td>不能单独存在基本容器类，必须放到其他容器中</td>
</tr>
<tr>
<td>Scrollbar</td>
<td>滑动条组件。如果需要用户输入位于某个范围的值 ， 就可以使用滑动条组件 ，比如调 色板中设置 RGB 的三个值所用的滑动条。当创建一个滑动条时，必须指定它的方向、初始值、 滑块的大小、最小值和最大值。</td>
</tr>
<tr>
<td>ScrollPane</td>
<td>带水平及垂直滚动条的容器组件</td>
</tr>
<tr>
<td>TextArea</td>
<td>多行文本域</td>
</tr>
<tr>
<td>TextField</td>
<td>单行文本框</td>
</tr>
</tbody></table>
<p>这些 AWT 组件的用法比较简单，可以查阅 API 文档来获取它们各自的构方法、成员方法等详细信息。</p>
<p><strong>案例：</strong> </p>
<p>​	实现下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031522886.png"
                      alt="image-20230403152238646"
                ></p>
<h4 id="CheckBoxGroup语法实例："><a href="#CheckBoxGroup语法实例：" class="headerlink" title="CheckBoxGroup语法实例："></a>CheckBoxGroup语法实例：</h4><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   <span class="type">CheckboxGroup</span> <span class="variable">cbg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CheckboxGroup</span>(); <span class="comment">// 创建一个新的CheckboxGroup</span></span><br><span class="line">   <span class="type">Checkbox</span> <span class="variable">checkbox1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Checkbox</span>(<span class="string">&quot;Option 1&quot;</span>, cbg, <span class="literal">true</span>); <span class="comment">// 创建一个带有默认选项的Checkbox组件，并将其添	 		加到cbg中  true 即默认选项 </span></span><br><span class="line">   <span class="type">Checkbox</span> <span class="variable">checkbox2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Checkbox</span>(<span class="string">&quot;Option 2&quot;</span>, cbg, <span class="literal">false</span>); <span class="comment">// 创建另一个Checkbox组件，并将其添加到cbg中</span></span><br><span class="line">   <span class="type">Panel</span> <span class="variable">panel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>(); <span class="comment">// 创建一个面板</span></span><br><span class="line">panel.add(checkbox1); <span class="comment">// 将checkbox1添加到面板中</span></span><br><span class="line">   panel.add(checkbox2); <span class="comment">// 将checkbox2添加到面板中</span></span><br><span class="line">       </span><br></pre></td></tr></table></figure></div>

<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] arg)</span> &#123;</span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Button</span> <span class="variable">ok</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;确认&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Choice</span> <span class="variable">colorChooser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Choice</span>();   <span class="comment">//  定义一个下拉选择框</span></span><br><span class="line">        colorChooser.add(<span class="string">&quot;red&quot;</span>);</span><br><span class="line">        colorChooser.add(<span class="string">&quot;white&quot;</span>);</span><br><span class="line">        colorChooser.add(<span class="string">&quot;yellow&quot;</span>);</span><br><span class="line">        colorChooser.add(<span class="string">&quot;pink&quot;</span>);</span><br><span class="line">        colorChooser.add(<span class="string">&quot;brown&quot;</span>);</span><br><span class="line">        colorChooser.add(<span class="string">&quot;black&quot;</span>);    <span class="comment">//添加下拉选框选项</span></span><br><span class="line"></span><br><span class="line">        <span class="type">List</span> <span class="variable">colorList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">List</span>(<span class="number">6</span>, <span class="literal">true</span>);  <span class="comment">// true则表示该list 可以多选，否则即不可多选</span></span><br><span class="line">        colorList.add(<span class="string">&quot;red&quot;</span>);</span><br><span class="line">        colorList.add(<span class="string">&quot;green&quot;</span>);</span><br><span class="line">        colorList.add(<span class="string">&quot;blue&quot;</span>);    <span class="comment">// 添加列表选项</span></span><br><span class="line"></span><br><span class="line">        <span class="type">TextArea</span> <span class="variable">ta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>(<span class="number">5</span>, <span class="number">20</span>);   <span class="comment">//   即代表 5 行每行最大的长度是 20</span></span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="number">50</span>);   <span class="comment">//  定义了一个单行文本域</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">checkPanel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line">        <span class="type">CheckboxGroup</span> <span class="variable">cbg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CheckboxGroup</span>();</span><br><span class="line">        <span class="type">Checkbox</span> <span class="variable">male</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Checkbox</span>(<span class="string">&quot;男&quot;</span>, cbg, <span class="literal">true</span>);  <span class="comment">//定义的是单选框</span></span><br><span class="line">        <span class="type">Checkbox</span> <span class="variable">female</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Checkbox</span>(<span class="string">&quot;女&quot;</span>, cbg, <span class="literal">false</span>);   <span class="comment">//定义的是单选框   男女二者只能选择其中一个，类似于前段 id</span></span><br><span class="line">        <span class="type">Checkbox</span> <span class="variable">married</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Checkbox</span>(<span class="string">&quot;是否已婚&quot;</span>, <span class="literal">false</span>);    <span class="comment">//这里定义的是复选框</span></span><br><span class="line"></span><br><span class="line">        checkPanel.add(colorChooser);</span><br><span class="line">        checkPanel.add(male);</span><br><span class="line">        checkPanel.add(female);</span><br><span class="line">        checkPanel.add(married);  <span class="comment">//   Panel 承载 下拉列表 male，female，married 信息</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">buttom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line">        buttom.add(tf);</span><br><span class="line">        buttom.add(ok);</span><br><span class="line">        frame.add(buttom, BorderLayout.SOUTH);    <span class="comment">//  这里的结构很清楚，即使用一个Panel 承载 单行文本以及  button</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Box</span> <span class="variable">topleft</span> <span class="operator">=</span> Box.createVerticalBox();<span class="comment">//创建垂直 排列box    注意box 这里是没有new 的 </span></span><br><span class="line">        topleft.add(ta);</span><br><span class="line">        topleft.add(checkPanel);</span><br><span class="line"></span><br><span class="line">        <span class="type">Box</span> <span class="variable">top</span> <span class="operator">=</span> Box.createHorizontalBox();  <span class="comment">//创建水平box</span></span><br><span class="line"></span><br><span class="line">        top.add(colorList);</span><br><span class="line">        top.add(topleft);</span><br><span class="line">        frame.add(top);</span><br><span class="line"></span><br><span class="line">        frame.pack();  <span class="comment">//自适应</span></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);   <span class="comment">//  显示 可见</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="1-5-2-对话框Dialog"><a href="#1-5-2-对话框Dialog" class="headerlink" title="1.5.2 对话框Dialog"></a>1.5.2 对话框Dialog</h3><h4 id="1-5-2-1-Dialog"><a href="#1-5-2-1-Dialog" class="headerlink" title="1.5.2.1 Dialog"></a>1.5.2.1 Dialog</h4><p>Dialog 是 Window 类的子类，是 一个容器类，属于特殊组件 。 对话框是可以独立存在的顶级窗口， 因此用法与普通窗口的用法几乎完全一样，但是使用对话框需要注意下面两点：</p>
<ul>
<li>对话框通常依赖于其他窗口，就是通常需要有一个父窗口；</li>
<li>对话框有非模式(non-modal)和模式(modal)两种，当某个模式对话框被打开后，该模式对话框总是位于它的父窗口之上，在模式对话框被关闭之前，父窗口无法获得焦点（即无法点击）。</li>
</ul>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>Dialog(Frame owner, String title, boolean modal)</td>
<td>创建一个对话框对象：<br/>owner:当前对话框的父窗口<br/>title:当前对话框的标题<br/>modal：当前对话框是否是模式对话框，true&#x2F;false</td>
</tr>
</tbody></table>
<p><strong>案例1：</strong></p>
<p>​	通过Frame、Button、Dialog实现下图效果:</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031522872.png"
                      alt="image-20230403152248636" style="zoom:50%;" 
                ></p>
<p><strong>演示代码1：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DialogDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试Dialog&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Dialog</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dialog</span>(frame, <span class="string">&quot;模式对话框&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">        <span class="type">Dialog</span> <span class="variable">d2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dialog</span>(frame, <span class="string">&quot;非模式对话框&quot;</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Button</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;打开模式对话框&quot;</span>);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;打开非模式对话框&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置对话框的大小和位置</span></span><br><span class="line">        d1.setBounds(<span class="number">20</span>,<span class="number">30</span>,<span class="number">300</span>,<span class="number">400</span>);</span><br><span class="line">        d2.setBounds(<span class="number">20</span>,<span class="number">30</span>,<span class="number">300</span>,<span class="number">400</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给b1和b2绑定监听事件</span></span><br><span class="line">        b1.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                d1.setVisible(<span class="literal">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        b2.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                d2.setVisible(<span class="literal">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把按钮添加到frame中</span></span><br><span class="line">        frame.add(b1);</span><br><span class="line">        frame.add(b2,BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置frame最佳大小并可见</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>在Dialog对话框中，可以根据需求，自定义内容</p>
<p><strong>案例：</strong></p>
<p>​	点击按钮，弹出一个模式对话框，其内容如下:</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031523843.png"
                      alt="image-20230403152300597" style="zoom:50%;" 
                >

<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DialogDemo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试Dialog&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Dialog</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dialog</span>(frame, <span class="string">&quot;模式对话框&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">  </span><br><span class="line">        <span class="type">Box</span> <span class="variable">vBox</span> <span class="operator">=</span> Box.createVerticalBox();         <span class="comment">//往对话框中添加内容</span></span><br><span class="line"></span><br><span class="line">        vBox.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="number">15</span>));</span><br><span class="line">        vBox.add(<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;确认&quot;</span>));</span><br><span class="line">        d1.add(vBox);</span><br><span class="line"></span><br><span class="line">        <span class="type">Button</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;打开模式对话框&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        d1.setBounds(<span class="number">20</span>,<span class="number">30</span>,<span class="number">200</span>,<span class="number">100</span>);           <span class="comment">//设置对话框的大小和位置</span></span><br><span class="line">        <span class="comment">//给b1按钮  绑定监听事件</span></span><br><span class="line">        b1.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                d1.setVisible(<span class="literal">true</span>);   <span class="comment">//收到点击， 弹出窗口</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//把按钮添加到frame中</span></span><br><span class="line">        frame.add(b1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置frame最佳大小并可见</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h4 id="1-5-2-1-FileDialog"><a href="#1-5-2-1-FileDialog" class="headerlink" title="1.5.2.1 FileDialog"></a>1.5.2.1 FileDialog</h4><p>Dialog 类还有 一个子类 : FileDialog ，它代表一个文件对话框，用于打开或者保存 文件,需要注意的是FileDialog无法指定模态或者非模态，这是因为 FileDialog 依赖于运行平台的实现，如果运行平台的文件对话框是模态的，那么 FileDialog 也是模态的;否则就是非模态的 。</p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>FileDialog(Frame parent, String title, int mode)</td>
<td>创建一个文件对话框：<br/>parent:指定父窗口<br/>title:对话框标题<br/>mode:文件对话框类型，如果指定为FileDialog.load，用于打开文件，如果指定为FileDialog.SAVE,用于保存文件</td>
</tr>
<tr>
<td>String getDirectory()</td>
<td>获取被打开或保存文件的绝对路径</td>
</tr>
<tr>
<td>String getFile()</td>
<td>获取被打开或保存文件的文件名</td>
</tr>
</tbody></table>
<p><strong>案例2：</strong></p>
<p>​	使用 Frame、Button和FileDialog完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031523031.png"
                      alt="image-20230403152311772" style="zoom: 67%;" 
                ></p>
<p><strong>演示代码2：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileDialogTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试FileDialog&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">FileDialog</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileDialog</span>(frame, <span class="string">&quot;选择需要加载的文件&quot;</span>, FileDialog.LOAD);</span><br><span class="line">        <span class="type">FileDialog</span> <span class="variable">d2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileDialog</span>(frame, <span class="string">&quot;选择需要保存的文件&quot;</span>, FileDialog.SAVE);</span><br><span class="line"></span><br><span class="line">        <span class="type">Button</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;打开文件&quot;</span>);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;保存文件&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给按钮添加事件</span></span><br><span class="line">        b1.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                d1.setVisible(<span class="literal">true</span>);</span><br><span class="line">                <span class="comment">//打印用户选择的文件路径和名称</span></span><br><span class="line">                System.out.println(<span class="string">&quot;用户选择的文件路径:&quot;</span>+d1.getDirectory());</span><br><span class="line">                System.out.println(<span class="string">&quot;用户选择的文件名称:&quot;</span>+d1.getFile());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">        b2.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                d2.setVisible(<span class="literal">true</span>);</span><br><span class="line">                <span class="comment">//打印用户选择的文件路径和名称</span></span><br><span class="line">                System.out.println(<span class="string">&quot;用户选择的文件路径:&quot;</span>+d2.getDirectory());</span><br><span class="line">                System.out.println(<span class="string">&quot;用户选择的文件名称:&quot;</span>+d2.getFile());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加按钮到frame中</span></span><br><span class="line"></span><br><span class="line">        frame.add(b1);</span><br><span class="line">        frame.add(b2,BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置frame最佳大小并可见</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="1-6-事件处理"><a href="#1-6-事件处理" class="headerlink" title="1.6 事件处理"></a>1.6 事件处理</h2><p>前面介绍了如何放置各种组件，从而得到了丰富多彩的图形界面，但这些界面还不能响应用户的任何操作。比如单击前面所有窗口右上角的“X”按钮，但窗口依然不会关闭。因为在 AWT 编程中 ，所有用户的操作，都必须都需要经过一套事件处理机制来完成，而 Frame 和组件本身并没有事件处理能力 。</p>
<h3 id="1-6-1-GUI事件处理机制"><a href="#1-6-1-GUI事件处理机制" class="headerlink" title="1.6.1 GUI事件处理机制"></a>1.6.1 GUI事件处理机制</h3><p><strong>定义：</strong></p>
<p>​	当在某个组件上发生某些操作的时候，会自动的触发一段代码的执行。</p>
<p>在GUI事件处理机制中涉及到4个重要的概念需要理解：</p>
<p>**事件源(Event Source)**：操作发生的场所，通常指某个组件，例如按钮、窗口等；<br><strong>事件（Event）</strong>：在事件源上发生的操作可以叫做事件，GUI会把事件都封装到一个Event对象中，如果需要知道该事件的详细信息，就可以通过Event对象来获取。<br><strong>事件监听器(Event Listener)</strong>:当在某个事件源上发生了某个事件，事件监听器就可以对这个事件进行处理。</p>
<p><strong>注册监听</strong>：把某个事件监听器(A)通过某个事件(B)绑定到某个事件源(C)上，当在事件源C上发生了事件B之后，那么事件监听器A的代码就会自动执行。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031523226.png"
                      alt="image-20230403152331933"
                ></p>
<p><strong>使用步骤：</strong></p>
<blockquote>
<p>1.创建事件源组件对象；</p>
<p>2.自定义类，实现XxxListener接口，重写方法；</p>
<p>3.创建事件监听器对象(自定义类对象)</p>
<p>4.调用事件源组件对象的addXxxListener方法完成注册监听</p>
</blockquote>
<p><strong>案例：</strong></p>
<p>​	完成下图效果，点击确定按钮，在单行文本域内显示 hello world:</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031523752.png"
                      alt="image-20230403152339498"
                ></p>
<p>​	</p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EventDemo1</span> &#123;</span><br><span class="line">    <span class="type">Frame</span>  <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试事件处理&quot;</span>);</span><br><span class="line">    <span class="comment">//事件源</span></span><br><span class="line">    <span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;确定&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">TextField</span> <span class="variable">tf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="number">30</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//注册监听</span></span><br><span class="line">        button.addActionListener(<span class="keyword">new</span> <span class="title class_">MyActionListener</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加组件到frame中</span></span><br><span class="line">        frame.add(tf);</span><br><span class="line">        frame.add(button,BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置frame最佳大小并可见</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//自定义事件监听器类</span></span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">class</span> <span class="title class_">MyActionListener</span> <span class="keyword">implements</span> <span class="title class_">ActionListener</span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;用户点击了确定按钮&quot;</span>);</span><br><span class="line">            tf.setText(<span class="string">&quot;hello world&quot;</span>);   <span class="comment">//  textfield 的函数</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">EventDemo1</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="1-6-2-GUI中常见事件和事件监听器"><a href="#1-6-2-GUI中常见事件和事件监听器" class="headerlink" title="1.6.2 GUI中常见事件和事件监听器"></a>1.6.2 GUI中常见事件和事件监听器</h3><p><strong>事件监听器必须实现事件监听器接口</strong>， AWT 提供了大量的事件监听器接口用于实现不同类型的事件监听器，用于监听不同类型的事件 。 AWT 中提供了丰富的事件类，用于封装不同组件上所发生的特定操作， AWT 的事件类都是 AWTEvent 类的子类 ， AWTEvent是 EventObject 的子类。</p>
<h4 id="1-6-2-1-事件"><a href="#1-6-2-1-事件" class="headerlink" title="1.6.2.1 事件"></a>1.6.2.1 事件</h4><p>AWT把事件分为了两大类：</p>
<p>​	1.低级事件：这类事件是基于某个特定动作的事件。比如进入、点击、拖放等动作的鼠标事件，再比如得到焦点和失去焦点等焦点事件。</p>
<table>
<thead>
<tr>
<th>事件</th>
<th>触发时机</th>
</tr>
</thead>
<tbody><tr>
<td>ComponentEvent</td>
<td>组件事件 ， 当 组件尺寸发生变化、位置发生移动、显示&#x2F;隐藏状态发生改变时触发该事件。</td>
</tr>
<tr>
<td>ContainerEvent</td>
<td>容器事件 ， 当容器里发生添加组件、删除组件时触发该事件 。</td>
</tr>
<tr>
<td>WindowEvent</td>
<td>窗口事件， 当窗 口状态发生改变 ( 如打开、关闭、最大化、最 小化)时触发该事件 。</td>
</tr>
<tr>
<td>FocusEvent</td>
<td>焦点事件 ， 当组件得到焦点或失去焦点 时触发该事件 。</td>
</tr>
<tr>
<td>KeyEvent</td>
<td>键盘事件 ， 当按键被按下、松开、单击时触发该事件。</td>
</tr>
<tr>
<td>MouseEvent</td>
<td>鼠标事件，当进行单击、按下、松开、移动鼠标等动作 时触发该事件。</td>
</tr>
<tr>
<td>PaintEvent</td>
<td>组件绘制事件 ， 该事件是一个特殊的事件类型 ， 当 GUI 组件调 用 update&#x2F;paint 方法 来呈现自身时触发该事件，该事件并非专用于事件处理模型 。</td>
</tr>
</tbody></table>
<p>​	2.高级事件：这类事件并不会基于某个特定动作，而是根据功能含义定义的事件。</p>
<table>
<thead>
<tr>
<th>事件</th>
<th>触发时机</th>
</tr>
</thead>
<tbody><tr>
<td>ActionEvent</td>
<td>动作事件 ，当按钮、菜单项被单击，在 TextField 中按 Enter 键时触发</td>
</tr>
<tr>
<td>AjustmentEvent</td>
<td>调节事件，在滑动条上移动滑块以调节数值时触发该事件。</td>
</tr>
<tr>
<td>ltemEvent</td>
<td>选项事件，当用户选中某项， 或取消选中某项时触发该事件 。</td>
</tr>
<tr>
<td>TextEvent</td>
<td>文本事件， 当文本框、文本域里的文本发生改变时触发该事件。</td>
</tr>
</tbody></table>
<h4 id="1-6-2-事件监听器"><a href="#1-6-2-事件监听器" class="headerlink" title="1.6.2 事件监听器"></a>1.6.2 事件监听器</h4><p><strong>不同的事件需要使用不同的监听器监听</strong>，不同的监听器需要实现不同的监听器接口， 当指定事件发生后 ， 事件监听器就会调用所包含的事件处理器(实例方法)来处理事件 。</p>
<table>
<thead>
<tr>
<th>事件类别</th>
<th>描述信息</th>
<th>监听器接口名</th>
</tr>
</thead>
<tbody><tr>
<td>ActionEvent</td>
<td>激活组件</td>
<td>ActionListener</td>
</tr>
<tr>
<td>ItemEvent</td>
<td>选择了某些项目</td>
<td>ItemListener</td>
</tr>
<tr>
<td>MouseEvent</td>
<td>鼠标移动</td>
<td>MouseMotionListener</td>
</tr>
<tr>
<td>MouseEvent</td>
<td>鼠标点击等</td>
<td>MouseListener</td>
</tr>
<tr>
<td>KeyEvent</td>
<td>键盘输入</td>
<td>KeyListener</td>
</tr>
<tr>
<td>FocusEvent</td>
<td>组件收到或失去焦点</td>
<td>FocusListener</td>
</tr>
<tr>
<td>AdjustmentEvent</td>
<td>移动了滚动条等组件</td>
<td>AdjustmentListener</td>
</tr>
<tr>
<td>ComponentEvent</td>
<td>对象移动缩放显示隐藏等</td>
<td>ComponentListener</td>
</tr>
<tr>
<td>WindowEvent</td>
<td>窗口收到窗口级事件</td>
<td>WindowListener</td>
</tr>
<tr>
<td>ContainerEvent</td>
<td>容器中增加删除了组件</td>
<td>ContainerListener</td>
</tr>
<tr>
<td>TextEvent</td>
<td>文本字段或文本区发生改变</td>
<td>TextListener</td>
</tr>
</tbody></table>
<h3 id="1-6-3-案例"><a href="#1-6-3-案例" class="headerlink" title="1.6.3 案例"></a>1.6.3 案例</h3><p><strong>案例一：</strong></p>
<p>​	通过ContainerListener监听Frame容器添加组件；</p>
<p>​	通过TextListener监听TextFiled内容变化；</p>
<p>​	通过ItemListener监听Choice条目选中状态变化；</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031523086.png"
                      alt="image-20230403152350777" style="zoom:50%;" 
                >

<p><strong>演示代码一:</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ContainerAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ContainerEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.TextEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.TextListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListenerDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试监听器&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个单行文本域</span></span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给文本域添加TextListener，监听内容的变化</span></span><br><span class="line">        tf.addTextListener(<span class="keyword">new</span> <span class="title class_">TextListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">textValueChanged</span><span class="params">(TextEvent e)</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;当前内容：&quot;</span>+tf.getText());;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给frame注册ContainerListener监听器，监听容器中组件的添加</span></span><br><span class="line">        frame.addContainerListener(<span class="keyword">new</span> <span class="title class_">ContainerAdapter</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">componentAdded</span><span class="params">(ContainerEvent e)</span> &#123;</span><br><span class="line">                <span class="type">Component</span> <span class="variable">child</span> <span class="operator">=</span> e.getChild();</span><br><span class="line">                System.out.println(<span class="string">&quot;容器中添加了新组件：&quot;</span>+child);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//添加tf到frame</span></span><br><span class="line">        frame.add(tf);</span><br><span class="line">        <span class="comment">//设置frame最佳大小并可见</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p><strong>案例2：</strong></p>
<p>​	给Frame设置WindowListner，监听用户点击 X 的动作，如果用户点击X，则关闭当前窗口</p>
<p><strong>演示代码2：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListenerDemo2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试WindowListener&quot;</span>);</span><br><span class="line"></span><br><span class="line">        frame.addWindowListener(<span class="keyword">new</span> <span class="title class_">WindowAdapter</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">windowClosing</span><span class="params">(WindowEvent e)</span> &#123;</span><br><span class="line">                System.exit(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        frame.setBounds(<span class="number">200</span>,<span class="number">200</span>,<span class="number">500</span>,<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="1-7-菜单组件"><a href="#1-7-菜单组件" class="headerlink" title="1.7 菜单组件"></a>1.7 菜单组件</h2><p>​	前面讲解了如果构建GUI界面，其实就是把一些GUI的组件，按照一定的布局放入到容器中展示就可以了。在实际开发中，除了主界面，还有一类比较重要的内容就是菜单相关组件，可以通过菜单相关组件很方便的使用特定的功能，在AWT中，菜单相关组件的使用和之前学习的组件是一模一样的，只需要把菜单条、菜单、菜单项组合到一起，按照一定的布局，放入到容器中即可。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031524976.png"
                      alt="image-20230403152401704" style="zoom:50%;" 
                >



<p><strong>下表中给出常见的菜单相关组件：</strong></p>
<table>
<thead>
<tr>
<th>菜单组件名称</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>MenuBar</td>
<td>菜单条 ， 菜单的容器 。</td>
</tr>
<tr>
<td>Menu</td>
<td>菜单组件 ， 菜单项的容器 。 它也是Menultem的子类 ，所以可作为菜单项使用</td>
</tr>
<tr>
<td>PopupMenu</td>
<td>上下文菜单组件(右键菜单组件)</td>
</tr>
<tr>
<td>Menultem</td>
<td>菜单项组件 。</td>
</tr>
<tr>
<td>CheckboxMenuItem</td>
<td>复选框菜单项组件</td>
</tr>
</tbody></table>
<p><strong>下图是常见菜单相关组件集成体系图：</strong></p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031524493.png"
                      alt="image-20230403152413206"
                ></p>
<p><strong>菜单相关组件使用：</strong></p>
<p>1.准备菜单项组件，这些组件可以是MenuItem及其子类对象</p>
<p>2.准备菜单组件Menu或者PopupMenu(右击弹出子菜单)，把第一步中准备好的菜单项组件添加进来；</p>
<p>3.准备菜单条组件MenuBar，把第二步中准备好的菜单组件Menu添加进来；</p>
<p>4.把第三步中准备好的菜单条组件添加到窗口对象中显示。</p>
<p><strong>小技巧：</strong></p>
<p>1.如果要在某个菜单的菜单项之间添加分割线，那么只需要调用Menu的add（new MenuItem(-)）即可。</p>
<p><strong>2.如果要给某个菜单项关联快捷键功能，那么只需要在创建菜单项对象时设置即可，例如给菜单项关联 ctrl+shif+&#x2F; 快捷键，只需要：new MenuItem(“菜单项名字”,new MenuShortcut(KeyEvent.VK_Q,true);</strong></p>
<h4 id="案例1："><a href="#案例1：" class="headerlink" title="案例1："></a><strong>案例1：</strong></h4><p>​	使用awt中常用菜单组件，完成下图效果</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031524333.png"
                      alt="image-20230403152421046" style="zoom:50%;" 
                >



<p><strong>演示代码1：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试菜单相关组件&quot;</span>);    <span class="comment">//创建窗口</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuBar</span> <span class="variable">menuBar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuBar</span>();   <span class="comment">//创建菜单条组件</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Menu</span> <span class="variable">fileMenu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Menu</span>(<span class="string">&quot;文件&quot;</span>);    <span class="comment">//创建文件菜单组件</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Menu</span> <span class="variable">editMenu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Menu</span>(<span class="string">&quot;编辑&quot;</span>);   <span class="comment">//  这也是menu</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">newItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;新建&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">saveItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;保存&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">exitItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;退出&quot;</span>);    <span class="comment">//创建退出菜单项</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">CheckboxMenuItem</span> <span class="variable">autoWrap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CheckboxMenuItem</span>(<span class="string">&quot;自动换行&quot;</span>);     <span class="comment">//创建自动换行选择框菜单项   这里是一个复选框</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">copyItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;复制&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">pasteItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;粘贴&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Menu</span> <span class="variable">formatMenu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Menu</span>(<span class="string">&quot;格式&quot;</span>);    <span class="comment">//   子菜单  所以这里不是 menuitem  而是menu</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">commentItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;注释&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">cancelItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;取消注释&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">TextArea</span> <span class="variable">ta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>(<span class="number">6</span>, <span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//定义菜单事件监听器</span></span><br><span class="line">        <span class="type">ActionListener</span> <span class="variable">listener</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">command</span> <span class="operator">=</span> e.getActionCommand();</span><br><span class="line">                ta.append(<span class="string">&quot;单击“&quot;</span>+command+<span class="string">&quot;菜单\n&quot;</span>);</span><br><span class="line">                <span class="keyword">if</span> (command.equals(<span class="string">&quot;退出&quot;</span>))&#123;</span><br><span class="line">                    System.exit(<span class="number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        commentItem.addActionListener(listener);  <span class="comment">//为注释菜单项和退出菜单项注册监听器</span></span><br><span class="line">        exitItem.addActionListener(listener);</span><br><span class="line"></span><br><span class="line">        fileMenu.add(newItem);   <span class="comment">//为文件菜单fileMenu添加菜单项</span></span><br><span class="line">        fileMenu.add(saveItem);</span><br><span class="line">        fileMenu.add(exitItem);</span><br><span class="line"></span><br><span class="line">        editMenu.add(autoWrap);  <span class="comment">//为编辑菜单editMenu添加菜单项</span></span><br><span class="line">        editMenu.add(copyItem);</span><br><span class="line">        editMenu.add(pasteItem);</span><br><span class="line"></span><br><span class="line">        formatMenu.add(commentItem);</span><br><span class="line">        formatMenu.add(cancelItem);  <span class="comment">//为格式化菜单formatMenu添加菜单项</span></span><br><span class="line"></span><br><span class="line">        editMenu.add(<span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;-&quot;</span>));   <span class="comment">//将格式化菜单添加到编辑菜单中，作为二级菜单</span></span><br><span class="line">        editMenu.add(formatMenu);</span><br><span class="line"></span><br><span class="line">        menuBar.add(fileMenu);    <span class="comment">//将文件菜单和编辑菜单添加到菜单条中</span></span><br><span class="line">        menuBar.add(editMenu);</span><br><span class="line"></span><br><span class="line">        frame.setMenuBar(menuBar);    <span class="comment">//把菜单条设置到frame窗口上</span></span><br><span class="line"></span><br><span class="line">        frame.add(ta);    <span class="comment">//把文本域添加到frame中</span></span><br><span class="line"></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Main</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h4 id="案例2："><a href="#案例2：" class="headerlink" title="案例2："></a><strong>案例2：</strong></h4><p>​	通过PopupMenu实现下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031524642.png"
                      alt="image-20230403152433345" style="zoom:50%;" 
                ></p>
<p><strong>实现思路：</strong></p>
<p>1.创建PopubMenu菜单组件；</p>
<p>2.创建多个MenuItem菜单项，并添加到PopupMenu中；</p>
<p>3.将PopupMenu添加到目标组件中；</p>
<p>4.为需要右击出现PopubMenu菜单的组件，注册鼠标监听事件，当监听到用户释放右键时，弹出菜单。</p>
<p><strong>演示代码2：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javafx.scene.layout.Pane;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">PopupMenu</span> <span class="variable">popmenu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PopupMenu</span>();  <span class="comment">// 添加 popupmenu</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">commentItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;注释&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">cancelItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;取消注释&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">copyItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;复制&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">pasteItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;粘贴&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">TextArea</span> <span class="variable">ta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>(<span class="string">&quot; i love china &quot;</span>, <span class="number">6</span>, <span class="number">30</span>);  <span class="comment">// 文本域</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Panel</span> <span class="variable">panel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();   <span class="comment">// 定义panel</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        popmenu.add(commentItem);</span><br><span class="line">        popmenu.add(cancelItem);</span><br><span class="line">        popmenu.add(copyItem);</span><br><span class="line">        popmenu.add(pasteItem); <span class="comment">//  四个组件放进 右键菜单</span></span><br><span class="line"></span><br><span class="line">        panel.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(<span class="number">300</span>, <span class="number">300</span>));  <span class="comment">// 这里是   显示的设置panel的大小  ，也即右键菜单的大小</span></span><br><span class="line">        panel.add(popmenu);<span class="comment">//  右键菜单放入panel</span></span><br><span class="line"></span><br><span class="line">        panel.addMouseListener(<span class="keyword">new</span> <span class="title class_">MouseAdapter</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mouseReleased</span><span class="params">(MouseEvent e)</span> &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> e.isPopupTrigger();<span class="comment">// 判断鼠标是否触发 popupmenu 操作</span></span><br><span class="line">                <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                    popmenu.show(panel, e.getX(), e.getY());   <span class="comment">// 即显示菜单</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        frame.add(ta);</span><br><span class="line">        frame.add(panel, BorderLayout.SOUTH);</span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Main</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h4 id="panel-setPreferredSize-new-Dimension-300-100-的解释"><a href="#panel-setPreferredSize-new-Dimension-300-100-的解释" class="headerlink" title="panel.setPreferredSize(new Dimension(300,100));的解释"></a>panel.setPreferredSize(new Dimension(300,100));的解释</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304110838217.png"
                      alt="image-20230411083846555"
                ></p>
<h2 id="1-8-绘图"><a href="#1-8-绘图" class="headerlink" title="1.8 绘图"></a>1.8 绘图</h2><p>​	很多程序如各种小游戏都需要在窗口中绘制各种图形，除此之外，即使在开发JavaEE项目时， 有 时候也必须”动态”地向客户 端生成各种图形、图表，比如 图形验证码、统计图等，这都需要利用AWT的绘图功能。</p>
<h3 id="1-8-1-组件绘图原理"><a href="#1-8-1-组件绘图原理" class="headerlink" title="1.8.1 组件绘图原理"></a>1.8.1 组件绘图原理</h3><p>​	之前我们已经学习过很多组件，例如Button、Frame、Checkbox等等，不同的组件，展示出来的图形都不一样，其实这些组件展示出来的图形，其本质就是用AWT的绘图来完成的。</p>
<p>​	在AWT中，真正提供绘图功能的是Graphics对象，那么Component组件和Graphics对象存在什么关系，才能让Component绘制自身图形呢？在Component类中，提供了下列三个方法来完成组件图形的绘制与刷新：</p>
<p>​	&#x3D;&#x3D;paint(Graphics g):绘制组件的外观；&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;update(Graphics g):内部调用paint方法，刷新组件外观；&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;repaint():调用update方法，刷新组件外观；&#x3D;&#x3D;</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031524384.png"
                      alt="image-20230403152447021" style="zoom:50%;" 
                ></p>
<p>​	一般情况下，update和paint方法是由AWT系统负责调用，如果程序要希望系统重新绘制组件，可以调用repaint方法完成。</p>
<h3 id="1-8-2-Graphics类的使用"><a href="#1-8-2-Graphics类的使用" class="headerlink" title="1.8.2 Graphics类的使用"></a>1.8.2 Graphics类的使用</h3><p>​	实际生活中如果需要画图，首先我们得准备一张纸，然后在拿一支画笔，配和一些颜色，就可以在纸上画出来各种各样的图形，例如圆圈、矩形等等。</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031525055.png"
                      alt="image-20230403152504673" style="zoom:50%;" 
                ></p>
<p>程序中绘图也一样，也需要画布，画笔，颜料等等。AWT中提供了Canvas类充当画布，提供了Graphics类来充当画笔，通过调用Graphics对象的setColor()方法可以给画笔设置颜色。</p>
<p><strong>画图的步骤：</strong></p>
<blockquote>
<p>1.自定义类，继承Canvas类，重写paint(Graphics g)方法完成画图；</p>
<p>2.在paint方法内部，真正开始画图之前调用Graphics对象的setColor()、setFont()等方法设置画笔的颜色、字体等属性；</p>
<p>3.调用Graphics画笔的drawXxx()方法开始画图。</p>
</blockquote>
<p>其实画图的核心就在于使用Graphics画笔在Canvas画布上画出什么颜色、什么样式的图形，所以核心在画笔上，下表中列出了Graphics类中常用的一些方法：</p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>setColor(Color c)</td>
<td>设置颜色</td>
</tr>
<tr>
<td>setFont(Font font)</td>
<td>设置字体</td>
</tr>
<tr>
<td>drawLine()</td>
<td>绘制直线</td>
</tr>
<tr>
<td>drawRect()</td>
<td>绘制矩形</td>
</tr>
<tr>
<td>drawRoundRect()</td>
<td>绘制圆角矩形</td>
</tr>
<tr>
<td>drawOval()</td>
<td>绘制椭圆形</td>
</tr>
<tr>
<td>drawPolygon()</td>
<td>绘制多边形</td>
</tr>
<tr>
<td>drawArc()</td>
<td>绘制圆弧</td>
</tr>
<tr>
<td>drawPolyline()</td>
<td>绘制折线</td>
</tr>
<tr>
<td>fillRect()</td>
<td>填充矩形区域</td>
</tr>
<tr>
<td>fillRoundRect()</td>
<td>填充圆角矩形区域</td>
</tr>
<tr>
<td>fillOval()</td>
<td>填充椭圆区域</td>
</tr>
<tr>
<td>fillPolygon()</td>
<td>填充多边形区域</td>
</tr>
<tr>
<td>fillArc()</td>
<td>填充圆弧对应的扇形区域</td>
</tr>
<tr>
<td>drawImage()</td>
<td>绘制位图</td>
</tr>
</tbody></table>
<p><strong>案例：</strong></p>
<p>​	使用AWT绘图API，完成下图效果</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031525229.png"
                      alt="image-20230403152514905" style="zoom:50%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleDraw</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String RECT_SHAPE=<span class="string">&quot;rect&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String OVAL_SHAPE=<span class="string">&quot;oval&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;这里测试绘图&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Button</span> <span class="variable">drawRectBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;绘制矩形&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Button</span> <span class="variable">drawOvalBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;绘制椭圆&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String shape=<span class="string">&quot;&quot;</span>;    <span class="comment">//用来保存当前用户需要绘制什么样的图形</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MyCanvas</span> <span class="variable">drawArea</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCanvas</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        drawRectBtn.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;        <span class="comment">//为按钮添加点击事件</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                shape = RECT_SHAPE;</span><br><span class="line">                drawArea.repaint();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        drawOvalBtn.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                shape = OVAL_SHAPE;</span><br><span class="line">                drawArea.repaint();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();        <span class="comment">//定义一个Panel，装载两个按钮</span></span><br><span class="line">        p.add(drawRectBtn);</span><br><span class="line">        p.add(drawOvalBtn);</span><br><span class="line"></span><br><span class="line">        frame.add(p,BorderLayout.SOUTH);        <span class="comment">//把panel添加到frame底部</span></span><br><span class="line"></span><br><span class="line">              drawArea.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(<span class="number">300</span>,<span class="number">200</span>));         <span class="comment">//设置画布的大小</span></span><br><span class="line">        <span class="comment">//把画布添加到frame中</span></span><br><span class="line"></span><br><span class="line">        frame.add(drawArea);</span><br><span class="line"></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">SimpleDraw</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.自定义类，继承Canvas类，重写paint方法</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">MyCanvas</span> <span class="keyword">extends</span> <span class="title class_">Canvas</span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">            <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (shape.equals(RECT_SHAPE))&#123;</span><br><span class="line">                <span class="comment">//绘制矩形</span></span><br><span class="line">                g.setColor(Color.BLACK);</span><br><span class="line">                g.drawRect(r.nextInt(<span class="number">200</span>),r.nextInt(<span class="number">100</span>),<span class="number">40</span>,<span class="number">60</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(shape.equals(OVAL_SHAPE))&#123;</span><br><span class="line">                <span class="comment">//绘制椭圆</span></span><br><span class="line">                g.setColor(Color.RED);</span><br><span class="line">                g.drawOval(r.nextInt(<span class="number">200</span>),r.nextInt(<span class="number">100</span>),<span class="number">60</span>,<span class="number">40</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>​	</p>
<p>​	Java也可用于开发一些动画。所谓动画，就是间隔一定的时间(通常小于0 . 1秒 )重新绘制新的图像，两次绘制的图像之间差异较小，肉眼看起来就成了所谓的动画 。</p>
<p>​	为了实现间隔一定的时间就重新调用组件的 repaint()方法，可以借助于 Swing 提供的Timer类，Timer类是一个定时器， 它有如下一个构造器 ：<br>Timer(int delay, ActionListener listener): 每间隔 delay 毫秒，系统自动触发 ActionListener 监听器里的事件处理器方法，在方法内部我们就可以调用组件的repaint方法，完成组件重绘。</p>
<p><strong>案例2：</strong></p>
<p>​	使用AWT画图技术及Timer定时器，完成下图中弹球小游戏。</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031525116.png"
                      alt="image-20230403152528775" style="zoom:50%;" 
                > <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031525078.png"
                      style="zoom:50%;" 
                ></p>
<p><strong>演示代码2：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PinBall</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//桌面宽度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">TABLE_WIDTH</span> <span class="operator">=</span> <span class="number">300</span>;</span><br><span class="line">    <span class="comment">//桌面高度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">TABLE_HEIGHT</span> <span class="operator">=</span> <span class="number">400</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//球拍的高度和宽度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">RACKET_WIDTH</span> <span class="operator">=</span> <span class="number">60</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">RACKET_HEIGHT</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//小球的大小</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">BALL_SIZE</span> <span class="operator">=</span> <span class="number">16</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义小球纵向运行速度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ySpeed</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//小球横向运行速度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">xSpeed</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义小球的初始坐标</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ballX</span> <span class="operator">=</span> <span class="number">120</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ballY</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义球拍的初始坐标，x坐标会发生变化，y坐标不会发生变化</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">rackeX</span> <span class="operator">=</span> <span class="number">120</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">RACKET_Y</span> <span class="operator">=</span> <span class="number">340</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//声明定时器</span></span><br><span class="line">    <span class="keyword">private</span> Timer timer;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义游戏结束的标记</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">isLose</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//声明一个桌面</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MyCanvas</span> <span class="variable">tableArea</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCanvas</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建窗口对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;弹球游戏&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//设置桌面区域的最佳大小</span></span><br><span class="line">        tableArea.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(TABLE_WIDTH,TABLE_HEIGHT));</span><br><span class="line">        <span class="comment">//把桌面添加到frame中</span></span><br><span class="line">        frame.add(tableArea);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义键盘监听器</span></span><br><span class="line">        <span class="type">KeyListener</span> <span class="variable">keyListener</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">KeyAdapter</span>()&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//监听键盘 ←  → 按下操作，当指定的键按下时，球拍的水平坐标分别会增加或者减少</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyPressed</span><span class="params">(KeyEvent e)</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">keyCode</span> <span class="operator">=</span> e.getKeyCode();</span><br><span class="line">                <span class="keyword">if</span> (keyCode==KeyEvent.VK_LEFT)&#123;<span class="comment">//←</span></span><br><span class="line">                    <span class="comment">//没有到左边界，可以继续向左移动</span></span><br><span class="line">                    <span class="keyword">if</span> (rackeX&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                        rackeX-=<span class="number">10</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (keyCode==KeyEvent.VK_RIGHT)&#123;<span class="comment">//→</span></span><br><span class="line">                    <span class="comment">//没有到右边界，可以继续向右移动</span></span><br><span class="line">                    <span class="keyword">if</span> (rackeX&lt;TABLE_WIDTH-RACKET_WIDTH)&#123;</span><br><span class="line">                        rackeX+=<span class="number">10</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为窗口和tableArea分别添加键盘事件</span></span><br><span class="line">        frame.addKeyListener(keyListener);</span><br><span class="line">        tableArea.addKeyListener(keyListener);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义ActionListener，用来监听小球的变化情况</span></span><br><span class="line">        <span class="type">ActionListener</span> <span class="variable">timerTask</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="comment">//小球碰到左右边框</span></span><br><span class="line">                <span class="keyword">if</span> (ballX&lt;=<span class="number">0</span> || ballX&gt;=TABLE_WIDTH-BALL_SIZE)&#123;</span><br><span class="line">                    xSpeed=-xSpeed;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//小球的高度超出了球拍的位置，且横向不在球拍范围内，则游戏结束</span></span><br><span class="line">                <span class="keyword">if</span> (ballY &gt; RACKET_Y &amp;&amp; (ballX&lt;rackeX || ballX&gt;rackeX+RACKET_WIDTH))&#123;</span><br><span class="line">                    <span class="comment">//结束定时器</span></span><br><span class="line">                    timer.stop();</span><br><span class="line">                    <span class="comment">//把游戏结束的标记设置为true</span></span><br><span class="line">                    isLose = <span class="literal">true</span>;</span><br><span class="line">                    <span class="comment">//重绘界面</span></span><br><span class="line">                    tableArea.repaint();</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//如果小球横向在球拍范围内，且到达球拍位置或者到达顶端位置，则小球反弹</span></span><br><span class="line">                <span class="keyword">if</span> (ballY&lt;=<span class="number">0</span> || (ballY&gt;=RACKET_Y-BALL_SIZE &amp;&amp; ballX&gt;=rackeX &amp;&amp; ballX&lt;=rackeX+RACKET_WIDTH))&#123;<span class="comment">//上面的部分就是击打到了上边界，或者下方的拍，直接进行yspeed翻转</span></span><br><span class="line">                    ySpeed=-ySpeed;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//更新小球的坐标</span></span><br><span class="line">                ballX+=xSpeed;</span><br><span class="line">                ballY+=ySpeed;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//重绘桌面</span></span><br><span class="line">                tableArea.repaint();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置定时器，定时任务就是timerTask</span></span><br><span class="line">        timer = <span class="keyword">new</span> <span class="title class_">Timer</span>(<span class="number">100</span>,timerTask);</span><br><span class="line">        timer.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置frame最佳大小，并可视</span></span><br><span class="line"></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">PinBall</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">MyCanvas</span> <span class="keyword">extends</span> <span class="title class_">Canvas</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//重写paint方法，实现绘图</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">            <span class="comment">//判断游戏是否结束</span></span><br><span class="line">            <span class="keyword">if</span> (isLose)&#123;<span class="comment">//结束</span></span><br><span class="line">                g.setColor(Color.BLUE);</span><br><span class="line">                g.setFont(<span class="keyword">new</span> <span class="title class_">Font</span>(<span class="string">&quot;Times&quot;</span>,Font.BOLD,<span class="number">30</span>));</span><br><span class="line">                g.drawString(<span class="string">&quot;游戏结束！&quot;</span>,<span class="number">50</span>,<span class="number">200</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;<span class="comment">//没有结束</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//设置颜色并绘制小球</span></span><br><span class="line">                g.setColor(Color.RED);</span><br><span class="line">                g.fillOval(ballX,ballY,BALL_SIZE,BALL_SIZE);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//设置颜色并绘制球拍</span></span><br><span class="line">                g.setColor(Color.PINK);</span><br><span class="line">                g.fillRect(rackeX,RACKET_Y,RACKET_WIDTH,RACKET_HEIGHT);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="1-8-3-处理位图"><a href="#1-8-3-处理位图" class="headerlink" title="1.8.3 处理位图"></a>1.8.3 处理位图</h3><p>​	如果仅仅绘制一些简单的几何图形，程序的图形效果依然比较单调 。 AWT 也允许在组件上绘制位图， **&#x3D;&#x3D;Graphics 提供了 drawlmage() 方法用于绘制位图&#x3D;&#x3D;**，该方法需要一个Image参数一一代表位图，通过该方法就可 以绘制出指定的位图 。</p>
<p><strong>位图使用步骤：</strong></p>
<p>1.创建Image的子类对象BufferedImage(int width,int height,int ImageType),创建时需要指定位图的宽高及类型属性；此时相当于在内存中生成了一张图片；</p>
<p>2.调用BufferedImage对象的getGraphics()方法获取画笔，此时就可以往内存中的这张图片上绘图了，绘图的方法和之前学习的一模一样；</p>
<p>3.调用组件的drawImage()方法，一次性的内存中的图片BufferedImage绘制到特定的组件上。</p>
<p><strong>使用位图绘制组件的好处：</strong></p>
<p>使用位图来绘制组件，相当于实现了图的缓冲区，此时绘图时没有直接把图形绘制到组件上，而是先绘制到内存中的BufferedImage上，等全部绘制完毕，再一次性的图像显示到组件上即可，这样用户的体验会好一些。</p>
<p><strong>案例：</strong></p>
<p>​	通过BufferedImage实现一个简单的手绘程序：通过鼠标可以在窗口中画图。</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031525439.png"
                      alt="image-20230403152558080" style="zoom:50%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HandDraw</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义画图区的宽高</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">AREA_WIDTH</span> <span class="operator">=</span> <span class="number">500</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">AREA_HEIGHT</span> <span class="operator">=</span> <span class="number">400</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义变量，保存上一次鼠标拖动时，鼠标的坐标</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">preX</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">preY</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个右键菜单，用于设置画笔的颜色</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">PopupMenu</span> <span class="variable">colorMenu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PopupMenu</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">redItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;红色&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">greenItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;绿色&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">MenuItem</span> <span class="variable">blueItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;蓝色&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个BufferedImage对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">BufferedImage</span> <span class="variable">image</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedImage</span>(AREA_WIDTH,AREA_HEIGHT,BufferedImage.TYPE_INT_RGB);</span><br><span class="line">    <span class="comment">//获取BufferedImage对象关联的画笔</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Graphics</span> <span class="variable">g</span> <span class="operator">=</span> image.getGraphics();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义窗口对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;简单手绘程序&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义画布对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Canvas</span> <span class="variable">drawArea</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">Canvas</span>()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">            <span class="comment">//把位图image绘制到0,0坐标点</span></span><br><span class="line">            g.drawImage(image,<span class="number">0</span>,<span class="number">0</span>,<span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个Color对象，用来保存用户设置的画笔颜色,默认为黑色</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Color</span> <span class="variable">forceColor</span> <span class="operator">=</span> Color.BLACK;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//定义颜色菜单项单击监听器</span></span><br><span class="line">        <span class="type">ActionListener</span> <span class="variable">menuListener</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">command</span> <span class="operator">=</span> e.getActionCommand();</span><br><span class="line">                <span class="keyword">switch</span> (command)&#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&quot;红色&quot;</span>:</span><br><span class="line">                        forceColor=Color.RED;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&quot;绿色&quot;</span>:</span><br><span class="line">                        forceColor = Color.GREEN;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&quot;蓝色&quot;</span>:</span><br><span class="line">                        forceColor = Color.BLUE;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为三个菜单项添加点击事件</span></span><br><span class="line">        redItem.addActionListener(menuListener);</span><br><span class="line">        greenItem.addActionListener(menuListener);</span><br><span class="line">        blueItem.addActionListener(menuListener);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把菜单项添加到右键菜单中</span></span><br><span class="line">        colorMenu.add(redItem);</span><br><span class="line">        colorMenu.add(greenItem);</span><br><span class="line">        colorMenu.add(blueItem);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把右键菜单添加到绘图区域drawArea</span></span><br><span class="line">        drawArea.add(colorMenu);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将iamge图片背景设置为白色</span></span><br><span class="line">        g.fillRect(<span class="number">0</span>,<span class="number">0</span>,AREA_WIDTH,AREA_HEIGHT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置绘图区域drawArea的大小</span></span><br><span class="line">        drawArea.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(AREA_WIDTH,AREA_HEIGHT));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘图区域drawArea设置鼠标移动监听器</span></span><br><span class="line">        drawArea.addMouseMotionListener(<span class="keyword">new</span> <span class="title class_">MouseMotionAdapter</span>() &#123;</span><br><span class="line">            <span class="comment">//用于绘制图像</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mouseDragged</span><span class="params">(MouseEvent e)</span> &#123;<span class="comment">//按下鼠标键并拖动会触发</span></span><br><span class="line">                <span class="comment">//如果上次鼠标的坐标在绘图区域，才开始绘图</span></span><br><span class="line">                <span class="keyword">if</span> (preX&gt;<span class="number">0</span> &amp;&amp; preY&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="comment">//设置当前选中的画笔颜色</span></span><br><span class="line">                    g.setColor(forceColor);</span><br><span class="line">                    <span class="comment">//绘制线条，需要有两组坐标，一组是上一次鼠标拖动鼠标时的坐标，一组是现在鼠标的坐标</span></span><br><span class="line">                    g.drawLine(preX,preY,e.getX(),e.getY());</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//更新preX和preY</span></span><br><span class="line">                preX = e.getX();</span><br><span class="line">                preY = e.getY();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//重新绘制drawArea组件</span></span><br><span class="line">                drawArea.repaint();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        drawArea.addMouseListener(<span class="keyword">new</span> <span class="title class_">MouseAdapter</span>() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//用于弹出右键菜单</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mouseReleased</span><span class="params">(MouseEvent e)</span> &#123;<span class="comment">//松开鼠标键会触发</span></span><br><span class="line">                <span class="type">boolean</span> <span class="variable">popupTrigger</span> <span class="operator">=</span> e.isPopupTrigger();</span><br><span class="line">                <span class="keyword">if</span> (popupTrigger)&#123;</span><br><span class="line">                    <span class="comment">//把colorMenu显示到drawArea画图区域，并跟随鼠标显示</span></span><br><span class="line">                    colorMenu.show(drawArea,e.getX(),e.getY());</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//当鼠标松开时，把preX和preY重置为-1</span></span><br><span class="line">                preX = -<span class="number">1</span>;</span><br><span class="line">                preY = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把drawArea添加到frame中</span></span><br><span class="line">        frame.add(drawArea);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置frame最佳大小并可见</span></span><br><span class="line">        frame.pack();</span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HandDraw</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="1-8-4-ImageIO的使用"><a href="#1-8-4-ImageIO的使用" class="headerlink" title="1.8.4  ImageIO的使用"></a>1.8.4  ImageIO的使用</h3><p>在实际生活中，很多软件都支持打开本地磁盘已经存在的图片，然后进行编辑，编辑完毕后，再重新保存到本地磁盘。如果使用AWT要完成这样的功能，那么需要使用到ImageIO这个类，可以操作本地磁盘的图片文件。</p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>static BufferedImage read(File input)</td>
<td>读取本地磁盘图片文件</td>
</tr>
<tr>
<td>static BufferedImage read(InputStream input)</td>
<td>读取本地磁盘图片文件</td>
</tr>
<tr>
<td>static boolean write(RenderedImage im, String formatName, File output)</td>
<td>往本地磁盘中输出图片文件</td>
</tr>
</tbody></table>
<p><strong>案例：</strong></p>
<p>​	编写图片查看程序,支持另存操作</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031526727.png"
                      alt="image-20230403152614069" style="zoom:50%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReadAndSaveImage</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;图片查看器&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> BufferedImage image;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">MyCanvas</span>  <span class="keyword">extends</span> <span class="title class_">Canvas</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (image!=<span class="literal">null</span>)&#123;</span><br><span class="line">                g.drawImage(image,<span class="number">0</span>,<span class="number">0</span>,image.getWidth(),image.getHeight(),<span class="literal">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">MyCanvas</span> <span class="variable">imageComponent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCanvas</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置菜单项</span></span><br><span class="line">        <span class="type">MenuBar</span> <span class="variable">mb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuBar</span>();</span><br><span class="line">        <span class="type">Menu</span> <span class="variable">menu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Menu</span>(<span class="string">&quot;文件&quot;</span>);</span><br><span class="line">        <span class="type">MenuItem</span> <span class="variable">openItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;打开&quot;</span>);</span><br><span class="line">        <span class="type">MenuItem</span> <span class="variable">saveItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;另存为&quot;</span>);</span><br><span class="line"></span><br><span class="line">        openItem.addActionListener(e -&gt; &#123;</span><br><span class="line">            <span class="comment">//弹出对话框，选择本地图片</span></span><br><span class="line">            <span class="type">FileDialog</span> <span class="variable">oDialog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileDialog</span>(frame);</span><br><span class="line">            oDialog.setVisible(<span class="literal">true</span>);</span><br><span class="line">            <span class="comment">//读取用户选择的图片</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">dir</span> <span class="operator">=</span> oDialog.getDirectory();</span><br><span class="line">            <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> oDialog.getFile();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                image = ImageIO.read(<span class="keyword">new</span> <span class="title class_">File</span>(dir,file));</span><br><span class="line"></span><br><span class="line">                imageComponent.repaint();</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e1) &#123;</span><br><span class="line">                e1.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        saveItem.addActionListener(e -&gt; &#123;</span><br><span class="line">            <span class="comment">//弹出对话框，另存为</span></span><br><span class="line">            <span class="type">FileDialog</span> <span class="variable">sDialog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileDialog</span>(frame,<span class="string">&quot;保存图片&quot;</span>,FileDialog.SAVE);</span><br><span class="line">            sDialog.setVisible(<span class="literal">true</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">dir</span> <span class="operator">=</span> sDialog.getDirectory();</span><br><span class="line">            <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> sDialog.getFile();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ImageIO.write(image,<span class="string">&quot;JPEG&quot;</span>,<span class="keyword">new</span> <span class="title class_">File</span>(dir,file));</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e1) &#123;</span><br><span class="line">                e1.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        mb.add(menu);</span><br><span class="line">        menu.add(openItem);</span><br><span class="line">        menu.add(saveItem);</span><br><span class="line"></span><br><span class="line">        frame.setMenuBar(mb);</span><br><span class="line">        frame.add(imageComponent);</span><br><span class="line"></span><br><span class="line">        frame.setBounds(<span class="number">200</span>,<span class="number">200</span>,<span class="number">800</span>,<span class="number">600</span>);</span><br><span class="line"></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        frame.addWindowListener(<span class="keyword">new</span> <span class="title class_">WindowAdapter</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">windowClosing</span><span class="params">(WindowEvent e)</span> &#123;</span><br><span class="line">                System.exit(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ReadAndSaveImage</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="1-8-5-五子棋"><a href="#1-8-5-五子棋" class="headerlink" title="1.8.5 五子棋"></a>1.8.5 五子棋</h3><p>接下来，我们使用之前学习的绘图技术，做一个五子棋的游戏。</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202304031526536.png"
                      style="zoom:50%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Gobang</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义三个BufferedImage，分别代表棋盘图、黑子图、白子图</span></span><br><span class="line">    <span class="keyword">private</span> BufferedImage table;</span><br><span class="line">    <span class="keyword">private</span> BufferedImage black;</span><br><span class="line">    <span class="keyword">private</span> BufferedImage white;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个BufferedImage，代表当鼠标移动时将要下子的选择框</span></span><br><span class="line">    <span class="keyword">private</span> BufferedImage selected;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义棋盘的宽高，这里的定义尺寸和给定的board.jpg图片的尺寸一致因为棋盘背景是通过图片加载的</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">TABLE_WIDTH</span> <span class="operator">=</span> <span class="number">535</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">TABLE_HEIGHT</span> <span class="operator">=</span> <span class="number">536</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义棋盘中，每行和每列可下子的数目，这个数目跟给定的board.jpg中的数目是一致的，都为15</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span>  <span class="variable">BOARD_SIZE</span> <span class="operator">=</span> <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义每个棋子所占棋盘总宽度的大小比率；每个棋子所占宽度 535/15=35</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">RATE</span> <span class="operator">=</span> TABLE_WIDTH/BOARD_SIZE;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义棋盘有效区域与背景图坐标之间的偏移值，x坐标右移5个像素，y坐标下移6个像素</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">X_OFFSET</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">Y_OFFSET</span> <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        定义一个二维数组充当棋盘上每个位置处的棋子；</span></span><br><span class="line"><span class="comment">        该数组的索引与该棋子在棋盘上的坐标需要有一个对应关系：</span></span><br><span class="line"><span class="comment">            例如： 索引[2][3]处的棋子，对一个的真实绘制坐标应该是：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                xpos = 2*RATE+X_OFFSET=75;</span></span><br><span class="line"><span class="comment">                ypos = 3*RATE+Y_OFFSET=111;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[][] board = <span class="keyword">new</span> <span class="title class_">int</span>[BOARD_SIZE][BOARD_SIZE];<span class="comment">//如果存储0，代表没有棋子，如果存储1，代表黑棋，如果存储2，代表白棋</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义五子棋游戏窗口</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">JFrame</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;五子棋游戏&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义五子棋游戏棋盘对应的Canvas组件</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">ChessBoard</span> <span class="keyword">extends</span> <span class="title class_">JPanel</span>&#123;</span><br><span class="line">        <span class="comment">//重写paint方法，实现绘画</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">            <span class="comment">//绘制五子棋棋盘</span></span><br><span class="line">            g.drawImage(table,<span class="number">0</span>,<span class="number">0</span>,<span class="literal">null</span>);</span><br><span class="line">            <span class="comment">//绘制选中点的红框</span></span><br><span class="line">            <span class="keyword">if</span> (selectX&gt;<span class="number">0</span> &amp;&amp; selectY&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                g.drawImage(selected,selectX*RATE+X_OFFSET,selectY*RATE+Y_OFFSET,<span class="literal">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//遍历数组，绘制棋子</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; BOARD_SIZE; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; BOARD_SIZE; j++) &#123;</span><br><span class="line">                    <span class="comment">//绘制黑棋</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (board[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                        g.drawImage(black,i*RATE+X_OFFSET,j*RATE+Y_OFFSET,<span class="literal">null</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//绘制白棋</span></span><br><span class="line">                    <span class="keyword">if</span> (board[i][j]==<span class="number">2</span>)&#123;</span><br><span class="line">                        g.drawImage(white,i*RATE+X_OFFSET,j*RATE+Y_OFFSET,<span class="literal">null</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">ChessBoard</span> <span class="variable">chessBoard</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChessBoard</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义变量，记录当前选中的坐标点对应的boad数组中对应的棋子索引；</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">selectX</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">selectY</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个变量，记录当前用户选择下的是白棋还是黑棋还是清除，清除：0，黑棋：1，白棋：2；</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">chessCategory</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义Panel,放置点击按钮</span></span><br><span class="line">    <span class="type">Panel</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Button</span> <span class="variable">whiteBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;白棋&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Button</span> <span class="variable">blackBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;黑棋&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Button</span> <span class="variable">clearBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;删除&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateBtnColor</span><span class="params">(Color whiteBtnColor,Color blackBtnColor,Color clearBtnColor)</span>&#123;</span><br><span class="line">        whiteBtn.setBackground(whiteBtnColor);</span><br><span class="line">        blackBtn.setBackground(blackBtnColor);</span><br><span class="line">        clearBtn.setBackground(clearBtnColor);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//初始化按钮的颜色</span></span><br><span class="line">        updateBtnColor(Color.LIGHT_GRAY,Color.GREEN,Color.LIGHT_GRAY);</span><br><span class="line">        whiteBtn.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                chessCategory = <span class="number">2</span>;</span><br><span class="line">                updateBtnColor(Color.GREEN,Color.LIGHT_GRAY,Color.LIGHT_GRAY);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        blackBtn.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                chessCategory=<span class="number">1</span>;</span><br><span class="line">                updateBtnColor(Color.LIGHT_GRAY,Color.GREEN,Color.LIGHT_GRAY);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        clearBtn.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                chessCategory=<span class="number">0</span>;</span><br><span class="line">                updateBtnColor(Color.LIGHT_GRAY,Color.LIGHT_GRAY,Color.GREEN);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        p.add(whiteBtn);</span><br><span class="line">        p.add(blackBtn);</span><br><span class="line">        p.add(clearBtn);</span><br><span class="line">        <span class="comment">//把Panel放入到frame底部</span></span><br><span class="line">        f.add(p,BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//初始化黑棋，白棋，棋盘,选中框</span></span><br><span class="line">        table = ImageIO.read(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;awt_demo\\board.jpg&quot;</span>));</span><br><span class="line">        black = ImageIO.read(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;awt_demo\\black.gif&quot;</span>));</span><br><span class="line">        white = ImageIO.read(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;awt_demo\\white.gif&quot;</span>));</span><br><span class="line">        selected = ImageIO.read(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;awt_demo\\selected.gif&quot;</span>));</span><br><span class="line">        <span class="comment">//初始化board数组，默认情况下，所有位置处都没有棋子</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; BOARD_SIZE; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; BOARD_SIZE; j++) &#123;</span><br><span class="line">                board[i][j]=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置chessBoard的最佳大小</span></span><br><span class="line">        chessBoard.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(TABLE_WIDTH,TABLE_HEIGHT));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给chessBoard注册鼠标监听器</span></span><br><span class="line">        chessBoard.addMouseListener(<span class="keyword">new</span> <span class="title class_">MouseAdapter</span>() &#123;</span><br><span class="line">            <span class="comment">//鼠标单击会触发</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mouseClicked</span><span class="params">(MouseEvent e)</span> &#123;</span><br><span class="line">                <span class="comment">//将用户鼠标的坐标，转换成棋子的坐标</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">xPos</span> <span class="operator">=</span> (e.getX()-X_OFFSET)/RATE;</span><br><span class="line">                <span class="type">int</span> <span class="variable">yPos</span> <span class="operator">=</span> (e.getY()-Y_OFFSET)/RATE;</span><br><span class="line"></span><br><span class="line">                board[xPos][yPos] = chessCategory;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//重绘chessBoard</span></span><br><span class="line">                chessBoard.repaint();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//当鼠标退出棋盘区域后，复位选中坐标,重绘chessBoard，要保证红色选中框显示正确</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mouseExited</span><span class="params">(MouseEvent e)</span> &#123;</span><br><span class="line">                selectX=-<span class="number">1</span>;</span><br><span class="line">                selectY=-<span class="number">1</span>;</span><br><span class="line">                chessBoard.repaint();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给chessBoard注册鼠标移动监听器</span></span><br><span class="line">        chessBoard.addMouseMotionListener(<span class="keyword">new</span> <span class="title class_">MouseMotionAdapter</span>() &#123;</span><br><span class="line">            <span class="comment">//当鼠标移动时，修正selectX和selectY，重绘chessBoard，要保证红色选中框显示正确</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mouseMoved</span><span class="params">(MouseEvent e)</span> &#123;</span><br><span class="line">                <span class="comment">//将鼠标的坐标，转换成棋子的索引</span></span><br><span class="line">                selectX = (e.getX()-X_OFFSET)/RATE;</span><br><span class="line">                selectY = (e.getY()-Y_OFFSET)/RATE;</span><br><span class="line">                chessBoard.repaint();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把chessBoard添加到Frame中</span></span><br><span class="line">        f.add(chessBoard);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置frame最佳大小并可见</span></span><br><span class="line">        f.pack();</span><br><span class="line">        f.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Gobang</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>





<h1 id="Swing-编程"><a href="#Swing-编程" class="headerlink" title="Swing 编程"></a>Swing 编程</h1><h2 id="2-1-Swing概述"><a href="#2-1-Swing概述" class="headerlink" title="2.1 Swing概述"></a>2.1 Swing概述</h2><p>​	前一章己经介绍过AWT和Swing 的关系 ， 因此不难知道 : 实际使用 Java 开发图形界面程序时 ，很少使用 AWT 组件，绝大部分时候都是用 Swing 组件开发的 。 Swing是由100%纯 Java实现的，不再依赖于本地平台的 GUI， 因此可以在所有平台上都保持相同的界面外观。独立于本地平台的Swing组件被称为<strong>轻量级组件</strong>;而依赖于本地平台的 AWT 组件被称为<strong>重量级组件</strong>。<br>​	由于 Swing 的所有组件完全采用 Java 实现，不再调用本地平台的 GUI，所以导致 Swing 图形界面的显示速度要比 AWT 图形界面的显示速度慢一些，但相对于快速发展的硬件设施而言，这种微小的速度差别无妨大碍。</p>
<p><strong>使用Swing的优势:</strong><br>    1. Swing 组件不再依赖于本地平台的 GUI，无须采用各种平台的 GUI 交集 ，因此 Swing 提供了大量图形界面组件 ， 远远超出了 AWT 所提供的图形界面组件集。<br>    2. Swing 组件不再依赖于本地平台 GUI ，因此不会产生与平台 相关的 bug 。</p>
<p>​	3. Swing 组件在各种平台上运行时可以保证具有相同的图形界面外观。</p>
<p>​	Swing 提供的这些优势，让 Java 图形界面程序真正实现了 “ Write Once, Run Anywhere” 的 目标。</p>
<p><strong>Swing的特征：</strong><br>     1. Swing 组件采用 MVC(Model-View-Controller， 即模型一视图一控制器)设计模式：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">		模型(Model): 用于维护组件的各种状态；</span><br><span class="line"></span><br><span class="line">	视图(View): 是组件的可视化表现；</span><br><span class="line">	</span><br><span class="line">	控制器(Controller):用于控制对于各种事件、组件做出响应 。</span><br><span class="line">	</span><br><span class="line">	当模型发生改变时，它会通知所有依赖它的视图，视图会根据模型数据来更新自己。Swing使用UI代理来包装视图和控制器， 还有一个模型对象来维护该组件的状态。例如，按钮JButton有一个维护其状态信息的模型ButtonModel对象 。 Swing组件的模型是自动设置的，因此一般都使用JButton，而无须关心ButtonModel对象。</span><br><span class="line"></span><br><span class="line">2. Swing在不同的平台上表现一致，并且有能力提供本地平台不支持的显示外观 。由于 Swing采用 MVC 模式来维护各组件，所以 当组件的外观被改变时，对组件的状态信息(由模型维护)没有任何影响 。因 此，Swing可以使用插拔式外观感觉 (Pluggable Look And Feel, PLAF)来控制组件外观，使得 Swing图形界面在同一个平台上运行时能拥有不同的外观，用户可以选择自己喜欢的外观 。相比之下，在 AWT 图形界面中，由于控制组件外观的对等类与具体平台相关 ，因此 AWT 组件总是具有与本地平台相同的外观 。    </span><br></pre></td></tr></table></figure></div>



<h2 id="3-2-Swing基本组件的用法"><a href="#3-2-Swing基本组件的用法" class="headerlink" title="3.2 Swing基本组件的用法"></a>3.2 Swing基本组件的用法</h2><h3 id="3-2-1-Swing组件层次"><a href="#3-2-1-Swing组件层次" class="headerlink" title="3.2.1 Swing组件层次"></a>3.2.1 Swing组件层次</h3><p><strong>Swing组件继承体系图：</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="C:\Users\Forming\AppData\Roaming\Typora\typora-user-images\image-20230905104427899.png"
                      alt="image-20230905104427899" style="zoom: 33%;" 
                >

<p>​	大部分Swing 组件都是 JComponent抽象类的直接或间接子类(并不是全部的 Swing 组件)，JComponent 类定义了所有子类组件的通用方法 ，JComponent 类是 AWT 里 java.awt. Container 类的子类 ，这也是 AWT 和 Swing 的联系之一。 绝大部分 Swing 组件类继承了 Container类，所以Swing 组件都可作为 容器使用 ( JFrame继承了Frame 类)。</p>
<p><strong>Swing组件和AWT组件的对应关系：</strong></p>
<p>​	<strong>大部分情况下，只需要在AWT组件的名称前面加个J，</strong>就可以得到其对应的Swing组件名称，但有几个例外：</p>
<p>​	</p>
<ol>
<li>JComboBox: 对应于 AWT 里的 Choice 组件，但比 Choice 组件功能更丰富 。</li>
<li>JFileChooser: 对应于 AWT 里的 FileDialog 组件 。</li>
<li>JScrollBar: 对应于 AWT 里的 Scrollbar 组件，注意两个组件类名中 b 字母的大小写差别。</li>
<li>JCheckBox : 对应于 AWT 里的 Checkbox 组件， 注意两个组件类名中 b 字母的大小 写差别 。</li>
<li>JCheckBoxMenultem: 对应于 AWT 里的 CheckboxMenuItem 组件，注意两个组件类名中 b字母的大小写差别。</li>
</ol>
<p><strong>Swing组件按照功能来分类：</strong></p>
<p>​	1. 顶层容器: JFrame、JApplet、JDialog 和 JWindow 。<br>​	2. 中间容器: JPanel 、 JScrollPane 、 JSplitPane 、 JToolBar 等 。<br>​	3. 特殊容器:在用户界面上具有特殊作用的中间容器，如 JIntemalFrame 、 JRootPane 、 JLayeredPane和 JDestopPane 等 。<br>​	4. 基本组件 : 实现人机交互的组件，如 JButton、 JComboBox 、 JList、 JMenu、 JSlider 等 。<br>​	5. 不可编辑信息的显示组件:向用户显示不可编辑信息的组件，如JLabel 、 JProgressBar 和 JToolTip等。<br>​	6. 可编辑信息的显示组件:向用户显示能被编辑的格式化信息的组件，如 JTable 、 JTextArea 和JTextField 等 。<br>​	7. 特殊对话框组件:可以直接产生特殊对话框的组件 ， 如 JColorChooser 和 JFileChooser 等。</p>
<h3 id="3-2-2-AWT组件的Swing实现"><a href="#3-2-2-AWT组件的Swing实现" class="headerlink" title="3.2.2 AWT组件的Swing实现"></a>3.2.2 AWT组件的Swing实现</h3><p>​	Swing 为除 Canvas 之外的所有 AWT 组件提供了相应的实现，Swing 组件比 AWT 组件的功能更加强大。相对于 AWT 组件， Swing 组件具有如下 4 个额外的功能 :</p>
<ol>
<li><p>可以为 Swing 组件设置提示信息。使用 setToolTipText()方法，为组件设置对用户有帮助的提示信息 。</p>
</li>
<li><p>很多 Swing 组件如按钮、标签、菜单项等，除使用文字外，还可以使用图标修饰自己。为了允许在 Swing 组件中使用图标， Swing为Icon 接口提供了 一个实现类: Imagelcon ，该实现类代表一个图像图标。</p>
</li>
<li><p>支持插拔式的外观风格。每个 JComponent 对象都有一个相应的 ComponentUI 对象，为它完成所有的绘画、事件处理、决定尺寸大小等工作。 ComponentUI 对象依赖当前使用的 PLAF ， 使用 UIManager.setLookAndFeel()方法可以改变图形界面的外观风格 。</p>
</li>
<li><p>支持设置边框。Swing 组件可以设置一个或多个边框。 Swing 中提供了各式各样的边框供用户边 用，也能建立组合边框或自己设计边框。 一种空白边框可以用于增大组件，同时协助布局管理器对容器中的组件进行合理的布局。</p>
</li>
</ol>
<p>​	每个 Swing 组件都有一个对应的UI 类，例如 JButton组件就有一个对应的 ButtonUI 类来作为UI代理 。每个 Swing组件的UI代理的类名总是将该 Swing 组件类名的 J 去掉，然后在后面添加 UI 后缀 。 UI代理类通常是一个抽象基类 ， 不同的 PLAF 会有不同的UI代理实现类 。 Swing 类库中包含了几套UI代理,分别放在不同的包下， 每套UI代理都几乎包含了所有 Swing组件的 ComponentUI实现，每套这样的实现都被称为一种PLAF 实现 。以 JButton 为例，其 UI 代理的继承层次下图：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051044268.png"
                      alt="image-20230905104452149" style="zoom:50%;" 
                >

<p>​	如果需要改变程序的外观风格， 则可以使用如下代码：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//容器：</span></span><br><span class="line"><span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置外观风格</span></span><br><span class="line">    UIManager.setLookAndFeel(<span class="string">&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//刷新jf容器及其内部组件的外观</span></span><br><span class="line">    SwingUtilities.updateComponentTreeUI(jf);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p><strong>案例：</strong></p>
<p>​	使用Swing组件，实现下图中的界面效果：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051045048.png"
                      alt="image-20230905104509858" style="zoom: 50%;" 
                >

<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051045407.jpg"
                      style="zoom: 67%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.itcast.swing.util.ImagePathUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.InputEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwingComponentDemo</span> &#123;</span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试swing基本组件&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个按钮，并为其指定图标</span></span><br><span class="line">    <span class="type">Icon</span> <span class="variable">okIcon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\ok.png&quot;</span>));</span><br><span class="line">    <span class="type">JButton</span> <span class="variable">ok</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;确定&quot;</span>,okIcon);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个单选按钮，初始处于选中的状态</span></span><br><span class="line">    <span class="type">JRadioButton</span> <span class="variable">male</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButton</span>(<span class="string">&quot;男&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">    <span class="type">JRadioButton</span> <span class="variable">female</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButton</span>(<span class="string">&quot;女&quot;</span>,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">ButtonGroup</span> <span class="variable">bg</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ButtonGroup</span>();      <span class="comment">//定义一个ButtonGroup，把male和female组合起来，实现单选</span></span><br><span class="line"></span><br><span class="line">    <span class="type">JCheckBox</span> <span class="variable">married</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;是否已婚？&quot;</span>,<span class="literal">false</span>);    <span class="comment">//定义一个复选框，初始处于没有选中状态</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个数组存储颜色</span></span><br><span class="line">    String[] colors = &#123; <span class="string">&quot;红色&quot;</span>, <span class="string">&quot;绿色 &quot;</span> , <span class="string">&quot;蓝色 &quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个下拉选择框，展示颜色</span></span><br><span class="line">    JComboBox&lt;String&gt; colorChooser = <span class="keyword">new</span> <span class="title class_">JComboBox</span>&lt;String&gt;(colors);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定一个列表框，展示颜色</span></span><br><span class="line">    JList&lt;String&gt; colorList = <span class="keyword">new</span> <span class="title class_">JList</span>&lt;String&gt;(colors);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个8行20列的多行文本域</span></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">ta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">8</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个40列的单行文本域</span></span><br><span class="line">    <span class="type">JTextField</span> <span class="variable">name</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextField</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义菜单条</span></span><br><span class="line">    <span class="type">JMenuBar</span> <span class="variable">mb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuBar</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">JMenu</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenu</span>(<span class="string">&quot;文件&quot;</span>);      <span class="comment">//定义菜单</span></span><br><span class="line">    <span class="type">JMenu</span> <span class="variable">edit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenu</span>(<span class="string">&quot;编辑&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建菜单项，并指定图标</span></span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">newItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="string">&quot;新建&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\new.png&quot;</span>)));</span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">saveItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="string">&quot;保存&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\save.png&quot;</span>)));</span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">exitItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="string">&quot;退出&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\exit.png&quot;</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="type">JCheckBoxMenuItem</span> <span class="variable">autoWrap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBoxMenuItem</span>(<span class="string">&quot;自动换行&quot;</span>);</span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">copyItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="string">&quot;复制&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\copy.png&quot;</span>)));</span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">pasteItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="string">&quot;粘贴&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\paste.png&quot;</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义二级菜单，将来会添加到编辑中</span></span><br><span class="line">    <span class="type">JMenu</span> <span class="variable">format</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenu</span>(<span class="string">&quot;格式&quot;</span>);</span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">commentItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="string">&quot;注释&quot;</span>);</span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">cancelItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="string">&quot;取消注释&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个右键菜单，用于设置程序的外观风格</span></span><br><span class="line">    <span class="type">JPopupMenu</span> <span class="variable">pop</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPopupMenu</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">ButtonGroup</span> <span class="variable">flavorGroup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ButtonGroup</span>();    <span class="comment">//定义一个ButtongGroup对象，用于组合风格按钮，形成单选</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义五个单选按钮菜单项，用于设置程序风格</span></span><br><span class="line">    <span class="type">JRadioButtonMenuItem</span> <span class="variable">metalItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButtonMenuItem</span>(<span class="string">&quot;Metal 风格&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">    <span class="type">JRadioButtonMenuItem</span> <span class="variable">nimbusItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButtonMenuItem</span>(<span class="string">&quot;Nimbus 风格&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">    <span class="type">JRadioButtonMenuItem</span> <span class="variable">windowsItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButtonMenuItem</span>(<span class="string">&quot;Windows 风格&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">    <span class="type">JRadioButtonMenuItem</span> <span class="variable">classicItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButtonMenuItem</span>(<span class="string">&quot;Windows 经典风格&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">    <span class="type">JRadioButtonMenuItem</span> <span class="variable">motifItem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButtonMenuItem</span>(<span class="string">&quot;Motif 风格&quot;</span>,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化界面</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//------------------------组合主区域------------------------</span></span><br><span class="line">        <span class="comment">//创建一个装载文本框和按钮的JPanel</span></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">bottom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        bottom.add(name);</span><br><span class="line">        bottom.add(ok);</span><br><span class="line"></span><br><span class="line">        f.add(bottom, BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个装载下拉选择框、三个JChekBox的JPanel</span></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">checkPanel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        checkPanel.add(colorChooser);</span><br><span class="line">        bg.add(male);</span><br><span class="line">        bg.add(female);</span><br><span class="line"></span><br><span class="line">        checkPanel.add(male);</span><br><span class="line">        checkPanel.add(female);</span><br><span class="line">        checkPanel.add(married);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个垂直排列的Box，装载checkPanel和多行文本域</span></span><br><span class="line">        <span class="type">Box</span> <span class="variable">topLeft</span> <span class="operator">=</span> Box.createVerticalBox();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用JScrollPane作为普通组件的JViewPort</span></span><br><span class="line">        <span class="type">JScrollPane</span> <span class="variable">taJsp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JScrollPane</span>(ta);</span><br><span class="line">        topLeft.add(taJsp);</span><br><span class="line">        topLeft.add(checkPanel);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个水平排列的Box，装载topLeft和colorList</span></span><br><span class="line">        <span class="type">Box</span> <span class="variable">top</span> <span class="operator">=</span> Box.createHorizontalBox();</span><br><span class="line">        top.add(topLeft);</span><br><span class="line">        top.add(colorList);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将top Box 添加到窗口的中间</span></span><br><span class="line">        f.add(top);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//---------------------------组合菜单条----------------------------------------------</span></span><br><span class="line">        <span class="comment">//为newItem添加快捷键 ctrl+N</span></span><br><span class="line">        newItem.setAccelerator(KeyStroke.getKeyStroke(<span class="string">&#x27;N&#x27;</span>, InputEvent.CTRL_MASK));</span><br><span class="line">        newItem.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                ta.append(<span class="string">&quot;用户点击了“新建”菜单\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//为file添加菜单项</span></span><br><span class="line">        file.add(newItem);</span><br><span class="line">        file.add(saveItem);</span><br><span class="line">        file.add(exitItem);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为edit添加菜单项</span></span><br><span class="line">        edit.add(autoWrap);</span><br><span class="line">        edit.addSeparator();</span><br><span class="line">        edit.add(copyItem);</span><br><span class="line">        edit.add(pasteItem);</span><br><span class="line">        <span class="comment">//为commentItem添加提示信息</span></span><br><span class="line">        commentItem.setToolTipText(<span class="string">&quot;将程序代码注释起来&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为format菜单添加菜单项</span></span><br><span class="line">        format.add(commentItem);</span><br><span class="line">        format.add(cancelItem);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给edit添加一个分隔符</span></span><br><span class="line">        edit.addSeparator();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把format添加到edit中形成二级菜单</span></span><br><span class="line">        edit.add(format);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把edit file 添加到菜单条中</span></span><br><span class="line">        mb.add(file);</span><br><span class="line">        mb.add(edit);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把菜单条设置给窗口</span></span><br><span class="line">        f.setJMenuBar(mb);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//------------------------组合右键菜单-----------------------------</span></span><br><span class="line"></span><br><span class="line">        flavorGroup.add(metalItem);</span><br><span class="line">        flavorGroup.add(nimbusItem);</span><br><span class="line">        flavorGroup.add(windowsItem);</span><br><span class="line">        flavorGroup.add(classicItem);</span><br><span class="line">        flavorGroup.add(motifItem);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给5个风格菜单创建事件监听器</span></span><br><span class="line">        <span class="type">ActionListener</span> <span class="variable">flavorLister</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">command</span> <span class="operator">=</span> e.getActionCommand();</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    changeFlavor(command);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e1) &#123;</span><br><span class="line">                    e1.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为5个风格菜单项注册监听器</span></span><br><span class="line">        metalItem.addActionListener(flavorLister);</span><br><span class="line">        nimbusItem.addActionListener(flavorLister);</span><br><span class="line">        windowsItem.addActionListener(flavorLister);</span><br><span class="line">        classicItem.addActionListener(flavorLister);</span><br><span class="line">        motifItem.addActionListener(flavorLister);</span><br><span class="line"></span><br><span class="line">        pop.add(metalItem);</span><br><span class="line">        pop.add(nimbusItem);</span><br><span class="line">        pop.add(windowsItem);</span><br><span class="line">        pop.add(classicItem);</span><br><span class="line">        pop.add(motifItem);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用ta组件的setComponentPopupMenu即可设置右键菜单，无需使用事件</span></span><br><span class="line">        ta.setComponentPopupMenu(pop);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置关闭窗口时推出程序</span></span><br><span class="line">        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置jFrame最佳大小并可见</span></span><br><span class="line">        f.pack();</span><br><span class="line">        f.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个方法，用于改变界面风格</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">changeFlavor</span><span class="params">(String command)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="keyword">switch</span> (command)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Metal 风格&quot;</span>:</span><br><span class="line">                UIManager.setLookAndFeel(<span class="string">&quot;javax.swing.plaf.metal.MetalLookAndFeel&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Nimbus 风格&quot;</span>:</span><br><span class="line">                UIManager.setLookAndFeel(<span class="string">&quot;javax.swing.plaf.nimbus.NimbusLookAndFeel&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Windows 风格&quot;</span>:</span><br><span class="line">                UIManager.setLookAndFeel(<span class="string">&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Windows 经典风格&quot;</span>:</span><br><span class="line">                UIManager.setLookAndFeel(<span class="string">&quot;com.sun.java.swing.plaf.windows.WindowsClassicLookAndFeel&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Motif 风格&quot;</span>:</span><br><span class="line">                UIManager.setLookAndFeel(<span class="string">&quot;com.sun.java.swing.plaf.motif.MotifLookAndFeel&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//更新f窗口内顶级容器以及所有组件的UI</span></span><br><span class="line">        SwingUtilities.updateComponentTreeUI(f.getContentPane());</span><br><span class="line">        <span class="comment">//更新mb菜单条及每部所有组件UI</span></span><br><span class="line">        SwingUtilities.updateComponentTreeUI(mb);</span><br><span class="line">        <span class="comment">//更新右键菜单及内部所有菜单项的UI</span></span><br><span class="line">        SwingUtilities.updateComponentTreeUI(pop);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">SwingComponentDemo</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p><strong>注意细节：</strong></p>
<p>1.Swing菜单项指定快捷键时必须通过<code>组件名.setAccelerator(keyStroke.getKeyStroke(&quot;大写字母&quot;,InputEvent.CTRL_MASK))</code>方法来设置，其中KeyStroke代表一次击键动作，可以直接通过按键对应字母来指定该击键动作 。</p>
<p>2.更新JFrame的风格时，调用了<code> SwingUtilities.updateComponentTreeUI(f.getContentPane());</code>这是因为如果直接更新 JFrame 本身 ，将会导致 JFrame 也被更新， JFrame 是一个特殊的容器 ， JFrame 依然部分依赖于本地平台的图形组件 。如果强制 JFrame 更新，则有可能导致该窗口失去标题栏和边框 。 </p>
<p>3.给组件设置右键菜单，不需要使用监听器，只需要调用setComponentPopupMenu()方法即可，更简单。</p>
<p>4.关闭JFrame窗口，也无需监听器，只需要调用setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)方法即可，更简单。</p>
<p>5.如果需要让某个组件支持滚动条，只需要把该组件放入到JScrollPane中，然后使用JScrollPane即可。</p>
<h3 id="3-2-3-为组件设置边框"><a href="#3-2-3-为组件设置边框" class="headerlink" title="3.2.3 为组件设置边框"></a>3.2.3 为组件设置边框</h3><p>​	很多情况下，我们常常喜欢给不同的组件设置边框，从而让界面的层次感更明显，swing中提供了Border对象来代表一个边框，下图是Border的继承体系图：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051045753.png"
                      style="zoom:67%;" 
                ></p>
<p><strong>特殊的Border：</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. TitledBorder:它的作用并不是直接为其他组件添加边框，而是为其他边框设置标题，创建该类的对象时，需要传入一个其他的Border对象；</span><br><span class="line">	2. ComoundBorder:用来组合其他两个边框，创建该类的对象时，需要传入其他两个Border对象，一个作为内边框，一个座位外边框</span><br></pre></td></tr></table></figure></div>

<p><strong>给组件设置边框步骤：</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 使用BorderFactory或者XxxBorder创建Border的实例对象；</span><br><span class="line">	2. 调用Swing组件的setBorder（Border b）方法为组件设置边框；</span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	请使用Border实现下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051045994.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.border.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BorderTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试边框&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//设置Jframe为网格布局</span></span><br><span class="line">        jf.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">2</span>,<span class="number">4</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建凸起的斜边框，分别设置四条边的颜色</span></span><br><span class="line">        <span class="type">Border</span> <span class="variable">bb</span> <span class="operator">=</span> BorderFactory.createBevelBorder(BevelBorder.RAISED,Color.RED,Color.GREEN,Color.BLUE,Color.GRAY);</span><br><span class="line">        jf.add(getPanelWithBorder(bb,<span class="string">&quot;BevelBorder&quot;</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建LineBorder</span></span><br><span class="line">        <span class="type">Border</span> <span class="variable">lb</span> <span class="operator">=</span> BorderFactory.createLineBorder(Color.ORANGE, <span class="number">10</span>);</span><br><span class="line">        jf.add(getPanelWithBorder(lb,<span class="string">&quot;LineBorder&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建EmptyBorder，会在组件的四周留白</span></span><br><span class="line">        <span class="type">Border</span> <span class="variable">eb</span> <span class="operator">=</span> BorderFactory.createEmptyBorder(<span class="number">20</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">30</span>);</span><br><span class="line">        jf.add(getPanelWithBorder(eb,<span class="string">&quot;EmptyBorder&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建EtchedBorder，</span></span><br><span class="line">        <span class="type">Border</span> <span class="variable">etb</span> <span class="operator">=</span> BorderFactory.createEtchedBorder(EtchedBorder.RAISED, Color.RED, Color.GREEN);</span><br><span class="line">        jf.add(getPanelWithBorder(etb,<span class="string">&quot;EtchedBorder&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建TitledBorder,为原有的Border添加标题</span></span><br><span class="line">        <span class="type">TitledBorder</span> <span class="variable">tb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TitledBorder</span>(lb,<span class="string">&quot;测试标题&quot;</span>,TitledBorder.LEFT,TitledBorder.BOTTOM,<span class="keyword">new</span> <span class="title class_">Font</span>(<span class="string">&quot;StSong&quot;</span>,Font.BOLD,<span class="number">18</span>),Color.BLUE);</span><br><span class="line">        jf.add(getPanelWithBorder(tb,<span class="string">&quot;TitledBorder&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//直接创建MatteBorder，它是EmptyBorder的子类，EmptyBorder是留白，而MatteBorder可以给留空的区域填充颜色</span></span><br><span class="line">        <span class="type">MatteBorder</span> <span class="variable">mb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MatteBorder</span>(<span class="number">20</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">30</span>,Color.GREEN);</span><br><span class="line">        jf.add(getPanelWithBorder(mb,<span class="string">&quot;MatteBorder&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//直接创创建CompoundBorder，将两个边框组合成新边框</span></span><br><span class="line">        <span class="type">CompoundBorder</span> <span class="variable">cb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CompoundBorder</span>(<span class="keyword">new</span> <span class="title class_">LineBorder</span>(Color.RED,<span class="number">8</span>),tb);</span><br><span class="line">        jf.add(getPanelWithBorder(cb,<span class="string">&quot;CompoundBorder&quot;</span>));</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> JPanel <span class="title function_">getPanelWithBorder</span><span class="params">(Border border,String borderName)</span>&#123;</span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">jPanel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line"></span><br><span class="line">        jPanel.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(borderName));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为panel设置边框</span></span><br><span class="line">        jPanel.setBorder(border);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> jPanel;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">BorderTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-2-4-使用JToolBar创建工具条"><a href="#3-2-4-使用JToolBar创建工具条" class="headerlink" title="3.2.4 使用JToolBar创建工具条"></a>3.2.4 使用JToolBar创建工具条</h3><p>Swing 提供了JToolBar类来创建工具条，并且可以往JToolBar中添加多个工具按钮。</p>
<p><strong>JToolBar  API:</strong></p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>JToolBar( String name , int orientation)</td>
<td>创建一个名字为name，方向为orientation的工具条对象，其orientation的是取值可以是SwingConstants.HORIZONTAL或SwingConstants.VERTICAL</td>
</tr>
<tr>
<td>JButton add(Action a)</td>
<td>通过Action对象为JToolBar工具条添加对应的工具按钮</td>
</tr>
<tr>
<td>addSeparator( Dimension size )</td>
<td>向工具条中添加指定大小的分隔符</td>
</tr>
<tr>
<td>setFloatable( boolean b )</td>
<td>设定工具条是否可以被拖动</td>
</tr>
<tr>
<td>setMargin(Insets m)</td>
<td>设置工具条与工具按钮的边距</td>
</tr>
<tr>
<td>setOrientation( int o )</td>
<td>设置工具条的方向</td>
</tr>
<tr>
<td>setRollover(boolean rollover)</td>
<td>设置此工具条的rollover状态</td>
</tr>
</tbody></table>
<p><strong>add(Action a)方法：</strong></p>
<p>​	上述API中add(Action a)这个方法比较难理解，为什么呢，之前说过，Action接口是ActionListener的一个子接口，那么它就代表一个事件监听器，而这里add方法是在给工具条添加一个工具按钮，为什么传递的是一个事件监听器呢？</p>
<p>​	首先要明确的是不管是菜单条中的菜单项还是工具条中的工具按钮，最终肯定是需要点击来完成一些操作，所以JToolBar以及JMenu都提供了更加便捷的添加子组件的方法add(Action a),在这个方法的内部会做如下几件事：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 创建一个适用于该容器的组件(例如，在工具栏中创建一个工具按钮)；</span><br><span class="line">2. 从 Action 对象中获得对应的属性来设置该组件(例如，通过 name 来设置文本，通过 lcon 来设置图标) ；</span><br><span class="line">3. 把Action监听器注册到刚才创建的组件上；</span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	使用JToolBar组件完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051045921.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.itcast.swing.util.ImagePathUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JToolBarTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试工具条&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">jta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">6</span>,<span class="number">35</span>);</span><br><span class="line">    <span class="comment">//创建工具条</span></span><br><span class="line">    <span class="type">JToolBar</span> <span class="variable">jtb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JToolBar</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建&quot;上一曲&quot;Action,该Action用于创建工具按钮</span></span><br><span class="line">    <span class="type">Action</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;上一曲&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\pre.png&quot;</span>))) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">            jta.append(<span class="string">&quot;上一曲.\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建&quot;暂停&quot; Action</span></span><br><span class="line">    <span class="type">Action</span> <span class="variable">pause</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;暂停&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\pause.png&quot;</span>))) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">           jta.append(<span class="string">&quot;暂停播放.\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建&quot;下一曲&quot; Action</span></span><br><span class="line">    <span class="type">Action</span> <span class="variable">next</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;下一曲&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\next.png&quot;</span>))) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">            jta.append(<span class="string">&quot;下一曲.\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//给JTextArea添加滚动条</span></span><br><span class="line">        jf.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(jta));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//以Action的形式创建按钮，并将按钮添加到Panel中</span></span><br><span class="line">        <span class="type">JButton</span> <span class="variable">preBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(pre);</span><br><span class="line">        <span class="type">JButton</span> <span class="variable">pauseBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(pause);</span><br><span class="line">        <span class="type">JButton</span> <span class="variable">nextBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(next);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//往工具条中添加Action对象，该对象会转换成工具按钮</span></span><br><span class="line">        jtb.add(preBtn);</span><br><span class="line">        jtb.addSeparator();</span><br><span class="line">        jtb.add(pauseBtn);</span><br><span class="line">        jtb.addSeparator();</span><br><span class="line">        jtb.add(nextBtn);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//向窗口中添加工具条</span></span><br><span class="line">        jf.add(jtb,BorderLayout.NORTH);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JToolBarTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-2-5-JColorChooser-和JFileChooser"><a href="#3-2-5-JColorChooser-和JFileChooser" class="headerlink" title="3.2.5 JColorChooser 和JFileChooser"></a>3.2.5 JColorChooser 和JFileChooser</h3><p>Swing提供了JColorChooser和JFileChooser这两种对话框，可以很方便的完成颜色的选择和本地文件的选择。</p>
<h4 id="3-2-5-1-JColorChooser"><a href="#3-2-5-1-JColorChooser" class="headerlink" title="3.2.5.1 JColorChooser"></a>3.2.5.1 JColorChooser</h4><p>JColorChooser 用于创建颜色选择器对话框 ， 该类的用法非常简单，只需要调用它的静态方法就可以快速生成一个颜色选择对话框：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Color <span class="title function_">showDialog</span><span class="params">(Component component, String title,Color initialColor)</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	参数：</span></span><br><span class="line"><span class="comment">		componet:指定当前对话框的父组件</span></span><br><span class="line"><span class="comment">		title：当前对话框的名称</span></span><br><span class="line"><span class="comment">		initialColor：指定默认选中的颜色</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">	返回值：</span></span><br><span class="line"><span class="comment">		返回用户选中的颜色</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	使用颜色选择器，完成下图功能：</p>
<p>​		点击按钮，改变文本域的背景色</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051046748.jpg"
                      style="zoom:50%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JColorChooserDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jFrame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试颜色选择器&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">jta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="string">&quot;我爱中华&quot;</span>,<span class="number">6</span>,<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JButton</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;改变文本框的本景色&quot;</span>)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//弹出颜色选择器</span></span><br><span class="line">            <span class="type">Color</span> <span class="variable">result</span> <span class="operator">=</span> JColorChooser.showDialog(jFrame, <span class="string">&quot;颜色选择器&quot;</span>, Color.WHITE);</span><br><span class="line">            jta.setBackground(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        jFrame.add(jta);</span><br><span class="line"></span><br><span class="line">        jFrame.add(button,BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jFrame.pack();</span><br><span class="line">        jFrame.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JColorChooserDemo</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h4 id="3-2-5-2-JFileChooser"><a href="#3-2-5-2-JFileChooser" class="headerlink" title="3.2.5.2 JFileChooser"></a>3.2.5.2 JFileChooser</h4><p>​	JFileChooser 的功能与AWT中的 FileDialog 基本相似，也是用于生成”打开文件”、”保存文件 “对话框。与 FileDialog 不同的是 ， JFileChooser 无须依赖于本地平台的 GUI ， 它由 100%纯 Java 实现 ， 在所有平台 上具有完全相同的行为，并可以在所有平台上具有相同的外观风格。</p>
<p>JFileChooser使用步骤：</p>
<ol>
<li>创建JFileChooser对象：</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">JFileChooser</span> <span class="variable">chooser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFileChooser</span>(<span class="string">&quot;D:\\a&quot;</span>);<span class="comment">//指定默认打开的本地磁盘路径</span></span><br></pre></td></tr></table></figure></div>

<ol start="2">
<li>调用JFileChooser的一系列可选方法，进行初始化</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setSelectedFile(File file)/setSelectedFiles(File[] selectedFiles):设定默认选中的文件</span><br><span class="line">setMultiSelectionEnabled(<span class="type">boolean</span> b)：设置是否允许多选，默认是单选</span><br><span class="line">setFileSelectionMode(<span class="type">int</span> mode)：设置可以选择内容，例如文件、文件夹等，默认只能选择文件</span><br></pre></td></tr></table></figure></div>

<ol start="3">
<li>打开文件对话框</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">showOpenDialog(Component parent):打开文件加载对话框，并指定父组件</span><br><span class="line">showSaveDialog(Component parent):打开文件保存对话框，并指定父组件</span><br></pre></td></tr></table></figure></div>

<ol start="4">
<li>获取用户选择的结果</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File <span class="title function_">getSelectedFile</span><span class="params">()</span>:获取用户选择的一个文件</span><br><span class="line">File[] getSelectedFiles():获取用户选择的多个文件</span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	使用JFileChooser完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051046367.jpg"
                      style="zoom:50%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JFileChooserDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建窗口对象</span></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试JFileChooser&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建打开文件对话框</span></span><br><span class="line">    <span class="type">JFileChooser</span> <span class="variable">chooser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFileChooser</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建菜单条</span></span><br><span class="line">    <span class="type">JMenuBar</span> <span class="variable">jmb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuBar</span>();</span><br><span class="line">    <span class="comment">//创建菜单</span></span><br><span class="line">    <span class="type">JMenu</span> <span class="variable">jMenu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenu</span>(<span class="string">&quot;文件&quot;</span>);</span><br><span class="line">    <span class="comment">//创建菜单项</span></span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">open</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;打开&quot;</span>)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">            chooser.showOpenDialog(jf);</span><br><span class="line">            <span class="type">File</span> <span class="variable">imageFile</span> <span class="operator">=</span> chooser.getSelectedFile();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                image = ImageIO.read(imageFile);</span><br><span class="line">                drawArea.repaint();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e1) &#123;</span><br><span class="line">                e1.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="type">JMenuItem</span> <span class="variable">save</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuItem</span>(<span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;另存为&quot;</span>)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">            chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);</span><br><span class="line">            chooser.showSaveDialog(jf);</span><br><span class="line">            <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> chooser.getSelectedFile();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ImageIO.write(image,<span class="string">&quot;jpeg&quot;</span>,<span class="keyword">new</span> <span class="title class_">File</span>(dir,<span class="string">&quot;a.jpg&quot;</span>));</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e1) &#123;</span><br><span class="line">                e1.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用来记录用户选择的图片</span></span><br><span class="line">    BufferedImage image;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//显示图片</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">MyCanvas</span> <span class="keyword">extends</span> <span class="title class_">JPanel</span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (image!=<span class="literal">null</span>)&#123;</span><br><span class="line">                g.drawImage(image,<span class="number">0</span>,<span class="number">0</span>,<span class="literal">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">JPanel</span> <span class="variable">drawArea</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCanvas</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//设置图片显示区域大小</span></span><br><span class="line">        drawArea.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(<span class="number">500</span>,<span class="number">300</span>));</span><br><span class="line">        jf.add(drawArea);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//组装并设置菜单条</span></span><br><span class="line">        jMenu.add(open);</span><br><span class="line">        jMenu.add(save);</span><br><span class="line">        jmb.add(jMenu);</span><br><span class="line">        jf.setJMenuBar(jmb);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//显示jf</span></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JFileChooserDemo</span>().init();</span><br><span class="line">    &#125;    </span><br><span class="line">      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-2-7-使用JOptionPane"><a href="#3-2-7-使用JOptionPane" class="headerlink" title="3.2.7 使用JOptionPane"></a>3.2.7 使用JOptionPane</h3><h4 id="3-2-7-1-基本概述"><a href="#3-2-7-1-基本概述" class="headerlink" title="3.2.7.1 基本概述"></a>3.2.7.1 基本概述</h4><p>通过 JOptionPane 可以非常方便地创建一些简单的对话框， Swing 已经为这些对话框添加了相应的组件，无须程序员手动添加组件 。 JOptionPane 提供了如下 4 个方法来创建对话框 。</p>
<table>
<thead>
<tr>
<th>方法名称</th>
<th>方法功能</th>
</tr>
</thead>
<tbody><tr>
<td>showMessageDialog&#x2F;showInternalMessageDialog</td>
<td>消息对话框 ，告知用户某事己发生 ， 用户只能单击”确定”按钮 ， 类似于 JavaScript 的 alert 函数 。</td>
</tr>
<tr>
<td>showConfirmDialog&#x2F;showInternalConfirmDialog</td>
<td>确认对话框，向用户确认某个问题，用户可以选择 yes 、 no ~ cancel 等选项 。 类似于 JavaScript 的 comfirm 函数 。该方法返回用户单击了 哪个按钮</td>
</tr>
<tr>
<td>showInputDialog&#x2F;showInternalInputDialog</td>
<td>输入对话框，提示要求输入某些信息，类似于 JavaScript的 prompt 函数。该方法返回用户输入的字符串 。</td>
</tr>
<tr>
<td>showOptionDialog&#x2F;showInternalOptionDialog</td>
<td>自定义选项对话框 ，允许使用自 定义选项 ，可以取代showConfirmDialog 所产生的对话框，只是用起来更复杂 。</td>
</tr>
</tbody></table>
<p>上述方法都有都有很多重载形式，选择其中一种最全的形式，参数解释如下：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">showXxxDialog(Component parentComponent,</span><br><span class="line">		Object message, </span><br><span class="line">		String title, </span><br><span class="line">		<span class="type">int</span> optionType, </span><br><span class="line">		<span class="type">int</span> messageType,</span><br><span class="line">        	Icon icon,</span><br><span class="line">		Object[] options, </span><br><span class="line">		Object initialValue)</span><br><span class="line">--参数解释：</span><br><span class="line">parentComponent：当前对话框的父组件</span><br><span class="line">message：对话框上显示的信息，信息可以是字符串、组件、图片等</span><br><span class="line">title：当前对话框的标题</span><br><span class="line">optionType：当前对话框上显示的按钮类型：DEFAULT_OPTION、YES_NO_OPTION、YES_NO_CANCEL_OPTION、OK_CANCEL_OPTION</span><br><span class="line">messageType:当前对话框的类型:ERROR_MESSAGE、INFORMATION_MESSAGE、WARNING_MESSAGE、QUESTION_MESSAGE、PLAIN_MESSAGE</span><br><span class="line">icon:当前对话框左上角的图标</span><br><span class="line">options:自定义下拉列表的选项</span><br><span class="line">initialValue:自定义选项中的默认选中项</span><br></pre></td></tr></table></figure></div>



<p><strong>当用户与对话框交互结束后，不同类型对话框的返回值如下：</strong></p>
<ul>
<li>showMessageDialog: 无返回值 。</li>
<li>showlnputDialog: 返回用户输入或选择的字符串 。</li>
<li>showConfirmDialog: 返回 一个整数代表用户选择的选项 。</li>
<li>showOptionDialog : 返回 一个整数代表用户选择的选项，如果用户选择第一项，则返回 0; 如果选择第二项，则返回1……依此类推 。</li>
</ul>
<p><strong>对 showConfirmDialog 所产生的对话框，有如下几个返回值：</strong></p>
<ul>
<li>YES OPTION: 用户 单击了 “是”按钮后返回 。</li>
<li>NO OPTION: 用 户单击了”否”按钮后返回 。</li>
<li>CANCEL OPTION: 用户单击了”取消”按钮后返回 。</li>
<li>OK OPTION : 用户单击了”确定”按钮后返回 。</li>
<li>CLOSED OPTION: 用户 单击了对话框右上角的 “ x” 按钮后返回。</li>
</ul>
<h4 id="3-2-7-2-四种对话框演示"><a href="#3-2-7-2-四种对话框演示" class="headerlink" title="3.2.7.2 四种对话框演示"></a>3.2.7.2 四种对话框演示</h4><p><strong>消息对话框：</strong></p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051046091.jpg"
                     
                ></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.itcast.swing.util.ImagePathUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MessageDialogTest</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试消息对话框&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">jta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">6</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JButton</span> <span class="variable">btn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;弹出消息对话框&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">            <span class="comment">//JOptionPane.showMessageDialog(jf, jta.getText(), &quot;消息对话框&quot;, JOptionPane.ERROR_MESSAGE);</span></span><br><span class="line">            <span class="comment">//JOptionPane.showMessageDialog(jf, jta.getText(), &quot;消息对话框&quot;, JOptionPane.INFORMATION_MESSAGE);</span></span><br><span class="line">            <span class="comment">//JOptionPane.showMessageDialog(jf, jta.getText(), &quot;消息对话框&quot;, JOptionPane.WARNING_MESSAGE);</span></span><br><span class="line">            <span class="comment">//JOptionPane.showMessageDialog(jf, jta.getText(), &quot;消息对话框&quot;, JOptionPane.QUESTION_MESSAGE);</span></span><br><span class="line">            <span class="comment">//JOptionPane.showMessageDialog(jf, jta.getText(), &quot;消息对话框&quot;, JOptionPane.PLAIN_MESSAGE);</span></span><br><span class="line">            JOptionPane.showMessageDialog(jf, jta.getText(), <span class="string">&quot;消息对话框&quot;</span>, JOptionPane.WARNING_MESSAGE, <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;2\\female.png&quot;</span>)));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        jf.add(jta);</span><br><span class="line">        jf.add(btn, BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">MessageDialogTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



<p><strong>确认对话框：</strong></p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051046321.jpg"
                     
                ></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConfirmDialogTest</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试确认对话框&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">jta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">6</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JButton</span> <span class="variable">btn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;弹出确认对话框&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> JOptionPane.showConfirmDialog(jf, jta.getText(), <span class="string">&quot;确认对话框&quot;</span>,JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);</span><br><span class="line">            <span class="keyword">if</span> (result == JOptionPane.YES_OPTION)&#123;</span><br><span class="line">                jta.append(<span class="string">&quot;\n用户点击了确定按钮&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (result==JOptionPane.NO_OPTION)&#123;</span><br><span class="line">                jta.append(<span class="string">&quot;\n用户点击了取消按钮&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        jf.add(jta);</span><br><span class="line">        jf.add(btn, BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ConfirmDialogTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>​	</p>
<p><strong>输入对话框：</strong></p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051046335.jpg"
                     
                ></p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051046610.jpg"
                     
                ></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InputDialogTest</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试输入对话框&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">jta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">6</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JButton</span> <span class="variable">btn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;弹出输入对话框&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">           <span class="comment">/* String result = JOptionPane.showInputDialog(jf, &quot;请填写您的银行账号：&quot;, &quot;输入对话框&quot;, JOptionPane.INFORMATION_MESSAGE);</span></span><br><span class="line"><span class="comment">            if(result!=null)&#123;</span></span><br><span class="line"><span class="comment">                jta.append(result.toString());</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line"></span><br><span class="line">            <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> JOptionPane.showInputDialog(jf, <span class="string">&quot;&quot;</span>, <span class="string">&quot;输入对话框&quot;</span>, JOptionPane.DEFAULT_OPTION, <span class="literal">null</span>, <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;柳岩&quot;</span>, <span class="string">&quot;舒淇&quot;</span>, <span class="string">&quot;龚玥菲&quot;</span>&#125;, <span class="string">&quot;舒淇&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (result!=<span class="literal">null</span>)&#123;</span><br><span class="line">                jta.append(result.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        jf.add(jta);</span><br><span class="line">        jf.add(btn, BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">InputDialogTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



<p><strong>选项对话框：</strong></p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/./images/%E9%80%89%E9%A1%B9%E5%AF%B9%E8%AF%9D%E6%A1%86.jpg"
                     
                ></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OptionDialogTest</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试选项对话框&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">jta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">6</span>, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JButton</span> <span class="variable">btn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;弹出选项对话框&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> JOptionPane.showOptionDialog(jf, <span class="string">&quot;请选择尿不湿号码&quot;</span>, <span class="string">&quot;选项对话框&quot;</span>,JOptionPane.DEFAULT_OPTION,JOptionPane.INFORMATION_MESSAGE,</span><br><span class="line">                    <span class="literal">null</span>,<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;大号&quot;</span>,<span class="string">&quot;中号&quot;</span>,<span class="string">&quot;小号&quot;</span>&#125;,<span class="string">&quot;中号&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">switch</span> (result)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    jta.setText(<span class="string">&quot;用户选择了大号&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    jta.setText(<span class="string">&quot;用户选择了中号&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    jta.setText(<span class="string">&quot;用户选择了小号&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        jf.add(jta);</span><br><span class="line">        jf.add(btn, BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">OptionDialogTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



<h2 id="3-3-Swing中的特殊容器"><a href="#3-3-Swing中的特殊容器" class="headerlink" title="3.3 Swing中的特殊容器"></a>3.3 Swing中的特殊容器</h2><p>Swing提供了一些具有特殊功能的容器 ， 这些特殊容器可以用于创建一些更复杂的用户界面。</p>
<h3 id="3-3-1-使用JSplitPane"><a href="#3-3-1-使用JSplitPane" class="headerlink" title="3.3.1 使用JSplitPane"></a>3.3.1 使用JSplitPane</h3><p>JSplitPane 用于创建一个分割面板,它可以将 一个组件(通常是一个容器)分割成两个部分，并提供一个分割条 ， 用户可以拖动该分割条来调整两个部分的大小。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051046876.jpg"
                     
                ></p>
<p><strong>JSplitPane使用步骤：</strong></p>
<ol>
<li>创建JSplitPane对象</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">通过如下构造方法可以创建JSplitPane对象</span><br><span class="line">JSplitPane(<span class="type">int</span> newOrientation, Component newLeftComponent,Component newRightComponent)</span><br><span class="line">    newOrientation：指定JSplitPane容器的分割方向：</span><br><span class="line">    	如果值为JSplitPane.VERTICAL_SPLIT,为纵向分割；</span><br><span class="line">    	如果值为JSplitPane.HORIZONTAL_SPLIT，为横向分割；</span><br><span class="line">    	</span><br><span class="line">    newLeftComponent：左侧或者上侧的组件；</span><br><span class="line">    newRightComponent：右侧或者下侧的组件；</span><br></pre></td></tr></table></figure></div>

<ol start="2">
<li>设置是否开启连续布局的支持(可选)</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setContinuousLayout(<span class="type">boolean</span> newContinuousLayout):</span><br><span class="line">	默认是关闭的，如果设置为<span class="literal">true</span>，则打开连续布局的支持，但由于连续布局支持需要不断的重绘组件，所以效率会低一些</span><br></pre></td></tr></table></figure></div>

<ol start="3">
<li>设置是否支持”一触即展”的支持(可选)</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setOneTouchExpandable(<span class="type">boolean</span> newValue):</span><br><span class="line">	默认是关闭的，如果设置为<span class="literal">true</span>，则打开<span class="string">&quot;一触即展&quot;</span>的支持</span><br></pre></td></tr></table></figure></div>

<ol start="4">
<li>其他设置</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setDividerLocation(<span class="type">double</span> proportionalLocation):设置分隔条的位置为JSplitPane的某个百分比</span><br><span class="line">setDividerLocation(<span class="type">int</span> location)：通过像素值设置分隔条的位置</span><br><span class="line">setDividerSize(<span class="type">int</span> newSize)：通过像素值设置分隔条的大小</span><br><span class="line">setLeftComponent(Component comp)/setTopComponent(Component comp)/setRightComponent(Component comp)/setBottomComponent(Component comp):设置指定位置的组件</span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	使用JSplitPane实现下图效果：</p>
<p>​		点击右侧的图书名称，在左上方显示该图书的图片，左下方显示该图书的描述</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051046782.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Icon icon;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String name, Icon icon, String desc)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.icon = icon;</span><br><span class="line">        <span class="built_in">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Icon <span class="title function_">getIcon</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> icon;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setIcon</span><span class="params">(Icon icon)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.icon = icon;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDesc</span><span class="params">(String desc)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.swing.util.ImagePathUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ListSelectionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ListSelectionListener;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SplitPaneTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    Book[] books = &#123;<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;java自学宝典&quot;</span>, <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;3\\java.png&quot;</span>)), <span class="string">&quot;国内关于 Java 编程最全面的图书 \n 看得懂 ， 学得会&quot;</span>),</span><br><span class="line"></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;轻量级的JAVAEE企业应用实战&quot;</span>, <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;3\\ee.png&quot;</span>)), <span class="string">&quot;SSM整合开发的经典图书，值的拥有&quot;</span>),</span><br><span class="line"></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;Android基础教程&quot;</span>, <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;3\\android.png&quot;</span>)), <span class="string">&quot;全面介绍Android平台应用程序\n 开发的各方面知识&quot;</span>)</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试JSplitPane&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//列表展示图书</span></span><br><span class="line">    JList&lt;Book&gt; bookList = <span class="keyword">new</span> <span class="title class_">JList</span>&lt;&gt;(books);</span><br><span class="line"></span><br><span class="line">    <span class="type">JLabel</span> <span class="variable">bookCover</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">bookDesc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为三个组件设置最佳大小</span></span><br><span class="line">        bookList.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(<span class="number">150</span>,<span class="number">400</span>));</span><br><span class="line">        bookCover.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(<span class="number">220</span>,<span class="number">330</span>));</span><br><span class="line">        bookDesc.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(<span class="number">220</span>,<span class="number">70</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为列表添加事件监听器</span></span><br><span class="line">        bookList.addListSelectionListener(<span class="keyword">new</span> <span class="title class_">ListSelectionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">valueChanged</span><span class="params">(ListSelectionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">Book</span> <span class="variable">book</span> <span class="operator">=</span> bookList.getSelectedValue();</span><br><span class="line">                bookCover.setIcon(book.getIcon());</span><br><span class="line">                bookDesc.setText(book.getDesc());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建一个垂直的分割面板</span></span><br><span class="line">        <span class="type">JSplitPane</span> <span class="variable">left</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSplitPane</span>(JSplitPane.VERTICAL_SPLIT,bookCover,<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(bookDesc));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//打开&quot;一触即展&quot;特性</span></span><br><span class="line">        left.setOneTouchExpandable(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置分隔条的大小</span></span><br><span class="line"></span><br><span class="line">        left.setDividerSize(<span class="number">10</span>);</span><br><span class="line">        <span class="comment">//设置分割面板根据组件的大小调整最佳布局</span></span><br><span class="line">        left.resetToPreferredSizes();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//创建一个水平分隔面板</span></span><br><span class="line">        <span class="type">JSplitPane</span> <span class="variable">content</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSplitPane</span>(JSplitPane.HORIZONTAL_SPLIT, left, bookList);</span><br><span class="line">        <span class="comment">//设置支持连续布局</span></span><br><span class="line">        content.setContinuousLayout(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        jf.add(content);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">SplitPaneTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="3-3-2-使用JTabledPane"><a href="#3-3-2-使用JTabledPane" class="headerlink" title="3.3.2 使用JTabledPane"></a>3.3.2 使用JTabledPane</h3><p>JTabbedPane可以很方便地在窗口上放置多个标签页，每个标签页相当于获得了一个与外部容器具有相同大小的组件摆放区域。通过这种方式， 就可以在一个容器里放置更多的组件 ， 例如右击桌面上的” 我的电脑 “图标，在弹出的快捷菜单里单击”属性 “ 菜单工页 ， 就可以看 到 一个”系统属性 “ 对话框 ，这个对话框里包含了 若干个标签页。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047090.jpg"
                      style="zoom:50%;" 
                >

<p>如果需要使用JTabbedPane在窗口上创建标签页 ，则可以按如下步骤进行:</p>
<ol>
<li>创建JTabbedPane对象</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">JTabbedPane(<span class="type">int</span> tabPlacement, <span class="type">int</span> tabLayoutPolicy):</span><br><span class="line">tabPlacement:</span><br><span class="line">	指定标签标题的放置位置，可以选择 SwingConstants中的四个常量：TOP、LEFT、BOTTOM、RIGHT</span><br><span class="line">tabLaoutPolicy:</span><br><span class="line">	指定当窗口不能容纳标签页标题时的布局策略，可以选择JTabbedPane.WRAP_TAB_LAYOUT和JTabbedPane.SCROLL_TAB_LAYOUT</span><br></pre></td></tr></table></figure></div>

<ol start="2">
<li>通过JTabbedPane对象堆标签进行增删改查</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">addTab(String title, Icon icon, Component component, String tip):添加标签</span><br><span class="line">	title:标签的名称</span><br><span class="line">	icon:标签的图标</span><br><span class="line">	component:标签对应的组件</span><br><span class="line">	tip:光标放到标签上的提示</span><br><span class="line">	</span><br><span class="line">insertTab(String title, Icon icon, Component component, String tip, <span class="type">int</span> index):插入标签页</span><br><span class="line">	title:标签的名称</span><br><span class="line">	icon:标签的图标</span><br><span class="line">	component:标签对应的组件</span><br><span class="line">	tip:光标放到标签上的提示</span><br><span class="line">	index:在哪个索引处插入标签页</span><br><span class="line">setComponentAt(<span class="type">int</span> index, Component component):修改标签页对应的组件</span><br><span class="line">	index:修改哪个索引处的标签</span><br><span class="line">	component:标签对应的组件</span><br><span class="line">removeTabAt(<span class="type">int</span> index):</span><br><span class="line">	index:删除哪个索引处的标签</span><br></pre></td></tr></table></figure></div>

<ol start="3">
<li>设置当前显示的标签页</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setSelectedIndex(<span class="type">int</span> index):设置哪个索引处的标签被选中</span><br></pre></td></tr></table></figure></div>

<ol start="4">
<li>设置JTabbedPane的其他属性</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setDisabledIconAt(<span class="type">int</span> index, Icon disabledIcon): 将指定位置的禁用图标设置为 icon，该图标也可以是<span class="literal">null</span>表示不使用禁用图标。</span><br><span class="line">setEnabledAt(<span class="type">int</span> index, <span class="type">boolean</span> enabled): 设置指定位置的标签页是否启用。</span><br><span class="line">setTitleAt(<span class="type">int</span> index, String title): 设置指定位置标签页的标题为 title，该title可以是<span class="literal">null</span>,这表明设置该标签页的标题为空。</span><br><span class="line">setToolTipTextAt(<span class="type">int</span> index, String toolTipText): 设置指定位置标签页的提示文本 。</span><br></pre></td></tr></table></figure></div>

<ol start="5">
<li>为JTabbedPane设置监听器</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addChangeListener(ChangeListener l)</span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	请使用JTabbedPane完成下图功能：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047991.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ChangeEvent;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ChangeListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JTabbedPaneTest</span> &#123;</span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试JTabbedPane&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">JTabbedPane</span> <span class="variable">tabbedPane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTabbedPane</span>(SwingConstants.TOP,JTabbedPane.WRAP_TAB_LAYOUT);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置jf大小</span></span><br><span class="line">        jf.setBounds(<span class="number">400</span>,<span class="number">400</span>,<span class="number">400</span>,<span class="number">400</span>);</span><br><span class="line">        <span class="comment">//设置jf大小不能变化</span></span><br><span class="line">        jf.setResizable(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">ImageIcon</span> <span class="variable">icon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;3\\open.gif&quot;</span>));</span><br><span class="line">        <span class="comment">//添加标签</span></span><br><span class="line">        tabbedPane.addTab(<span class="string">&quot;用户管理&quot;</span>,icon,<span class="keyword">new</span> <span class="title class_">JList</span>&lt;String&gt;(<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;用户一&quot;</span>,<span class="string">&quot;用户二&quot;</span>,<span class="string">&quot;用户三&quot;</span>&#125;));</span><br><span class="line">        tabbedPane.addTab(<span class="string">&quot;商品管理&quot;</span>,<span class="keyword">new</span> <span class="title class_">JList</span>&lt;String&gt;(<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;商品一&quot;</span>,<span class="string">&quot;商品二&quot;</span>,<span class="string">&quot;商品三&quot;</span>&#125;));</span><br><span class="line">        tabbedPane.addTab(<span class="string">&quot;订单管理&quot;</span>,icon,<span class="keyword">new</span> <span class="title class_">JList</span>&lt;String&gt;(<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;订单一&quot;</span>,<span class="string">&quot;订单二&quot;</span>,<span class="string">&quot;订单三&quot;</span>&#125;));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置第二个标签默认选中</span></span><br><span class="line">        tabbedPane.setSelectedIndex(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//设置第一个标签不能用</span></span><br><span class="line">        tabbedPane.setEnabledAt(<span class="number">0</span>,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        tabbedPane.addChangeListener(<span class="keyword">new</span> <span class="title class_">ChangeListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stateChanged</span><span class="params">(ChangeEvent e)</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">selectedIndex</span> <span class="operator">=</span> tabbedPane.getSelectedIndex();</span><br><span class="line">                JOptionPane.showMessageDialog(jf,<span class="string">&quot;选中了第&quot;</span>+(selectedIndex+<span class="number">1</span>)+<span class="string">&quot;个标签&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        jf.add(tabbedPane);</span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JTabbedPaneTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



<h3 id="3-3-3-使用JLayeredPane、JDesktopPane、JInternalFrame"><a href="#3-3-3-使用JLayeredPane、JDesktopPane、JInternalFrame" class="headerlink" title="3.3.3 使用JLayeredPane、JDesktopPane、JInternalFrame"></a>3.3.3 使用JLayeredPane、JDesktopPane、JInternalFrame</h3><h4 id="3-3-3-1-JLayeredPane"><a href="#3-3-3-1-JLayeredPane" class="headerlink" title="3.3.3.1 JLayeredPane"></a>3.3.3.1 JLayeredPane</h4><p>JLayeredPane是 一个代表有层 次深度的容器 ， 它允许组件在需要 时 互相重叠。当向JLayeredPane容器中添加组件时， 需要为该组件指定一个深度索引 ， 其中层次索引较高 的层里的组件位于其他层的组件之上。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047373.gif"
                     
                ></p>
<p>JLayeredPane 还将容器的层次深度分成几个默认层 ，程序只是将组件放入相应 的层 ，从而可以更容易地确保组件的正确重叠 ， 无须为组件指定具体的深度索引。JLayeredPane 提供了如下几个默认层：</p>
<ol>
<li>DEFAULT_LAYER:大多数组件位于标准层，这是最底层；</li>
<li>PALETTE_LAYER : 调色板层位于默认层之上 。该层对于浮动工具栏和调色板很有用，因此可以位于其他组件之上 。</li>
<li>MODAL_LAYER: 该层用于显示模式对话框。它们将出现在容器中所有工具栏 、调色板或标准组件的上面 。</li>
<li>POPUP_LAYER : 该层用于显示右键菜单 ， 与对话框 、工具提示和普通组件关联的弹出式窗口将出现在对应的对话框、工具提示和普通组件之上。</li>
<li>DRAG_LAYER: 该层用于放置拖放过程中的组件(关于拖放操作请看下一节内 容) ，拖放操作中的组件位于所有组件之上 。 一旦拖放操作结束后 ， 该组件将重新分配到其所属的正常层。</li>
</ol>
<p><strong>JLayeredPane 方法：</strong></p>
<ol>
<li>moveToBack(Component c)：把当前组件c移动到所在层的所有组件的最后一个位置；</li>
<li>moveToFront(Component c)：把当前组件c移动到所在层的所有组件的第一个位置；</li>
<li>setLayer(Component c, int layer)：更改组件c所处的层；</li>
</ol>
<p>需要注意的是，往JLayeredPane中添加组件，如果要显示，则必须手动设置该组件在容器中显示的位置以及大小。</p>
<p><strong>案例：</strong></p>
<p>​	使用JLayeredPane完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047075.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.itcast.swing.util.ImagePathUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JLayeredPaneTest</span> &#123;</span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试JLayeredPane&quot;</span>);</span><br><span class="line">    <span class="type">JLayeredPane</span> <span class="variable">layeredPane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLayeredPane</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//自定义组件，继承JPanel</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">ContentPanel</span> <span class="keyword">extends</span> <span class="title class_">JPanel</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ContentPanel</span><span class="params">(<span class="type">int</span> xPos,<span class="type">int</span> yPos,String title,String ico)</span>&#123;</span><br><span class="line">            <span class="comment">//设置边框</span></span><br><span class="line">            setBorder(BorderFactory.createTitledBorder(BorderFactory.createEtchedBorder(),title));</span><br><span class="line">            <span class="type">JLabel</span> <span class="variable">label</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;3\\&quot;</span>+ico)));</span><br><span class="line">            add(label);</span><br><span class="line">            setBounds(xPos,yPos,<span class="number">160</span>,<span class="number">220</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//向LayeredPane中添加三个组件，往JLayeredPane中添加组件，都必须手动的设置组件显示的位置和大小，才能显示出来</span></span><br><span class="line"></span><br><span class="line">        layeredPane.add(<span class="keyword">new</span> <span class="title class_">ContentPanel</span>(<span class="number">10</span>,<span class="number">20</span>,<span class="string">&quot;java自学宝典&quot;</span>,<span class="string">&quot;java.png&quot;</span>),JLayeredPane.MODAL_LAYER);</span><br><span class="line">        layeredPane.add(<span class="keyword">new</span> <span class="title class_">ContentPanel</span>(<span class="number">100</span>,<span class="number">60</span>,<span class="string">&quot;Android基础教程&quot;</span>,<span class="string">&quot;android.png&quot;</span>),JLayeredPane.DEFAULT_LAYER);</span><br><span class="line">        layeredPane.add(<span class="keyword">new</span> <span class="title class_">ContentPanel</span>(<span class="number">80</span>,<span class="number">100</span>,<span class="string">&quot;轻量级javaEE企业应用&quot;</span>,<span class="string">&quot;ee.png&quot;</span>),JLayeredPane.DRAG_LAYER);</span><br><span class="line"></span><br><span class="line">        layeredPane.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(<span class="number">300</span>,<span class="number">400</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        jf.add(layeredPane);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JLayeredPaneTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="3-3-3-2-JDesktopPane和JInternalFrame"><a href="#3-3-3-2-JDesktopPane和JInternalFrame" class="headerlink" title="3.3.3.2 JDesktopPane和JInternalFrame"></a>3.3.3.2 JDesktopPane和JInternalFrame</h4><p>JDesktopPane是JLayeredPane的子类，这种容器在开发中会更常用很多应用程序都需要启动多个内部窗口来显示信息（典型的比如IDEA、NotePad++），这些内部窗口都属于同一个外部窗口，当外部窗 口 最小化时， 这些内部窗口都被隐藏起来。在 Windows 环境中，这<br>种用户界面被称为多文档界面 C Multiple Document Interface, MDI) 。</p>
<p>使用 Swing 可以非常简单地创建出这种 MDI 界面 ， 通常，内部窗口有自己的标题栏、标题、图标、三个窗口按钮，并允许拖动改变内部窗口 的大小和位置，但内部窗口不能拖出外部窗口。</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047420.jpg"
                      style="zoom:50%;" 
                ></p>
<p>JDesktopPane 需要和 JIntemalFrame 结合使用，其中JDesktopPane 代表一 个虚拟桌面 ，而JIntemalFrame则用于创建内部窗口。使用 JDesktopPane 和 JIntemalFrame 创建内部窗口按如下步骤进行即可:</p>
<ol>
<li>创建 一 个 JDesktopPane 对象,代表虚拟桌面</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JDesktopPane()</span><br></pre></td></tr></table></figure></div>

<ol start="2">
<li>使用 JIntemalFrame 创建一个内部窗口</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">JInternalFrame(String title, <span class="type">boolean</span> resizable, <span class="type">boolean</span> closable, <span class="type">boolean</span> maximizable, <span class="type">boolean</span> iconifiable):</span><br><span class="line">	title: 内部窗口标题</span><br><span class="line">	resizable:是否可改变大小</span><br><span class="line">	closeble: 是否可关闭</span><br><span class="line">	maximizable: 是否可最大化</span><br><span class="line">	iconifiable:是否可最小化</span><br></pre></td></tr></table></figure></div>

<ol start="3">
<li>一旦获得了内部窗口之后，该窗口的用法和普通窗口的用法基本相似， 一样可以指定该窗口的布局管理器， 一样可以向窗口内添加组件、改变窗口图标等。</li>
<li>将该内部窗口以合适大小、在合适位置显示出来 。与普通窗口类似的是， 该窗口默认大小是 0x0像素，位于0，0 位置(虚拟桌面的左上角处)，并且默认处于隐藏状态，程序可以通过如下代码将内部窗口显示出来:</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reshape(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> width, <span class="type">int</span> height):设置内部窗口的大小以及在外部窗口中的位置；</span><br><span class="line">show():设置内部窗口可见</span><br></pre></td></tr></table></figure></div>

<ol start="5">
<li>将内部窗口添加到 JDesktopPane 容器中，再将 JDesktopPane 容器添加到其他容器中。</li>
</ol>
<p><strong>案例：</strong></p>
<p>​	请使用JDesktopPane和JInternalFrame完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047934.jpg"
                      style="zoom:50%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.itcast.swing.util.ImagePathUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JInternalFrameTest</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> <span class="variable">DESKTOP_WIDTH</span> <span class="operator">=</span> <span class="number">480</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> <span class="variable">DESKTOP_HEIGHT</span> <span class="operator">=</span> <span class="number">360</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> <span class="variable">FRAME_DISTANCE</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建外部窗口</span></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试JInternalFrame&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建虚拟桌面</span></span><br><span class="line">    <span class="type">JDesktopPane</span> <span class="variable">desktop</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JDesktopPane</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义内部窗口为的大小</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">width</span> <span class="operator">=</span> <span class="number">230</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">height</span> <span class="operator">=</span> DESKTOP_HEIGHT;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义下一个内部窗口的横轴坐标</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">nextFrameX</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//为外部窗口定义两个菜单</span></span><br><span class="line">    <span class="type">JMenu</span> <span class="variable">fileMenu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenu</span>(<span class="string">&quot;文件&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义Action，用于快捷创建菜单项和工具按钮</span></span><br><span class="line">    <span class="type">Action</span> <span class="variable">newAction</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;新建&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;3\\new.png&quot;</span>))) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">            <span class="comment">//创建内部窗口</span></span><br><span class="line">            <span class="type">JInternalFrame</span> <span class="variable">iframe</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JInternalFrame</span>(<span class="string">&quot;新文档&quot;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="literal">true</span>);</span><br><span class="line">            <span class="comment">//往内部窗口中添加一个8行40列的文本框</span></span><br><span class="line">            iframe.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(<span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">8</span>,<span class="number">40</span>)));</span><br><span class="line">            <span class="comment">//将内部窗口添加到虚拟桌面中</span></span><br><span class="line">            desktop.add(iframe);</span><br><span class="line">            <span class="comment">//设置内部窗口的原始位置</span></span><br><span class="line">            iframe.reshape(nextFrameX,<span class="number">0</span>,width,height);</span><br><span class="line">            <span class="comment">//使该窗口可见</span></span><br><span class="line">            iframe.show();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//计算下一个内部窗口的位置</span></span><br><span class="line">            nextFrameX+=FRAME_DISTANCE;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (nextFrameX&gt;DESKTOP_WIDTH-width)&#123;</span><br><span class="line">                nextFrameX=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">Action</span> <span class="variable">exitAction</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AbstractAction</span>(<span class="string">&quot;退出&quot;</span>,<span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;3\\exit.png&quot;</span>))) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">            <span class="comment">//结束当前程序</span></span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为窗口安装菜单条</span></span><br><span class="line">        <span class="type">JMenuBar</span> <span class="variable">menuBar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JMenuBar</span>();</span><br><span class="line"></span><br><span class="line">        jf.setJMenuBar(menuBar);</span><br><span class="line">        menuBar.add(fileMenu);</span><br><span class="line">        fileMenu.add(newAction);</span><br><span class="line">        fileMenu.add(exitAction);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置虚拟桌面的最佳大小</span></span><br><span class="line">        desktop.setPreferredSize(<span class="keyword">new</span> <span class="title class_">Dimension</span>(DESKTOP_WIDTH,DESKTOP_HEIGHT));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将虚拟桌面添加到外部窗口中</span></span><br><span class="line">        jf.add(desktop);</span><br><span class="line"></span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JInternalFrameTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="3-4-JProcessBar、ProcessMonitor、BoundedRangeModel实现进度条"><a href="#3-4-JProcessBar、ProcessMonitor、BoundedRangeModel实现进度条" class="headerlink" title="3.4 JProcessBar、ProcessMonitor、BoundedRangeModel实现进度条"></a>3.4 JProcessBar、ProcessMonitor、BoundedRangeModel实现进度条</h2><p>进度条是图形界面中广泛使用的GUI 组件，当复制一个较大的文件时，操作系统会显示一个进度条，用于标识复制操作完成的比例 : 当启动 Eclipse 等程序时， 因为需要加载较多的资源 ， 故而启动速度较慢 ， 程序也会在启动过程中显示一个进度条 ， 用以表示该软件启动完成的比例 ……</p>
<h3 id="3-4-1-创建进度条"><a href="#3-4-1-创建进度条" class="headerlink" title="3.4.1 创建进度条"></a>3.4.1 创建进度条</h3><p>使用JProgressBar创建进度条的步骤：</p>
<ol>
<li>创建JProgressBar对象</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">JProgressBar</span><span class="params">(<span class="type">int</span> orient, <span class="type">int</span> min, <span class="type">int</span> max)</span>:</span><br><span class="line">	orint:方向</span><br><span class="line">	min:最小值</span><br><span class="line">	max:最大值</span><br></pre></td></tr></table></figure></div>

<ol start="2">
<li>设置属性</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setBorderPainted(<span class="type">boolean</span> b):设置进度条是否有边框</span><br><span class="line">setIndeterminate(<span class="type">boolean</span> newValue):设置当前进度条是不是进度不确定的进度条，如果是，则将看到一个滑块在进度条中左右移动</span><br><span class="line">setStringPainted(<span class="type">boolean</span> b)：设置进度条是否显示当前完成的百分比</span><br></pre></td></tr></table></figure></div>

<ol start="3">
<li>获取和设置当前进度条的进度状态</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setValue(<span class="type">int</span> n):设置当前进度值</span><br><span class="line"><span class="type">double</span> <span class="title function_">getPercentComplete</span><span class="params">()</span>:获取进度条的完成百分比</span><br><span class="line">String  <span class="title function_">getStrin</span><span class="params">()</span>:返回进度字符串的当前值</span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	请使用JProgressBar完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047761.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JProgressTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试进度条&quot;</span>);</span><br><span class="line">    <span class="comment">//创建一个垂直进度条</span></span><br><span class="line">    <span class="type">JProgressBar</span> <span class="variable">bar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JProgressBar</span>(JProgressBar.HORIZONTAL);</span><br><span class="line"></span><br><span class="line">    <span class="type">JCheckBox</span> <span class="variable">indeterminate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;不确定进度&quot;</span>);</span><br><span class="line">    <span class="type">JCheckBox</span> <span class="variable">noBorder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;不绘制边框&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Box</span> <span class="variable">box</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Box</span>(BoxLayout.Y_AXIS);</span><br><span class="line">        box.add(indeterminate);</span><br><span class="line">        box.add(noBorder);</span><br><span class="line"></span><br><span class="line">        jf.setLayout(<span class="keyword">new</span> <span class="title class_">FlowLayout</span>());</span><br><span class="line">        jf.add(box);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把进度条添加到jf窗口中</span></span><br><span class="line">        jf.add(bar);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置进度条的最大值和最小值</span></span><br><span class="line">        bar.setMinimum(<span class="number">0</span>);</span><br><span class="line">        bar.setMaximum(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置进度条中绘制完成百分比</span></span><br><span class="line">        bar.setStringPainted(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据选择决定是否绘制进度条边框</span></span><br><span class="line">        noBorder.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> noBorder.isSelected();</span><br><span class="line">                bar.setBorderPainted(!flag);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据选择决定是否是不确定进度条</span></span><br><span class="line">        indeterminate.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> indeterminate.isSelected();</span><br><span class="line">                bar.setIndeterminate(flag);</span><br><span class="line">                <span class="comment">//不绘制百分比，因为之前设置了绘制百分比</span></span><br><span class="line">                bar.setStringPainted(!flag);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过循环不断改变进度条的完成进度</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//改变进度条的完成进度</span></span><br><span class="line">            bar.setValue(i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JProgressTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>在刚才的程序中，通过for循环来不断的更新进度条的进度，这仅仅是为了演示而已，实际开发中这样的操作是没有意义的。通常情况下是不断的检测一个耗时任务的完成情况，然后才去更新进度条的进度。下面的代码通过Timer定时器和Runnable接口，对上述代码进行改进，其运行结果没有变化，知识修改到了进度条进度更新的逻辑。</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ChangeEvent;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ChangeListener;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JProgressTest2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试进度条&quot;</span>);</span><br><span class="line">    <span class="comment">//创建一个垂直进度条</span></span><br><span class="line">    <span class="type">JProgressBar</span> <span class="variable">bar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JProgressBar</span>(JProgressBar.HORIZONTAL);</span><br><span class="line"></span><br><span class="line">    <span class="type">JCheckBox</span> <span class="variable">indeterminate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;不确定进度&quot;</span>);</span><br><span class="line">    <span class="type">JCheckBox</span> <span class="variable">noBorder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;不绘制边框&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Box</span> <span class="variable">box</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Box</span>(BoxLayout.Y_AXIS);</span><br><span class="line">        box.add(indeterminate);</span><br><span class="line">        box.add(noBorder);</span><br><span class="line"></span><br><span class="line">        jf.setLayout(<span class="keyword">new</span> <span class="title class_">FlowLayout</span>());</span><br><span class="line">        jf.add(box);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把进度条添加到jf窗口中</span></span><br><span class="line">        jf.add(bar);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//开启耗时任务</span></span><br><span class="line">        <span class="type">SimulatedActivity</span> <span class="variable">simulatedActivity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimulatedActivity</span>(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(simulatedActivity).start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置进度条的最大值和最小值</span></span><br><span class="line">        bar.setMinimum(<span class="number">0</span>);</span><br><span class="line">        bar.setMaximum(simulatedActivity.getAmount());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置进度条中绘制完成百分比</span></span><br><span class="line">        bar.setStringPainted(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据选择决定是否绘制进度条边框</span></span><br><span class="line">        noBorder.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> noBorder.isSelected();</span><br><span class="line">                bar.setBorderPainted(!flag);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据选择决定是否是不确定进度条</span></span><br><span class="line">        indeterminate.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> indeterminate.isSelected();</span><br><span class="line">                bar.setIndeterminate(flag);</span><br><span class="line">                <span class="comment">//不绘制百分比，因为之前设置了绘制百分比</span></span><br><span class="line">                bar.setStringPainted(!flag);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过定时器，不断的读取simulatedActivity中的current值，更新进度条的进度</span></span><br><span class="line">        <span class="type">Timer</span> <span class="variable">timer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Timer</span>(<span class="number">300</span>, <span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                bar.setValue(simulatedActivity.getCurrent());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        timer.start();</span><br><span class="line">        <span class="comment">//监听进度条的变化，如果进度完成为100%，那么停止定时器</span></span><br><span class="line">        bar.addChangeListener(<span class="keyword">new</span> <span class="title class_">ChangeListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stateChanged</span><span class="params">(ChangeEvent e)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (   bar.getValue()==bar.getMaximum())&#123;</span><br><span class="line">                    timer.stop();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JProgressTest2</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个线程任务，模拟耗时操作</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">SimulatedActivity</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">        <span class="comment">//内存可见</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">current</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> amount;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">SimulatedActivity</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.amount = amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCurrent</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> current;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCurrent</span><span class="params">(<span class="type">int</span> current)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.current = current;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAmount</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAmount</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.amount = amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">//通过循环，不断的修改current的值，模拟任务完成量</span></span><br><span class="line">            <span class="keyword">while</span>(current&lt;amount)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">50</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                current++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>之前我们学习过，其实Swing中很多组件的界面与数据都采用了MVC的设计思想：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047774.png"
                     
                ></p>
<p>Swing 组件大都将外观显示和 内部数据分离 ， JProgressBar 也不例外， JProgressBar 组件有一个内置的用于保存其状态数据的Model对象 ， 这个对象由BoundedRangeModel对象表示，程序调用JProgressBar对象的方法完成进度百分比的设置，监听进度条的数据变化，其实都是通过它内置的BoundedRangeModel对象完成的。下面的代码是对之前代码的改进，通过BoundedRangeModel完成数据的设置，获取与监听。</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ChangeEvent;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ChangeListener;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JProgressTest3</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试进度条&quot;</span>);</span><br><span class="line">    <span class="comment">//创建一个垂直进度条</span></span><br><span class="line">    <span class="type">JProgressBar</span> <span class="variable">bar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JProgressBar</span>(JProgressBar.HORIZONTAL);</span><br><span class="line"></span><br><span class="line">    <span class="type">JCheckBox</span> <span class="variable">indeterminate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;不确定进度&quot;</span>);</span><br><span class="line">    <span class="type">JCheckBox</span> <span class="variable">noBorder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;不绘制边框&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Box</span> <span class="variable">box</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Box</span>(BoxLayout.Y_AXIS);</span><br><span class="line">        box.add(indeterminate);</span><br><span class="line">        box.add(noBorder);</span><br><span class="line"></span><br><span class="line">        jf.setLayout(<span class="keyword">new</span> <span class="title class_">FlowLayout</span>());</span><br><span class="line">        jf.add(box);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//把进度条添加到jf窗口中</span></span><br><span class="line">        jf.add(bar);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//开启耗时任务</span></span><br><span class="line">        <span class="type">SimulatedActivity</span> <span class="variable">simulatedActivity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimulatedActivity</span>(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(simulatedActivity).start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置进度条的最大值和最小值</span></span><br><span class="line">        bar.getModel().setMinimum(<span class="number">0</span>);</span><br><span class="line">        bar.getModel().setMaximum(simulatedActivity.getAmount());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置进度条中绘制完成百分比</span></span><br><span class="line">        bar.setStringPainted(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据选择决定是否绘制进度条边框</span></span><br><span class="line">        noBorder.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> noBorder.isSelected();</span><br><span class="line">                bar.setBorderPainted(!flag);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据选择决定是否是不确定进度条</span></span><br><span class="line">        indeterminate.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> indeterminate.isSelected();</span><br><span class="line">                bar.setIndeterminate(flag);</span><br><span class="line">                <span class="comment">//不绘制百分比，因为之前设置了绘制百分比</span></span><br><span class="line">                bar.setStringPainted(!flag);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        jf.pack();</span><br><span class="line">        jf.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过定时器，不断的读取simulatedActivity中的current值，更新进度条的进度</span></span><br><span class="line">        <span class="type">Timer</span> <span class="variable">timer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Timer</span>(<span class="number">300</span>, <span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                bar.getModel().setValue(simulatedActivity.getCurrent());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        timer.start();</span><br><span class="line">        <span class="comment">//监听进度条的变化，如果进度完成为100%，那么停止定时器</span></span><br><span class="line">        bar.getModel().addChangeListener(<span class="keyword">new</span> <span class="title class_">ChangeListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stateChanged</span><span class="params">(ChangeEvent e)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (   bar.getModel().getValue()==bar.getModel().getMaximum())&#123;</span><br><span class="line">                    timer.stop();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JProgressTest3</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个线程任务，模拟耗时操作</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">SimulatedActivity</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">        <span class="comment">//内存可见</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">current</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> amount;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">SimulatedActivity</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.amount = amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCurrent</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> current;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCurrent</span><span class="params">(<span class="type">int</span> current)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.current = current;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAmount</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAmount</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.amount = amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">//通过循环，不断的修改current的值，模拟任务完成量</span></span><br><span class="line">            <span class="keyword">while</span>(current&lt;amount)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">50</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                current++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-4-2-创建进度对话框"><a href="#3-4-2-创建进度对话框" class="headerlink" title="3.4.2 创建进度对话框"></a>3.4.2 创建进度对话框</h3><p>ProgressMonitor的用法与JProgressBa 的用法基本相似，只是ProgressMonitor可以直接创 建一个进度对话框，它提供了下面的构造器完成对话框的创建：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">ProgressMonitor</span><span class="params">(Component parentComponent,Object message,String note, <span class="type">int</span> min,<span class="type">int</span> max)</span>:</span><br><span class="line">parentComponent:对话框的父组件</span><br><span class="line">message:对话框的描述信息</span><br><span class="line">note:对话框的提示信息</span><br><span class="line">min:进度条的最小值</span><br><span class="line">max:进度条的最大值</span><br></pre></td></tr></table></figure></div>

<p>使用 ProgressMonitor 创建的对话框里包含的进度条是非常固定的，程序甚至不能设置该进度条是否包含边框(总是包含边框) ， 不能设置进度不确定，不能改变进度条的方向(总是水平方向) 。</p>
<p><strong>案例：</strong></p>
<p>​	使用ProgressMonitor完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047755.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProgressMonitorTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    Timer timer;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">SimulatedActivity</span> <span class="variable">simulatedActivity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimulatedActivity</span>(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">final</span> Thread targetThread= <span class="keyword">new</span> <span class="title class_">Thread</span>(simulatedActivity);</span><br><span class="line">        targetThread.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">ProgressMonitor</span> <span class="variable">dialog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ProgressMonitor</span>(<span class="literal">null</span>, <span class="string">&quot;等待任务完成&quot;</span>, <span class="string">&quot;已完成：&quot;</span>, <span class="number">0</span>, simulatedActivity.getAmount());</span><br><span class="line"></span><br><span class="line">        timer = <span class="keyword">new</span> <span class="title class_">Timer</span>(<span class="number">300</span>, <span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                dialog.setProgress(simulatedActivity.getCurrent());</span><br><span class="line">                <span class="keyword">if</span> (dialog.isCanceled())&#123;</span><br><span class="line">                    timer.stop();</span><br><span class="line">                    targetThread.interrupt();</span><br><span class="line">                    System.exit(<span class="number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        timer.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ProgressMonitorTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个线程任务，模拟耗时操作</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">SimulatedActivity</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">        <span class="comment">//内存可见</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">current</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> amount;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">SimulatedActivity</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.amount = amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCurrent</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> current;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCurrent</span><span class="params">(<span class="type">int</span> current)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.current = current;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAmount</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAmount</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.amount = amount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">//通过循环，不断的修改current的值，模拟任务完成量</span></span><br><span class="line">            <span class="keyword">while</span>(current&lt;amount)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">50</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                current++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="3-5-JList、JComboBox实现列表框"><a href="#3-5-JList、JComboBox实现列表框" class="headerlink" title="3.5 JList、JComboBox实现列表框"></a>3.5 JList、JComboBox实现列表框</h2><p>无论从哪个角度来看， JList 和 JComboBox 都是极其相似的，它们都有一个列表框，只是 JComboBox的列表框需要 以下拉方式显示出来; JList 和 JComboBox 都可以通过调用 setRendererO方法来改变列表项的表现形式 。甚至维护这两个组件的 Model 都是相似的， JList 使用 ListModel, JComboBox 使用ComboBoxModel ，而 ComboBoxModel 是 ListModel 的子类 。</p>
<h3 id="3-5-1-简单列表框"><a href="#3-5-1-简单列表框" class="headerlink" title="3.5.1 简单列表框"></a>3.5.1 简单列表框</h3><p>使用JList或JComboBox实现简单列表框的步骤：</p>
<ol>
<li>创建JList或JComboBox对象</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JList(<span class="keyword">final</span> E[] listData):创建JList对象，把listData数组中的每项内容转换成一个列表项展示</span><br><span class="line">JList(<span class="keyword">final</span> Vector&lt;? <span class="keyword">extends</span> <span class="title class_">E</span>&gt; listData):创建JList对象，把listData数组中的每项内容转换成一个列表项展示</span><br><span class="line">JComboBox(E[] items):</span><br><span class="line">JComboBox(Vector&lt;E&gt; items):</span><br></pre></td></tr></table></figure></div>

<ol start="2">
<li>设置JList或JComboBox的外观行为</li>
</ol>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">---------------------------JList----------------------------------------------</span><br><span class="line">addSelectionInterval(<span class="type">int</span> anchor, <span class="type">int</span> lead):在已经选中列表项的基础上，增加选中从anchor到lead索引范围内的所有列表项</span><br><span class="line">setFixedCellHeight(<span class="type">int</span> height)/setFixedCellWidth(<span class="type">int</span> width):设置列表项的高度和宽度</span><br><span class="line">setLayoutOrientation(<span class="type">int</span> layoutOrientation)：设置列表框的布局方向</span><br><span class="line">setSelectedIndex(<span class="type">int</span> index)：设置默认选中项</span><br><span class="line">setSelectedIndices(<span class="type">int</span>[] indices)：设置默认选中的多个列表项</span><br><span class="line">setSelectedValue(Object anObject,<span class="type">boolean</span> shouldScroll)：设置默认选中项，并滚动到该项显示</span><br><span class="line">setSelectionBackground(Color selectionBackground)：设置选中项的背景颜色</span><br><span class="line">setSelectionForeground(Color selectionForeground)：设置选中项的前景色</span><br><span class="line">setSelectionInterval(<span class="type">int</span> anchor, <span class="type">int</span> lead):设置从anchor到lead范围内的所有列表项被选中</span><br><span class="line">setSelectionMode(<span class="type">int</span> selectionMode)：设置选中模式，默认没有限制，也可以设置为单选或者区域选中</span><br><span class="line">setVisibleRowCount(<span class="type">int</span> visibleRowCount)：设置列表框的可是高度足以显示多少行列表项</span><br><span class="line">---------------------------JComboBox---------------------------------------------- </span><br><span class="line">setEditable(<span class="type">boolean</span> aFlag)：设置是否可以直接修改列表文本框的值，默认为不可以</span><br><span class="line">setMaximumRowCount(<span class="type">int</span> count)：设置列表框的可是高度足以显示多少行列表项</span><br><span class="line">setSelectedIndex(<span class="type">int</span> anIndex)：设置默认选中项</span><br><span class="line">setSelectedItem(Object anObject)：根据列表项的值，设置默认选中项</span><br></pre></td></tr></table></figure></div>

<ol start="3">
<li>设置监听器，监听列表项的变化，JList通过addListSelectionListener完成，JComboBox通过addItemListener完成</li>
</ol>
<p><strong>案例：</strong></p>
<p>​	使用JList和JComboBox完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051047737.jpg"
                      style="zoom: 67%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.border.EtchedBorder;</span><br><span class="line"><span class="keyword">import</span> javax.swing.border.TitledBorder;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ListSelectionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ListSelectionListener;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ItemEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ItemListener;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListTest</span> &#123;</span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">mainWin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;列表框测试&quot;</span>);</span><br><span class="line">    String[] books = &#123;<span class="string">&quot;java自学宝典&quot;</span>,<span class="string">&quot;轻量级javaEE企业应用实战&quot;</span>,<span class="string">&quot;Android基础教程&quot;</span>,<span class="string">&quot;jQuery实战教程&quot;</span>,<span class="string">&quot;SpringBoot企业级开发&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用一个字符串数组来创建一个JList对象</span></span><br><span class="line">    JList&lt;String&gt; bookList = <span class="keyword">new</span> <span class="title class_">JList</span>&lt;&gt;(books);</span><br><span class="line">    JComboBox&lt;String&gt; bookSelector;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义 布局选择按钮 所在的面板</span></span><br><span class="line">    <span class="type">JPanel</span> <span class="variable">layoutPanel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">    <span class="type">ButtonGroup</span> <span class="variable">layoutGroup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ButtonGroup</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义 选择模式按钮 所在面板</span></span><br><span class="line">    <span class="type">JPanel</span> <span class="variable">selectModePanel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">    <span class="type">ButtonGroup</span> <span class="variable">selectModeGroup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ButtonGroup</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextArea</span> <span class="variable">favorite</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">4</span>,<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//设置JList的可视高度可以同时展示3个列表项</span></span><br><span class="line">        bookList.setVisibleRowCount(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置Jlist默认选中第三项到第五项</span></span><br><span class="line">        bookList.setSelectionInterval(<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line">        addLayoutButton(<span class="string">&quot;纵向滚动&quot;</span>,JList.VERTICAL);</span><br><span class="line">        addLayoutButton(<span class="string">&quot;纵向换行&quot;</span>,JList.VERTICAL_WRAP);</span><br><span class="line">        addLayoutButton(<span class="string">&quot;横向换行&quot;</span>,JList.HORIZONTAL_WRAP);</span><br><span class="line"></span><br><span class="line">        addSelectModeButton(<span class="string">&quot;无限制&quot;</span>, ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);</span><br><span class="line">        addSelectModeButton(<span class="string">&quot;单选&quot;</span>, ListSelectionModel.SINGLE_SELECTION);</span><br><span class="line">        addSelectModeButton(<span class="string">&quot;单范围&quot;</span>, ListSelectionModel.SINGLE_INTERVAL_SELECTION);</span><br><span class="line"></span><br><span class="line">        <span class="type">Box</span> <span class="variable">listBox</span> <span class="operator">=</span> Box.createVerticalBox();</span><br><span class="line">        <span class="comment">//将JList组件放置到JScrollPane中，并将JScrollPane放置到box中</span></span><br><span class="line">        listBox.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(bookList));</span><br><span class="line">        listBox.add(layoutPanel);</span><br><span class="line">        listBox.add(selectModePanel);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为JList添加事件监听器</span></span><br><span class="line">        bookList.addListSelectionListener(<span class="keyword">new</span> <span class="title class_">ListSelectionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">valueChanged</span><span class="params">(ListSelectionEvent e)</span> &#123;</span><br><span class="line">                List&lt;String&gt; selectedValuesList = bookList.getSelectedValuesList();</span><br><span class="line">                favorite.setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (String s : selectedValuesList) &#123;</span><br><span class="line">                    favorite.append(s+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义一个Vector对象</span></span><br><span class="line">        Vector&lt;String&gt; bookCollection = <span class="keyword">new</span> <span class="title class_">Vector</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; books = List.of(<span class="string">&quot;java自学宝典&quot;</span>,<span class="string">&quot;轻量级javaEE企业应用实战&quot;</span>,<span class="string">&quot;Android基础教程&quot;</span>,<span class="string">&quot;jQuery实战教程&quot;</span>,<span class="string">&quot;SpringBoot企业级开发&quot;</span>);</span><br><span class="line">        bookCollection.addAll(books);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建JComboBox对象</span></span><br><span class="line">        bookSelector = <span class="keyword">new</span> <span class="title class_">JComboBox</span>&lt;&gt;(bookCollection);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为JComboBox添加事件监听器</span></span><br><span class="line">        bookSelector.addItemListener(<span class="keyword">new</span> <span class="title class_">ItemListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">itemStateChanged</span><span class="params">(ItemEvent e)</span> &#123;</span><br><span class="line">                <span class="type">Object</span> <span class="variable">selectedItem</span> <span class="operator">=</span> bookSelector.getSelectedItem();</span><br><span class="line">                favorite.setText(selectedItem.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置JComboBox的列表项可编辑</span></span><br><span class="line">        bookSelector.setEditable(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置下拉列表的可视高度最多显示4个列表项</span></span><br><span class="line">        bookSelector.setMaximumRowCount(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">panel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        panel.add(bookSelector);</span><br><span class="line">        <span class="type">Box</span> <span class="variable">box</span> <span class="operator">=</span> Box.createHorizontalBox();</span><br><span class="line">        box.add(listBox);</span><br><span class="line">        box.add(panel);</span><br><span class="line"></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">favoritePanel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        favoritePanel.setLayout(<span class="keyword">new</span> <span class="title class_">BorderLayout</span>());</span><br><span class="line">        favoritePanel.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(favorite));</span><br><span class="line">        favoritePanel.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;您最喜欢的图书：&quot;</span>),BorderLayout.NORTH);</span><br><span class="line"></span><br><span class="line">        mainWin.add(box);</span><br><span class="line">        mainWin.add(favoritePanel,BorderLayout.SOUTH);</span><br><span class="line">        mainWin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        mainWin.pack();</span><br><span class="line">        mainWin.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addLayoutButton</span><span class="params">(String label,<span class="type">int</span> orientation)</span>&#123;</span><br><span class="line">        layoutPanel.setBorder(<span class="keyword">new</span> <span class="title class_">TitledBorder</span>(<span class="keyword">new</span> <span class="title class_">EtchedBorder</span>(),<span class="string">&quot;确定选项布局&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">JRadioButton</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButton</span>(label);</span><br><span class="line"></span><br><span class="line">        layoutPanel.add(button);</span><br><span class="line">        <span class="comment">//默认选中第一个按钮</span></span><br><span class="line">        <span class="keyword">if</span> (layoutGroup.getButtonCount()==<span class="number">0</span>)&#123;</span><br><span class="line">            button.setSelected(<span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        layoutGroup.add(button);</span><br><span class="line">        button.addActionListener(e-&gt;&#123;</span><br><span class="line">            <span class="comment">//改变列表框里列表项的布局方向</span></span><br><span class="line">            bookList.setLayoutOrientation(orientation);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addSelectModeButton</span><span class="params">(String label,<span class="type">int</span> selectMode)</span>&#123;</span><br><span class="line">        selectModePanel.setBorder(<span class="keyword">new</span> <span class="title class_">TitledBorder</span>(<span class="keyword">new</span> <span class="title class_">EtchedBorder</span>(),<span class="string">&quot;确定选择模式&quot;</span>));</span><br><span class="line">        <span class="type">JRadioButton</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButton</span>(label);</span><br><span class="line">        selectModePanel.add(button);</span><br><span class="line">        <span class="keyword">if</span> (selectModeGroup.getButtonCount()==<span class="number">0</span>)&#123;</span><br><span class="line">            button.setSelected(<span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        selectModeGroup.add(button);</span><br><span class="line">        button.addActionListener(e-&gt;&#123;</span><br><span class="line">            bookList.setSelectionMode(selectMode);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ListTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-5-2-不强制存储列表项的ListModel和ComboBoxModel"><a href="#3-5-2-不强制存储列表项的ListModel和ComboBoxModel" class="headerlink" title="3.5.2 不强制存储列表项的ListModel和ComboBoxModel"></a>3.5.2 不强制存储列表项的ListModel和ComboBoxModel</h3><p>与JProgressBar一样，JList和JComboBox也采用了MVC的设计模式，JList和JComboBox只负责外观的显示，而组件底层的状态数据则由对应的Model来维护。JList对应的Model是ListModel接口，JComboBox对应的Model是ComboBox接口，其代码如下：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ListModel</span>&lt;E&gt;&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="title function_">getSize</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">  E <span class="title function_">getElementAt</span><span class="params">(<span class="type">int</span> index)</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">addListDataListener</span><span class="params">(ListDataListener l)</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">removeListDataListener</span><span class="params">(ListDataListener l)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ComboBoxModel</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">ListModel</span>&lt;E&gt; &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">setSelectedItem</span><span class="params">(Object anItem)</span>;</span><br><span class="line"></span><br><span class="line">  Object <span class="title function_">getSelectedItem</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>从上面接口来看，这个 ListMode l 不管 JList 里的所有列表项的存储形式，它甚至不强制存储所有的列表项，只要 ListModel的实现类提供了getSize()和 getElementAt()两个方法 ， JList 就可以根据该ListModel 对象来生成列表框 。ComboBoxModel 继承了 ListModel ，它添加了”选择项”的概念，选择项代表 JComboBox 显示区域内可见的列表项 。 </p>
<p>在使用JList和JComboBox时，除了可以使用jdk提供的Model实现类，程序员自己也可以根据需求，自己定义Model的实现类，实现对应的方法使用。</p>
<p><strong>案例：</strong></p>
<p>​	自定义NumberListModel和NumberComboBoxModel实现类，允许使用数值范围来创建JList和JComboBox</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051048668.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.math.RoundingMode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NumberListModel</span> <span class="keyword">extends</span> <span class="title class_">AbstractListModel</span>&lt;BigDecimal&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> BigDecimal start;</span><br><span class="line">    <span class="keyword">protected</span> BigDecimal end;</span><br><span class="line">    <span class="keyword">protected</span> BigDecimal step;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumberListModel</span><span class="params">(<span class="type">double</span> start,<span class="type">double</span> end,<span class="type">double</span> step)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.start = <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(start);</span><br><span class="line">        <span class="built_in">this</span>.end = <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(end);</span><br><span class="line">        <span class="built_in">this</span>.step = <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(step);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSize</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">floor</span> <span class="operator">=</span> (<span class="type">int</span>) Math.floor(end.subtract(start).divide(step,<span class="number">2</span>, RoundingMode.HALF_DOWN).doubleValue());</span><br><span class="line">        <span class="keyword">return</span> floor+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> BigDecimal <span class="title function_">getElementAt</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BigDecimal.valueOf(index).multiply(step).add(start).setScale(<span class="number">1</span>,RoundingMode.HALF_DOWN);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.math.RoundingMode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NumberComboBoxModel</span> <span class="keyword">extends</span> <span class="title class_">NumberListModel</span> <span class="keyword">implements</span> <span class="title class_">ComboBoxModel</span>&lt;BigDecimal&gt; &#123;</span><br><span class="line">    <span class="comment">//用于保存用户选中项的索引</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">selectId</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumberComboBoxModel</span><span class="params">(<span class="type">double</span> start, <span class="type">double</span> end, <span class="type">double</span> step)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(start, end, step);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置选择项</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSelectedItem</span><span class="params">(Object anItem)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (anItem <span class="keyword">instanceof</span> BigDecimal)&#123;</span><br><span class="line">            <span class="type">BigDecimal</span> <span class="variable">target</span> <span class="operator">=</span> (BigDecimal) anItem;</span><br><span class="line">            selectId = target.subtract(<span class="built_in">super</span>.start).divide(<span class="built_in">super</span>.step,<span class="number">2</span>, RoundingMode.HALF_DOWN).intValue();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取选中项的索引</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> BigDecimal <span class="title function_">getSelectedItem</span><span class="params">()</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> BigDecimal.valueOf(selectId).multiply(step).add(start).setScale(<span class="number">1</span>,RoundingMode.HALF_DOWN);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ListSelectionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.swing.event.ListSelectionListener;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ItemEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ItemListener;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListModelTest</span> &#123;</span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">mainWin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试ListModel&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据NumberListModel对象创建一个JList</span></span><br><span class="line">    JList&lt;BigDecimal&gt; numScopeList = <span class="keyword">new</span> <span class="title class_">JList</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">NumberListModel</span>(<span class="number">1</span>,<span class="number">21</span>,<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据NumberComboBoxModel对象创建一个JComboBox</span></span><br><span class="line">    JComboBox&lt;BigDecimal&gt; numScopeSelector = <span class="keyword">new</span> <span class="title class_">JComboBox</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">NumberComboBoxModel</span>(<span class="number">0.1</span>,<span class="number">1.2</span>,<span class="number">0.1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextField</span> <span class="variable">showVal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextField</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//JList可视高度可同时显示四个列表项</span></span><br><span class="line">        numScopeList.setVisibleRowCount(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//默认选中第三项到第五项</span></span><br><span class="line">        numScopeList.setSelectionInterval(<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置每个列表项具有指定高度和宽度</span></span><br><span class="line">        numScopeList.setFixedCellHeight(<span class="number">30</span>);</span><br><span class="line">        numScopeList.setFixedCellWidth(<span class="number">90</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为numScopeList添加监听器</span></span><br><span class="line">        numScopeList.addListSelectionListener(<span class="keyword">new</span> <span class="title class_">ListSelectionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">valueChanged</span><span class="params">(ListSelectionEvent e)</span> &#123;</span><br><span class="line">                <span class="comment">//获取用户选中的所有数字</span></span><br><span class="line">                List&lt;BigDecimal&gt; selectedValuesList = numScopeList.getSelectedValuesList();</span><br><span class="line">                showVal.setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (BigDecimal bigDecimal : selectedValuesList) &#123;</span><br><span class="line">                    showVal.setText(showVal.getText()+bigDecimal.toString()+<span class="string">&quot;, &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置下拉列表的可视高度可显示5个列表项</span></span><br><span class="line">        numScopeSelector.setMaximumRowCount(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Box</span> <span class="variable">box</span> <span class="operator">=</span> Box.createHorizontalBox();</span><br><span class="line">        box.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(numScopeList));</span><br><span class="line"></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        p.add(numScopeSelector);</span><br><span class="line">        box.add(p);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为numberScopeSelector添加监听器</span></span><br><span class="line">        numScopeSelector.addItemListener(<span class="keyword">new</span> <span class="title class_">ItemListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">itemStateChanged</span><span class="params">(ItemEvent e)</span> &#123;</span><br><span class="line">                <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> numScopeSelector.getSelectedItem();</span><br><span class="line">                showVal.setText(value.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">bottom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        bottom.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;您选择的值是：&quot;</span>));</span><br><span class="line">        bottom.add(showVal);</span><br><span class="line"></span><br><span class="line">        mainWin.add(box);</span><br><span class="line">        mainWin.add(bottom, BorderLayout.SOUTH);</span><br><span class="line">        mainWin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        mainWin.pack();</span><br><span class="line">        mainWin.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ListModelTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-5-3-强制存储列表项的DefaultListModel和DefaultComboBoxModel"><a href="#3-5-3-强制存储列表项的DefaultListModel和DefaultComboBoxModel" class="headerlink" title="3.5.3 强制存储列表项的DefaultListModel和DefaultComboBoxModel"></a>3.5.3 强制存储列表项的DefaultListModel和DefaultComboBoxModel</h3><p>前面只是介绍了如何创建 JList 、 JComboBox 对象， 当 调用 JList 和 JComboBox构造方法时时传入数组或 Vector 作为参数，这些数组元素或集合元素将会作为列表项。当使用JList 或 JComboBox 时 常常还需要动态地增加、删除列表项,例如JCombox提供了下列方法完成增删操作：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">addItem(E item):添加一个列表项</span><br><span class="line">insertItemAt(E item, <span class="type">int</span> index)：向指定索引处插入一个列表项</span><br><span class="line">removeAllItems()：删除所有列表项</span><br><span class="line">removeItem(Object anObject)：删除指定列表项</span><br><span class="line">removeItemAt(<span class="type">int</span> anIndex)：删除指定索引处的列表项</span><br></pre></td></tr></table></figure></div>

<p>JList 并没有提供这些类似的方法。如果需要创建一个可以增加、删除列表项的 JList 对象，则应该在创建 JLi st 时显式使用 DefaultListModel作为构造参数 。因为 DefaultListModel 作为 JList 的 Model，它负责维护 JList 组件的所有列表数据，所以可以通过向 DefaultListModel 中添加、删除元素来实现向 JList 对象中增加 、删除列表项 。DefaultListModel 提供了如下几个方法来添加、删除元素:</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">add(<span class="type">int</span> index, E element): 在该 ListModel 的指定位置处插入指定元素 。</span><br><span class="line">addElement(E obj): 将指定元素添加到该 ListModel 的末尾 。</span><br><span class="line">insertElementAt(E obj, <span class="type">int</span> index): 在该 ListModel 的指定位置处插入指定元素 。</span><br><span class="line">Object <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span>: 删除该 ListModel 中指定位置处的元素 </span><br><span class="line">removeAllElements(): 删 除该 ListModel 中的所有元素，并将其的大小设置为零 。</span><br><span class="line">removeElement(E obj): 删除该 ListModel 中第一个与参数匹配的元素。</span><br><span class="line">removeElementAt(<span class="type">int</span> index): 删除该 ListModel 中指定索引处的元素 。</span><br><span class="line">removeRange(<span class="type">int</span> 企omIndex ， <span class="type">int</span> toIndex): 删除该 ListModel 中指定范围内的所有元素。</span><br><span class="line">set(<span class="type">int</span> index, E element) : 将该 ListModel 指定索引处的元素替换成指定元素。</span><br><span class="line">setElementAt(E obj, <span class="type">int</span> index): 将该 ListModel 指定索引处的元素替换成指定元素。</span><br></pre></td></tr></table></figure></div>

<p><strong>案例：</strong></p>
<p>​	使用DefaultListModel完成下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051048380.jpg"
                     
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DefaultListModelTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">JFrame</span> <span class="variable">mainWin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;测试DefaultListModel&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个JList对象</span></span><br><span class="line">    JList&lt;String&gt; bookList;</span><br><span class="line">    <span class="comment">//定义一个DefaultListModel对象</span></span><br><span class="line">    DefaultListModel&lt;String&gt; bookModel = <span class="keyword">new</span> <span class="title class_">DefaultListModel</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="type">JTextField</span> <span class="variable">bookName</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextField</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">JButton</span> <span class="variable">removeBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;删除选中图书&quot;</span>);</span><br><span class="line">    <span class="type">JButton</span> <span class="variable">addBtn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;添加指定图书&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//向bookModel中添加元素</span></span><br><span class="line">        bookModel.addElement(<span class="string">&quot;java自学宝典&quot;</span>);</span><br><span class="line">        bookModel.addElement(<span class="string">&quot;轻量级javaEE企业应用实战&quot;</span>);</span><br><span class="line">        bookModel.addElement(<span class="string">&quot;Android基础教程&quot;</span>);</span><br><span class="line">        bookModel.addElement(<span class="string">&quot;jQuery实战教程&quot;</span>);</span><br><span class="line">        bookModel.addElement(<span class="string">&quot;SpringBoot企业级开发&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据DefaultListModel创建一个JList对象</span></span><br><span class="line">        bookList = <span class="keyword">new</span> <span class="title class_">JList</span>&lt;&gt;(bookModel);</span><br><span class="line">        <span class="comment">//设置最大可视高度</span></span><br><span class="line">        bookList.setVisibleRowCount(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置只能单选</span></span><br><span class="line">        bookList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为addBtn添加事件监听器</span></span><br><span class="line">        addBtn.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="comment">//当bookName文本框内容不为空时添加列表项</span></span><br><span class="line">                <span class="keyword">if</span> (!bookName.getText().trim().equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line"></span><br><span class="line">                    bookModel.addElement(bookName.getText());</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为removeBtn添加事件监听器</span></span><br><span class="line">        removeBtn.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">selectedIndex</span> <span class="operator">=</span> bookList.getSelectedIndex();</span><br><span class="line">                <span class="keyword">if</span> (selectedIndex&gt;=<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">                    bookModel.remove(selectedIndex);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        p.add(bookName);</span><br><span class="line">        p.add(addBtn);</span><br><span class="line">        p.add(removeBtn);</span><br><span class="line"></span><br><span class="line">        mainWin.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(bookList));</span><br><span class="line">        mainWin.add(p, BorderLayout.SOUTH);</span><br><span class="line">        mainWin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        mainWin.pack();</span><br><span class="line">        mainWin.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">DefaultListModelTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h3 id="3-5-4-使用ListCellRenderer改变列表外观"><a href="#3-5-4-使用ListCellRenderer改变列表外观" class="headerlink" title="3.5.4 使用ListCellRenderer改变列表外观"></a>3.5.4 使用ListCellRenderer改变列表外观</h3><p>前面程序中的 JList 和 JComboBox 采用的都是简单的字符串列表项， 实际上 ， JList 和 JComboBox还可以支持图标列表项，如果在创建 JList 或 JComboBox 时传入图标数组，则创建的 JList 和 JComboBox的列表项就是图标 。</p>
<p>如果希望列表项是更复杂 的组件，例如，希望像 QQ 程序那样每个列表项既有图标，此时需要使用ListCellRenderer接口的实现类对象，自定义每个条目组件的渲染过程：</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ListCellRenderer</span>&lt;E&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Component <span class="title function_">getListCellRendererComponent</span><span class="params">(</span></span><br><span class="line"><span class="params">        JList&lt;? extends E&gt; list,//列表组件</span></span><br><span class="line"><span class="params">        E value,//当前列表项的值额索引</span></span><br><span class="line"><span class="params">        <span class="type">int</span> index,//当前列表项d</span></span><br><span class="line"><span class="params">        <span class="type">boolean</span> isSelected,//当前列表项是否被选中</span></span><br><span class="line"><span class="params">        <span class="type">boolean</span> cellHasFocus)</span>;<span class="comment">//当前列表项是否获取了焦点</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>通过JList的<code>setCellRenderer(ListCellRenderer&lt;? super E&gt; cellRenderer)</code>方法，把自定义的ListCellRenderer对象传递给JList，就可以按照自定义的规则绘制列表项组件了。</p>
<p><strong>案例：</strong></p>
<p>​	使用ListCellRenderer实现下图效果：</p>
<p>​	<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://forming1picgp.oss-cn-nanjing.aliyuncs.com/img/202309051048481.jpg"
                      style="zoom:50%;" 
                ></p>
<p><strong>演示代码：</strong></p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.itcast.swing.util.ImagePathUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListCellRendererTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">JFrame</span> <span class="variable">mainWin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>(<span class="string">&quot;好友列表&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String[] friends = &#123;</span><br><span class="line">            <span class="string">&quot;李清照&quot;</span>,</span><br><span class="line">            <span class="string">&quot;苏格拉底&quot;</span>,</span><br><span class="line">            <span class="string">&quot;李白&quot;</span>,</span><br><span class="line">            <span class="string">&quot;弄玉&quot;</span>,</span><br><span class="line">            <span class="string">&quot;虎头&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义一个JList对象</span></span><br><span class="line">    <span class="type">JList</span> <span class="variable">friendsList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JList</span>(friends);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//设置JList使用ImageCellRenderer作为列表项绘制器</span></span><br><span class="line">        friendsList.setCellRenderer(<span class="keyword">new</span> <span class="title class_">ImageCellRenderer</span>());</span><br><span class="line"></span><br><span class="line">        mainWin.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(friendsList));</span><br><span class="line">        mainWin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        mainWin.pack();</span><br><span class="line">        mainWin.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ListCellRendererTest</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">ImageCellRenderer</span> <span class="keyword">extends</span> <span class="title class_">JPanel</span> <span class="keyword">implements</span> <span class="title class_">ListCellRenderer</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> ImageIcon icon;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">        <span class="comment">//定义绘制单元格的背景色</span></span><br><span class="line">        <span class="keyword">private</span> Color background;</span><br><span class="line">        <span class="comment">//定义绘制单元格的前景色</span></span><br><span class="line">        <span class="keyword">private</span> Color foreground;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Component <span class="title function_">getListCellRendererComponent</span><span class="params">(JList list, Object value, <span class="type">int</span> index, <span class="type">boolean</span> isSelected, <span class="type">boolean</span> cellHasFocus)</span> &#123;</span><br><span class="line"></span><br><span class="line">            icon = <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(ImagePathUtil.getRealPath(<span class="string">&quot;9\\&quot;</span> + value + <span class="string">&quot;.gif&quot;</span>));</span><br><span class="line">            name = value.toString();</span><br><span class="line">            background = isSelected ? list.getSelectionBackground() : list.getBackground();</span><br><span class="line">            foreground = isSelected ? list.getSelectionForeground() : list.getForeground();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//返回当前JPanel对象，作为列表项绘制器</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">paintComponent</span><span class="params">(Graphics g)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">width</span> <span class="operator">=</span> icon.getImage().getWidth(<span class="literal">null</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">height</span> <span class="operator">=</span> icon.getImage().getHeight(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//填充背景矩形</span></span><br><span class="line">            g.setColor(background);</span><br><span class="line">            g.fillRect(<span class="number">0</span>,<span class="number">0</span>,getWidth(),getHeight());</span><br><span class="line"></span><br><span class="line">            g.setColor(foreground);</span><br><span class="line">            <span class="comment">//绘制好友头像</span></span><br><span class="line">            g.drawImage(icon.getImage(),getWidth()/<span class="number">2</span>-width/<span class="number">2</span>,<span class="number">10</span>,<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//绘制好友昵称</span></span><br><span class="line">            g.setFont(<span class="keyword">new</span> <span class="title class_">Font</span>(<span class="string">&quot;SansSerif&quot;</span>,Font.BOLD,<span class="number">18</span>));</span><br><span class="line">            g.drawString(name,getWidth()/<span class="number">2</span>-name.length()*<span class="number">10</span>,height+<span class="number">30</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Dimension <span class="title function_">getPreferredSize</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Dimension</span>(<span class="number">60</span>,<span class="number">80</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>










            </div>

            

            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                            rel="prev"
                            href="/2023/09/09/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E5%A4%B1%E8%B4%A5%E9%94%99%E8%AF%AF/"
                            >
                                <span class="left arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </span>
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">记一次数据库连接失败错误</span>
                                    <span class="post-nav-item">Prev posts</span>
                                </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/2023/09/04/%E5%88%9D%E8%AF%86JSP/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">初识JSP</span>
                                    <span class="post-nav-item">Next posts</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">JAVA图形化编程基础</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#AWT-%E7%BC%96%E7%A8%8B"><span class="nav-text">AWT 编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-AWT%E7%AE%80%E4%BB%8B"><span class="nav-text">1.1 AWT简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-AWT%E7%BB%A7%E6%89%BF%E4%BD%93%E7%B3%BB"><span class="nav-text">1.2 AWT继承体系</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8B%E9%9D%A2%E4%BD%BF%E5%85%B6%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6-%EF%BC%9A"><span class="nav-text">下面使其常用组件 ：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-Container%E5%AE%B9%E5%99%A8"><span class="nav-text">1.3 Container容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-Container%E7%BB%A7%E6%89%BF%E4%BD%93%E7%B3%BB"><span class="nav-text">1.3.1 Container继承体系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-2-%E5%B8%B8%E8%A7%81API"><span class="nav-text">1.3.2 常见API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-3-%E5%AE%B9%E5%99%A8%E6%BC%94%E7%A4%BA"><span class="nav-text">1.3.3 容器演示</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-3-1-Window"><span class="nav-text">1.3.3.1 Window</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-3-2-Panel"><span class="nav-text">2.3.3.2 Panel</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-3-3-ScrollPane"><span class="nav-text">2.3.3.3 ScrollPane</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-LayoutManager%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">1.4 LayoutManager布局管理器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-FlowLayout-%E6%B5%81%E5%BC%8F%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">1.4.1 FlowLayout  流式布局管理器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-2-BorderLayout-%E8%BE%B9%E6%A1%86%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">1.4.2 BorderLayout 边框布局管理器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-3-GridLayout-%E7%BD%91%E6%A0%BC%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">1.4.3 GridLayout   网格布局管理器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-4-GridBagLayout-%E7%BD%91%E6%A0%BC%E5%8C%85%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">1.4.4 GridBagLayout  网格包布局管理器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-5-CardLayout-%E5%8D%A1%E7%89%87%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">1.4.5 CardLayout 卡片布局管理器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-6-BoxLayout-%E7%9B%92%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">1.4.6 BoxLayout  盒布局管理器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-AWT%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="nav-text">1.5 AWT中常用组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-1-%E5%9F%BA%E6%9C%AC%E7%BB%84%E4%BB%B6"><span class="nav-text">1.5.1 基本组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#CheckBoxGroup%E8%AF%AD%E6%B3%95%E5%AE%9E%E4%BE%8B%EF%BC%9A"><span class="nav-text">CheckBoxGroup语法实例：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-2-%E5%AF%B9%E8%AF%9D%E6%A1%86Dialog"><span class="nav-text">1.5.2 对话框Dialog</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-2-1-Dialog"><span class="nav-text">1.5.2.1 Dialog</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-2-1-FileDialog"><span class="nav-text">1.5.2.1 FileDialog</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="nav-text">1.6 事件处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-1-GUI%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><span class="nav-text">1.6.1 GUI事件处理机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-2-GUI%E4%B8%AD%E5%B8%B8%E8%A7%81%E4%BA%8B%E4%BB%B6%E5%92%8C%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8"><span class="nav-text">1.6.2 GUI中常见事件和事件监听器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-6-2-1-%E4%BA%8B%E4%BB%B6"><span class="nav-text">1.6.2.1 事件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-6-2-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8"><span class="nav-text">1.6.2 事件监听器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-3-%E6%A1%88%E4%BE%8B"><span class="nav-text">1.6.3 案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7-%E8%8F%9C%E5%8D%95%E7%BB%84%E4%BB%B6"><span class="nav-text">1.7 菜单组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B1%EF%BC%9A"><span class="nav-text">案例1：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B2%EF%BC%9A"><span class="nav-text">案例2：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#panel-setPreferredSize-new-Dimension-300-100-%E7%9A%84%E8%A7%A3%E9%87%8A"><span class="nav-text">panel.setPreferredSize(new Dimension(300,100));的解释</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-%E7%BB%98%E5%9B%BE"><span class="nav-text">1.8 绘图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-1-%E7%BB%84%E4%BB%B6%E7%BB%98%E5%9B%BE%E5%8E%9F%E7%90%86"><span class="nav-text">1.8.1 组件绘图原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-2-Graphics%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">1.8.2 Graphics类的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-3-%E5%A4%84%E7%90%86%E4%BD%8D%E5%9B%BE"><span class="nav-text">1.8.3 处理位图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-4-ImageIO%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">1.8.4  ImageIO的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-5-%E4%BA%94%E5%AD%90%E6%A3%8B"><span class="nav-text">1.8.5 五子棋</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Swing-%E7%BC%96%E7%A8%8B"><span class="nav-text">Swing 编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-Swing%E6%A6%82%E8%BF%B0"><span class="nav-text">2.1 Swing概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-Swing%E5%9F%BA%E6%9C%AC%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95"><span class="nav-text">3.2 Swing基本组件的用法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-Swing%E7%BB%84%E4%BB%B6%E5%B1%82%E6%AC%A1"><span class="nav-text">3.2.1 Swing组件层次</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-AWT%E7%BB%84%E4%BB%B6%E7%9A%84Swing%E5%AE%9E%E7%8E%B0"><span class="nav-text">3.2.2 AWT组件的Swing实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-3-%E4%B8%BA%E7%BB%84%E4%BB%B6%E8%AE%BE%E7%BD%AE%E8%BE%B9%E6%A1%86"><span class="nav-text">3.2.3 为组件设置边框</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-4-%E4%BD%BF%E7%94%A8JToolBar%E5%88%9B%E5%BB%BA%E5%B7%A5%E5%85%B7%E6%9D%A1"><span class="nav-text">3.2.4 使用JToolBar创建工具条</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-5-JColorChooser-%E5%92%8CJFileChooser"><span class="nav-text">3.2.5 JColorChooser 和JFileChooser</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-5-1-JColorChooser"><span class="nav-text">3.2.5.1 JColorChooser</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-5-2-JFileChooser"><span class="nav-text">3.2.5.2 JFileChooser</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-7-%E4%BD%BF%E7%94%A8JOptionPane"><span class="nav-text">3.2.7 使用JOptionPane</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-7-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E8%BF%B0"><span class="nav-text">3.2.7.1 基本概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-7-2-%E5%9B%9B%E7%A7%8D%E5%AF%B9%E8%AF%9D%E6%A1%86%E6%BC%94%E7%A4%BA"><span class="nav-text">3.2.7.2 四种对话框演示</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-Swing%E4%B8%AD%E7%9A%84%E7%89%B9%E6%AE%8A%E5%AE%B9%E5%99%A8"><span class="nav-text">3.3 Swing中的特殊容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-1-%E4%BD%BF%E7%94%A8JSplitPane"><span class="nav-text">3.3.1 使用JSplitPane</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-%E4%BD%BF%E7%94%A8JTabledPane"><span class="nav-text">3.3.2 使用JTabledPane</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-3-%E4%BD%BF%E7%94%A8JLayeredPane%E3%80%81JDesktopPane%E3%80%81JInternalFrame"><span class="nav-text">3.3.3 使用JLayeredPane、JDesktopPane、JInternalFrame</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-3-1-JLayeredPane"><span class="nav-text">3.3.3.1 JLayeredPane</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-3-2-JDesktopPane%E5%92%8CJInternalFrame"><span class="nav-text">3.3.3.2 JDesktopPane和JInternalFrame</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-JProcessBar%E3%80%81ProcessMonitor%E3%80%81BoundedRangeModel%E5%AE%9E%E7%8E%B0%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="nav-text">3.4 JProcessBar、ProcessMonitor、BoundedRangeModel实现进度条</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-1-%E5%88%9B%E5%BB%BA%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="nav-text">3.4.1 创建进度条</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-2-%E5%88%9B%E5%BB%BA%E8%BF%9B%E5%BA%A6%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="nav-text">3.4.2 创建进度对话框</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-JList%E3%80%81JComboBox%E5%AE%9E%E7%8E%B0%E5%88%97%E8%A1%A8%E6%A1%86"><span class="nav-text">3.5 JList、JComboBox实现列表框</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-1-%E7%AE%80%E5%8D%95%E5%88%97%E8%A1%A8%E6%A1%86"><span class="nav-text">3.5.1 简单列表框</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-2-%E4%B8%8D%E5%BC%BA%E5%88%B6%E5%AD%98%E5%82%A8%E5%88%97%E8%A1%A8%E9%A1%B9%E7%9A%84ListModel%E5%92%8CComboBoxModel"><span class="nav-text">3.5.2 不强制存储列表项的ListModel和ComboBoxModel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-3-%E5%BC%BA%E5%88%B6%E5%AD%98%E5%82%A8%E5%88%97%E8%A1%A8%E9%A1%B9%E7%9A%84DefaultListModel%E5%92%8CDefaultComboBoxModel"><span class="nav-text">3.5.3 强制存储列表项的DefaultListModel和DefaultComboBoxModel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-4-%E4%BD%BF%E7%94%A8ListCellRenderer%E6%94%B9%E5%8F%98%E5%88%97%E8%A1%A8%E5%A4%96%E8%A7%82"><span class="nav-text">3.5.4 使用ListCellRenderer改变列表外观</span></a></li></ol></li></ol></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>



        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2022</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-regular fa-computer-classic"></i>&nbsp;&nbsp;<a href="/">HJD</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        VISITOR COUNT&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        TOTAL PAGE VIEWS&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a></span>
                <br> 
            <span class="theme-version-container">THEME&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v1.1.6</a>
        </div>
        
        
        
            <div id="start_time_div" style="display:none">
                2022/8/17 11:45:14
            </div>
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="unfolded-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="folded-tools-list">
        <li class="right-bottom-tools tool-toggle-show flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    


</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/layouts/menu-shrink.js"></script>

<script src="/js/tools/go-top-bottom.js"></script>

<script src="/js/tools/dark-light-toggle.js"></script>



    
<script src="/js/tools/local-search.js"></script>




    
<script src="/js/tools/code-block.js"></script>




    
<script src="/js/layouts/lazyload.js"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/layouts/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">





<div class="post-scripts pjax">
    
        
<script src="/js/tools/toc-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/layouts/toc.js"></script>

<script src="/js/plugins/tabs.js"></script>

    
    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            REDEFINE.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            REDEFINE.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            REDEFINE.refresh();
        });
    });
</script>




    <div id="aplayer"></div>

    
<script src="/js/libs/APlayer.min.js"></script>

    
<script src="/js/plugins/aplayer.js"></script>



</body>
</html>
